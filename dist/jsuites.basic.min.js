(function(p,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):p.jSuites=b()})(this,function(){var p=function(b){var c={},a=function(d,h){return d[h.type]&&d[h.type]==h?!0:d.parentNode?a(d.parentNode,h):!1},g=function(d){if(0<p.current.length)for(var h=0;h<p.current.length;h++)p.current[h]&&!a(d.target,p.current[h])&&p.current[h].close()};c.init=function(){document.addEventListener("click",g);c.version="4.3.4"};c.tracking=
function(d,h){if(1==h)p.current=p.current.filter(function(k){return null!==k}),setTimeout(function(){p.current.push(d)},0);else{var f=p.current.indexOf(d);0<=f&&(p.current[f]=null)}};c.path=function(d){d=d.split(".");if(d.length){for(var h=this,f;f=d.shift();)h=h[f];return h}return!1};c.current=[];return c}();"undefined"!==typeof document&&p.init();p.ajax=function(b,c){if(Array.isArray(b)){var a={instance:[],complete:c};if(0<b.length)for(var g=0;g<b.length;g++)b[g].multiple=a,a.instance.push(p.ajax(b[g]));
return a}b.data||(b.data={});b.type&&(b.method=b.type);b.method||(b.method="GET");b.dataType||(b.dataType="json");if(b.data){var d=function(u,v){var e=[],r=Object.keys(u);if(r.length)for(var A=0;A<r.length;A++){var H=v?v+"["+r[A]+"]":r[A];if("object"==typeof u[r[A]]){H=d(u[r[A]],H);for(var G=Object.keys(H),I=0;I<G.length;I++)e[G[I]]=H[G[I]]}else e[H]=u[r[A]]}return e};a=[];var h=d(b.data),f=Object.keys(h);for(g=0;g<f.length;g++)a.push(f[g]+"="+encodeURIComponent(h[f[g]]));"GET"==b.method&&0<a.length&&
(0>b.url.indexOf("?")&&(b.url+="?"),b.url+=a.join("&"))}var k=new XMLHttpRequest;k.open(b.method,b.url,!0);k.setRequestHeader("X-Requested-With","XMLHttpRequest");"POST"==b.method?(k.setRequestHeader("Accept","application/json"),k.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==b.dataType?k.setRequestHeader("Content-Type","text/json"):"blob"==b.dataType&&(k.responseType="blob");1!=b.cache&&(k.setRequestHeader("pragma","no-cache"),k.setRequestHeader("cache-control","no-cache"));
1==b.withCredentials&&(k.withCredentials=!0);"function"==typeof b.beforeSend&&b.beforeSend(k);k.onload=function(){if(200===k.status)if("json"==b.dataType)try{var u=JSON.parse(k.responseText);b.success&&"function"==typeof b.success&&b.success(u)}catch(e){b.error&&"function"==typeof b.error&&b.error(e,u)}else u="blob"==b.dataType?k.response:k.responseText,b.success&&"function"==typeof b.success&&b.success(u);else b.error&&"function"==typeof b.error&&b.error(k.responseText);p.ajax.queue&&0<p.ajax.queue.length&&
p.ajax.send(p.ajax.queue.shift());if(p.ajax.requests&&p.ajax.requests.length){var v=p.ajax.requests.indexOf(k);p.ajax.requests.splice(v,1);p.ajax.requests.length||(b.complete&&"function"==typeof b.complete&&b.complete(u),p.ajax.oncomplete&&"function"==typeof p.ajax.oncomplete[b.group]&&(p.ajax.oncomplete[b.group](),p.ajax.oncomplete[b.group]=null));b.multiple&&b.multiple.instance&&(v=b.multiple.instance.indexOf(k),b.multiple.instance.splice(v,1),b.multiple.instance.length||b.multiple.complete&&"function"==
typeof b.multiple.complete&&b.multiple.complete(u))}};k.data=a;1==b.queue&&0<p.ajax.requests.length?p.ajax.queue.push(k):p.ajax.send(k);return k};p.ajax.send=function(b){b.data?b.send(b.data.join("&")):b.send();p.ajax.requests.push(b)};p.ajax.exists=function(b,c){var a=new XMLHttpRequest;a.open("HEAD",b,!1);a.send();a.status&&c(a.status)};p.ajax.oncomplete={};p.ajax.requests=[];p.ajax.queue=[];p.animation={};p.animation.slideLeft=function(b,c,a){1==c?(b.classList.add("slide-left-in"),setTimeout(function(){b.classList.remove("slide-left-in");
"function"==typeof a&&a()},400)):(b.classList.add("slide-left-out"),setTimeout(function(){b.classList.remove("slide-left-out");"function"==typeof a&&a()},400))};p.animation.slideRight=function(b,c,a){1==c?(b.classList.add("slide-right-in"),setTimeout(function(){b.classList.remove("slide-right-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-right-out"),setTimeout(function(){b.classList.remove("slide-right-out");"function"==typeof a&&a()},400))};p.animation.slideTop=function(b,c,a){1==
c?(b.classList.add("slide-top-in"),setTimeout(function(){b.classList.remove("slide-top-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-top-out"),setTimeout(function(){b.classList.remove("slide-top-out");"function"==typeof a&&a()},400))};p.animation.slideBottom=function(b,c,a){1==c?(b.classList.add("slide-bottom-in"),setTimeout(function(){b.classList.remove("slide-bottom-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-bottom-out"),setTimeout(function(){b.classList.remove("slide-bottom-out");
"function"==typeof a&&a()},100))};p.animation.fadeIn=function(b,c){b.style.display="";b.classList.add("fade-in");setTimeout(function(){b.classList.remove("fade-in");"function"==typeof c&&c()},2E3)};p.animation.fadeOut=function(b,c){b.classList.add("fade-out");setTimeout(function(){b.style.display="none";b.classList.remove("fade-out");"function"==typeof c&&c()},1E3)};p.calendar=function(b,c){if(b.calendar)return b.calendar.setOptions(c,!0);var a={type:"calendar",options:{},date:null,setOptions:function(n,
w){var D={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsFull:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays_short:"SMTWTFS".split(""),textDone:"Done",textReset:"Reset",textUpdate:"Update",value:null,fullscreen:!1,
opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null},C;for(C in D)if(n&&n.hasOwnProperty(C))a.options[C]=n[C];else if("undefined"==typeof a.options[C]||!0===w)a.options[C]=D[C];k.style.display=0==a.options.resetButton?"none":"";a.options.readonly?b.setAttribute("readonly","readonly"):b.removeAttribute("readonly");a.options.placeholder?b.setAttribute("placeholder",a.options.placeholder):b.removeAttribute("placeholder");k.innerHTML=a.options.textReset;u.innerHTML=
a.options.textDone;l.value=a.options.textUpdate;b.setAttribute("data-mask",a.options.format.toLowerCase());if(D=!a.options.value&&a.options.today?p.calendar.now():a.options.value)a.options.value=null,a.setValue(D);return a},open:function(n){if(!f.classList.contains("jcalendar-focus")&&!f.classList.contains("jcalendar-inline")){p.calendar.current=a;p.tracking(a,!0);a.getDays();"year-month-picker"==a.options.type&&a.getMonths();a.options.time&&(q.value=a.date[3],B.value=a.date[4]);f.classList.add("jcalendar-focus");
if(800>p.getWindowWidth()||a.options.fullscreen)f.classList.add("jcalendar-fullsize"),p.animation.slideBottom(e,1);else{f.classList.remove("jcalendar-fullsize");n=b.getBoundingClientRect();var w=e.getBoundingClientRect();a.options.position?(v.style.position="fixed",v.style.top=window.innerHeight<n.bottom+w.height?n.top-(w.height+2)+"px":n.top+n.height+2+"px",v.style.left=n.left+"px"):window.innerHeight<n.bottom+w.height?v.style.bottom=1*n.height+w.height+2+"px":v.style.top="2px"}if("function"==typeof a.options.onopen)a.options.onopen(b)}},
close:function(n,w){if(f.classList.contains("jcalendar-focus")){if(!1!==w){var D=f.querySelector(".jcalendar-selected");D="string"==typeof w?w:!D||D.classList.contains("jcalendar-disabled")?a.options.value:a.getValue();a.setValue(D)}if(!n&&"function"==typeof a.options.onclose)a.options.onclose(b);f.classList.remove("jcalendar-focus");p.tracking(a,!1);p.calendar.current=null}return a.options.value},prev:function(){"years"==a.options.mode?(a.date[0]-=12,a.getYears()):"months"==a.options.mode?(a.date[0]=
parseInt(a.date[0])-1,a.getMonths()):(2>a.date[1]?(--a.date[0],a.date[1]=12):--a.date[1],a.getDays())},next:function(){"years"==a.options.mode?(a.date[0]=parseInt(a.date[0])+12,a.getYears()):"months"==a.options.mode?(a.date[0]=parseInt(a.date[0])+1,a.getMonths()):(11<a.date[1]?(a.date[0]=parseInt(a.date[0])+1,a.date[1]=1):a.date[1]=parseInt(a.date[1])+1,a.getDays())},setToday:function(){var n=(new Date).toISOString().substr(0,10);a.setValue(n);return n},setValue:function(n){n||(n=""+n);var w=n,D=
a.options.value;if(D!=w){if(w){a.setLabel(w,a.options);var C=w.split(" ");C[1]||(C[1]="00:00:00");var E=C[1].split(":");C=C[0].split("-");n=parseInt(C[0]);var x=parseInt(C[1]);C=parseInt(C[2]);var y=parseInt(E[0]);E=parseInt(E[1]);a.date=[n,x,C,y,E,0];n=a.setLabel(w,a.options)}else a.date=null,n="";a.options.value=w;if("function"==typeof a.options.onchange)a.options.onchange(b,w,D);if(b.value!=n&&(b.value=n,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})}a.getDays()},
getValue:function(){return a.date?a.options.time?p.two(a.date[0])+"-"+p.two(a.date[1])+"-"+p.two(a.date[2])+" "+p.two(a.date[3])+":"+p.two(a.date[4])+":"+p.two(0):p.two(a.date[0])+"-"+p.two(a.date[1])+"-"+p.two(a.date[2])+" "+p.two(0)+":"+p.two(0)+":"+p.two(0):""},update:function(n,w){if(!n.classList.contains("jcalendar-disabled")){var D=f.querySelector(".jcalendar-selected");D&&D.classList.remove("jcalendar-selected");n.classList.add("jcalendar-selected");n.classList.contains("jcalendar-set-month")?
a.date[1]=w:a.date[2]=n.innerText;a.options.time?(a.date[3]=q.value,a.date[4]=B.value):a.close()}h()},reset:function(){a.setValue("");a.date=null;a.close(!1,!1)},getDays:function(){a.options.mode="days";var n=new Date,w=a.date&&p.isNumeric(a.date[0])?a.date[0]:parseInt(n.getFullYear()),D=a.date&&p.isNumeric(a.date[1])?a.date[1]:parseInt(n.getMonth())+1,C=a.date&&p.isNumeric(a.date[2])?a.date[2]:parseInt(n.getDate()),E=a.date&&p.isNumeric(a.date[3])?a.date[3]:parseInt(n.getHours()),x=a.date&&p.isNumeric(a.date[4])?
a.date[4]:parseInt(n.getMinutes());a.date=[w,D,C,E,x,0];r.innerHTML=w;A.innerHTML=a.options.months[D-1];E=n.getMonth()==D-1&&n.getFullYear()==w?!0:!1;x=n.getDate();n=new Date(w,D,0,0,0);var y=n.getDate();n=new Date(w,D-1,0,0,0);n=n.getDay()+1;var m=a.options.startingDay||0;n-=m;G.innerHTML="";var t=document.createElement("tr");t.setAttribute("align","center");G.appendChild(t);for(var z=0;7>z;z++){var F=document.createElement("td");F.classList.add("jcalendar-weekday");F.innerHTML=a.options.weekdays_short[m];
t.appendChild(F);m++;6<m&&(m=0)}for(var J=m=0,M=0;6>M;M++){t=document.createElement("tr");t.setAttribute("align","center");var N=!0;for(z=0;7>z;z++){F=document.createElement("td");F.classList.add("jcalendar-set-day");if(m>=n&&m<n+y){J++;F.innerHTML=J;J==C&&F.classList.add("jcalendar-selected");E&&x==J&&(F.style.fontWeight="bold");N=p.calendar.now(new Date(w,D-1,J),!0);if(a.options.validRange){var P=!a.options.validRange[1]||N<=a.options.validRange[1]?!0:!1;(!a.options.validRange[0]||N>=a.options.validRange[0])&&
P||F.classList.add("jcalendar-disabled")}N=!1}t.appendChild(F);m++}0==N&&G.appendChild(t)}L.style.display=a.options.time?"":"none";h()},getMonths:function(){a.options.mode="months";var n=a.options.months,w=new Date,D=parseInt(w.getFullYear());w=parseInt(w.getMonth())+1;var C=a.date&&p.isNumeric(a.date[0])?a.date[0]:D,E=a.date&&p.isNumeric(a.date[1])?a.date[1]:w;r.innerHTML=a.date[0];A.innerHTML=n[E-1];var x=document.createElement("table");x.setAttribute("width","100%");for(var y=null,m=0;12>m;m++){m%
4||(y=document.createElement("tr"),y.setAttribute("align","center"),x.appendChild(y));var t=document.createElement("td");t.classList.add("jcalendar-set-month");t.setAttribute("data-value",m+1);t.innerText=n[m];if(a.options.validRange){var z=C+"-"+p.two(m+1),F=!a.options.validRange[0]||z>=a.options.validRange[0].substr(0,7)?!0:!1;z=!a.options.validRange[1]||z<=a.options.validRange[1].substr(0,7)?!0:!1;F&&z||t.classList.add("jcalendar-disabled")}m+1==E&&t.classList.add("jcalendar-selected");D==C&&m+
1==w&&(t.style.fontWeight="bold");y.appendChild(t)}G.innerHTML='<tr><td colspan="7"></td></tr>';G.children[0].children[0].appendChild(x);h()},getYears:function(){a.options.mode="years";var n=new Date,w=n.getFullYear();n=a.date&&p.isNumeric(a.date[0])?a.date[0]:parseInt(n.getFullYear());for(var D=[],C=0;25>C;C++)D[C]=parseInt(a.date[0])+(C-12);var E=document.createElement("table");E.setAttribute("width","100%");for(C=0;25>C;C++){if(!(C%5)){var x=document.createElement("tr");x.setAttribute("align",
"center");E.appendChild(x)}var y=document.createElement("td");y.classList.add("jcalendar-set-year");y.innerText=D[C];n==D[C]&&y.classList.add("jcalendar-selected");w==D[C]&&(y.style.fontWeight="bold");x.appendChild(y)}G.innerHTML='<tr><td colspan="7"></td></tr>';G.firstChild.firstChild.appendChild(E);h()},setLabel:function(n,w){return p.calendar.getDateString(n,w)},fromFormatted:function(n,w){return p.calendar.extractDateFromString(n,w)}},g=function(n){if(p.findElement(n.target,"jcalendar-container")){var w=
n.target.className;"jcalendar-prev"==w?a.prev():"jcalendar-next"==w?a.next():"jcalendar-month"==w?a.getMonths():"jcalendar-year"==w?a.getYears():"jcalendar-set-year"==w?(a.date[0]=n.target.innerText,"year-month-picker"==a.options.type?a.getMonths():a.getDays()):n.target.classList.contains("jcalendar-set-month")?(w=parseInt(n.target.getAttribute("data-value")),"year-month-picker"==a.options.type?a.update(n.target,w):(a.date[1]=w,a.getDays())):"jcalendar-confirm"==w||"jcalendar-update"==w||"jcalendar-close"==
w?a.close():"jcalendar-backdrop"==w?a.close(!1,!1):"jcalendar-reset"==w?a.reset():n.target.classList.contains("jcalendar-set-day")&&n.target.innerText&&a.update(n.target)}else a.close()},d=function(n){if(n.target.value&&3<n.target.value.length){var w=p.calendar.extractDateFromString(n.target.value,a.options.format);w&&"true"==n.target.getAttribute("data-completed")&&a.setValue(w)}},h=function(){var n=f.querySelector(".jcalendar-selected");n&&n.classList.contains("jcalendar-disabled")?(l.setAttribute("disabled",
"disabled"),q.setAttribute("disabled","disabled"),B.setAttribute("disabled","disabled")):(l.removeAttribute("disabled"),q.removeAttribute("disabled"),B.removeAttribute("disabled"));if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())},f=null,k=null,u=null,v=null,e=null,r=null,A=null,H=null,G=null,I=null,L=null,K=null,l=null,q=null,B=null;(function(){"INPUT"==b.tagName&&b.value&&(c.value=b.value);k=document.createElement("div");k.className="jcalendar-reset";u=document.createElement("div");
u.className="jcalendar-confirm";I=document.createElement("div");I.className="jcalendar-controls";I.style.borderBottom="1px solid #ddd";I.appendChild(k);I.appendChild(u);v=document.createElement("div");v.className="jcalendar-container";e=document.createElement("div");e.className="jcalendar-content";v.appendChild(e);"DIV"==b.tagName?(f=b,f.classList.add("jcalendar-inline")):(e.appendChild(I),f=document.createElement("div"),f.className="jcalendar");f.classList.add("jcalendar-container");f.appendChild(v);
var n=document.createElement("div");n.className="jcalendar-table";e.appendChild(n);var w=document.createElement("td");w.setAttribute("colspan","2");w.className="jcalendar-prev";r=document.createElement("span");r.className="jcalendar-year";A=document.createElement("span");A.className="jcalendar-month";var D=document.createElement("td");D.className="jcalendar-header";D.setAttribute("colspan","3");D.appendChild(A);D.appendChild(r);var C=document.createElement("td");C.setAttribute("colspan","2");C.className=
"jcalendar-next";var E=document.createElement("thead"),x=document.createElement("tr");x.appendChild(w);x.appendChild(D);x.appendChild(C);E.appendChild(x);H=document.createElement("table");G=document.createElement("tbody");H.setAttribute("cellpadding","0");H.setAttribute("cellspacing","0");H.appendChild(E);H.appendChild(G);n.appendChild(H);q=document.createElement("select");q.className="jcalendar-select";q.onchange=function(){a.date[3]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,
a.getValue())};for(n=0;24>n;n++)w=document.createElement("option"),w.value=n,w.innerHTML=p.two(n),q.appendChild(w);B=document.createElement("select");B.className="jcalendar-select";B.onchange=function(){a.date[4]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())};for(n=0;60>n;n++)w=document.createElement("option"),w.value=n,w.innerHTML=p.two(n),B.appendChild(w);n=document.createElement("div");n.className="jcalendar-controls";L=document.createElement("div");L.className=
"jcalendar-time";L.style.maxWidth="140px";L.appendChild(q);L.appendChild(B);l=document.createElement("input");l.setAttribute("type","button");l.className="jcalendar-update";K=document.createElement("div");K.style.flexGrow="10";K.appendChild(l);n.appendChild(L);"INPUT"==b.tagName&&n.appendChild(K);e.appendChild(n);n=document.createElement("div");n.className="jcalendar-backdrop";f.appendChild(n);b.addEventListener("keyup",d);f.addEventListener("swipeleft",function(y){p.animation.slideLeft(H,0,function(){a.next();
p.animation.slideRight(H,1)});y.preventDefault();y.stopPropagation()});f.addEventListener("swiperight",function(y){p.animation.slideRight(H,0,function(){a.prev();p.animation.slideLeft(H,1)});y.preventDefault();y.stopPropagation()});b.onmouseup=function(){a.open()};!0==="ontouchend"in document.documentElement?f.addEventListener("touchend",g):f.addEventListener("mouseup",g);p.calendar.hasEvents||(p.calendar.hasEvents=!0,document.addEventListener("keydown",p.calendar.keydown));a.setOptions(c);"INPUT"==
b.tagName?(b.parentNode.insertBefore(f,b.nextSibling),b.setAttribute("autocomplete","off"),b.classList.add("jcalendar-input"),b.value=a.setLabel(a.getValue(),a.options)):(a.getDays(),a.options.time&&(q.value=a.date[3],B.value=a.date[4]));1==a.options.opened&&a.open();b.change=a.setValue;b.val=function(y){if(void 0===y)return a.getValue();a.setValue(y)};b.calendar=f.calendar=a})();return a};p.calendar.keydown=function(b){var c;if(c=p.calendar.current)13==b.which?c.close(!1,!0):27==b.which&&c.close(!1,
!1)};p.calendar.prettify=function(b,c){c||(c={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var a=parseInt((new Date-new Date(b))/1E3/60);String.prototype.format=function(g){return this.replace("{0}",g)};return 0==a?c.justNow:90>a?c.xMinutesAgo.format(a):1440>a?c.xHoursAgo.format(Math.round(a/60)):20160>a?c.xDaysAgo.format(Math.round(a/1440)):43200>a?c.xWeeksAgo.format(Math.round(a/10080)):1036800>
a?c.xMonthsAgo.format(Math.round(a/43200)):c.xYearsAgo.format(Math.round(a/525600))};p.calendar.prettifyAll=function(){for(var b=document.querySelectorAll(".prettydate"),c=0;c<b.length;c++)b[c].getAttribute("data-date")?b[c].innerHTML=p.calendar.prettify(b[c].getAttribute("data-date")):(b[c].setAttribute("data-date",b[c].innerHTML),b[c].innerHTML=p.calendar.prettify(b[c].innerHTML))};p.calendar.now=function(b,c){b||(b=new Date);var a=b.getFullYear(),g=b.getMonth()+1,d=b.getDate(),h=b.getHours(),f=
b.getMinutes(),k=b.getSeconds();return 1==c?p.two(a)+"-"+p.two(g)+"-"+p.two(d):p.two(a)+"-"+p.two(g)+"-"+p.two(d)+" "+p.two(h)+":"+p.two(f)+":"+p.two(k)};p.calendar.toArray=function(b){var c=b.split(-1!==b.indexOf("T")?"T":" "),a=c[1];c=c[0].split("-");b=parseInt(c[0]);var g=parseInt(c[1]);c=parseInt(c[2]);if(a){a=a.split(":");var d=parseInt(a[0]);a=parseInt(a[1])}else a=d=0;return[b,g,c,d,a,0]};p.calendar.extractDateFromString=function(b,c){if(0<b&&Number(b)==b){var a=new Date(Math.round(864E5*(b-
25569)));return a.getFullYear()+"-"+p.two(a.getMonth())+"-"+p.two(a.getDate())+" 00:00:00"}var g=""+b,d=c.replace(/[0-9]/g,""),h=1,f=d.search("YYYY");f=g.substr(f,4);parseInt(f)!=f&&(h=0);var k=d.search("MM");k=g.substr(k,2);if(parseInt(k)!=k||12<k)h=0;a=d.search("DD");a=g.substr(a,2);if(parseInt(a)!=a||31<a)h=0;var u=d.search("HH");if(0<=u){if(u=g.substr(u,2),!parseInt(u)||23<u)u="00"}else u="00";var v=d.search("MI");if(0<=v){if(v=g.substr(v,2),!parseInt(v)||59<v)v="00"}else v="00";var e=d.search("SS");
if(0<=e){if(e=g.substr(e,2),!parseInt(e)||59<e)e="00"}else e="00";return 1==h&&b.length==d.length?f+"-"+k+"-"+a+" "+u+":"+v+":"+e:""};p.calendar.getDateString=function(b,c){c||(c={});var a="string"==typeof c?c:c.format,g=c&&c.weekdays?c.weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d=c&&c.months?c.months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),h=c&&c.months?c.monthsFull:"January February March April May June July August September October November December".split(" ");
a||(a="DD/MM/YYYY");if(b){var f=""+b,k=-1!==f.indexOf("T")?"T":" ";f=f.split(k);var u=k="",v="";f[1]?(k=f[1].split(":"),u=k[1]?k[1]:"00",v=k[2]?k[2]:"00",k=k[0]?k[0]:"00"):v=u=k="00";f=f[0].split("-");if(f[0]&&f[1]&&f[2]&&0<f[0]&&0<f[1]&&13>f[1]&&0<f[2]&&32>f[2]){var e=new Date(f[0],f[1]-1,f[2]);f[1]=(2>f[1].length?"0":"")+f[1];f[2]=(2>f[2].length?"0":"")+f[2];k=(2>k.length?"0":"")+k;u=(2>u.length?"0":"")+u;v=(2>v.length?"0":"")+v;b=a.replace("MMM","MON");a="YYYY YYY YY Y MM DD DY DAY WD D Q HH24 HH12 HH PM AM MI SS MS MONTH MON".split(" ");
for(var r=[],A=b;A;){for(var H=0,G=0;G<a.length;G++)0==H&&0===A.toUpperCase().indexOf(a[G])&&(H=a[G].length);0==H?(r.push(A.substr(0,1)),A=A.substr(1)):(r.push(A.substr(0,H)),A=A.substr(H))}a=function(I,L,K){if(1==K)for(K=0;K<r.length;K++)r[K].toUpperCase()==I&&(r[K]=L);else for(K=0;K<r.length;K++)r[K]==I&&(r[K]=L)};a("YYYY",f[0],!0);a("YYY",f[0].substring(1,4),!0);a("YY",f[0].substring(2,4),!0);a("Y",f[0].substring(3,4),!0);a("MM",f[1],!0);a("DD",f[2],!0);a("Q",Math.floor((e.getMonth()+3)/3),!0);
k&&a("HH24",k);12<k?(a("HH12",k-12,!0),a("HH",k-12,!0),a("AM","pm",!0),a("PM","pm",!0)):(a("HH12",k,!0),a("HH",k,!0),a("AM","am",!0),a("PM","am",!0));a("MI",u,!0);a("SS",v,!0);a("MS",e.getMilliseconds(),!0);a("MONTH",h[e.getMonth()].toUpperCase());a("Month",h[e.getMonth()]);a("month",h[e.getMonth()].toLowerCase());a("MON",d[e.getMonth()].toUpperCase());a("MMM",d[e.getMonth()].toUpperCase());a("Mon",d[e.getMonth()]);a("mon",d[e.getMonth()].toLowerCase());a("DAY",g[e.getDay()].toUpperCase());a("Day",
g[e.getDay()]);a("day",g[e.getDay()].toLowerCase());a("DY",g[e.getDay()].substr(0,3).toUpperCase());a("Dy",g[e.getDay()].substr(0,3));a("dy",g[e.getDay()].substr(0,3).toLowerCase());a("D",g[e.getDay()]);a("WD",g[e.getDay()]);b=r.join("")}else b=""}return b};p.color=function(b,c){if(b.color)return b.color.setOptions(c,!0);var a={type:"color",options:{}},g=null,d=null,h=null,f=null,k=null,u=null,v=null;a.setOptions=function(n,w){var D={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,
closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};n||(n={});n&&!n.palette&&(n.palette=p.palette());for(var C in D)if(n&&n.hasOwnProperty(C))a.options[C]=n[C];else if("undefined"==typeof a.options[C]||!0===w)a.options[C]=D[C];f&&(f.innerHTML=a.options.resetLabel);k&&(k.innerHTML=a.options.doneLabel);a.options.palette&&v&&v.updateContent(0,H());"string"===typeof a.options.value&&(b.value=a.options.value);a.options.placeholder?b.setAttribute("placeholder",
a.options.placeholder):b.getAttribute("placeholder")&&b.removeAttribute("placeholder");return a};a.open=function(){if(!g.classList.contains("jcolor-focus")){p.tracking(a,!0);g.classList.add("jcolor-focus");var n=h.getBoundingClientRect();if(800>p.getWindowWidth()||1==a.options.fullscreen)h.style.top="",h.classList.add("jcolor-fullscreen"),p.animation.slideBottom(h,1),d.style.display="block";else{h.classList.contains("jcolor-fullscreen")&&(h.classList.remove("jcolor-fullscreen"),d.style.display="");
var w=b.getBoundingClientRect();a.options.position?(h.style.position="fixed",h.style.top=window.innerHeight<w.bottom+n.height?w.top-(n.height+2)+"px":w.top+w.height+2+"px",h.style.left=w.left+"px"):h.style.top=window.innerHeight<w.bottom+n.height?-1*(n.height+w.height+2)+"px":"2px"}if("function"==typeof a.options.onopen)a.options.onopen(b);v.setBorder(v.getActive());if(a.options.value){var D=A(a.options.value);q.forEach(function(C,E){C.value=D[E];C.dispatchEvent(new Event("input"))})}}};a.close=function(n){if(g.classList.contains("jcolor-focus")){g.classList.remove("jcolor-focus");
d.style.display="";if(!n&&"function"==typeof a.options.onclose)a.options.onclose(b);p.tracking(a,!1)}return a.options.value};a.setValue=function(n){n||(n="");if(n!=a.options.value){l=a.options.value=n;var w=g.querySelector(".jcolor-selected");w&&w.classList.remove("jcolor-selected");a.values[n]&&a.values[n].classList.add("jcolor-selected");if("function"==typeof a.options.onchange)a.options.onchange(b,n);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",
target:b,value:b.value});1==a.options.closeOnChange&&a.close()}};a.getValue=function(){return a.options.value};var e=!1,r=function(n){n=n.toString(16);return 1===n.length?"0"+n:n},A=function(n){return[parseInt("0x"+n.substr(1,2)),parseInt("0x"+n.substr(3,2)),parseInt("0x"+n.substr(5,2))]},H=function(){var n=document.createElement("div");n.className="jcolor-grid";a.values=[];var w=document.createElement("table");w.setAttribute("cellpadding","7");w.setAttribute("cellspacing","0");for(var D=0;D<a.options.palette.length;D++){for(var C=
document.createElement("tr"),E=0;E<a.options.palette[D].length;E++){var x=document.createElement("td"),y=a.options.palette[D][E];7>y.length&&"#"!==y.substr(0,1)&&(y="#"+y);x.style.backgroundColor=y;x.setAttribute("data-value",y);x.innerHTML="";C.appendChild(x);a.options.value==y&&x.classList.add("jcolor-selected");a.values[y]=x}w.appendChild(C)}n.appendChild(w);n.addEventListener("mouseup",function(m){"TD"==m.target.tagName&&(m=m.target.getAttribute("data-value"))&&a.setValue(m)});return n},G=document.createElement("canvas");
G.width=200;G.height=160;var I=G.getContext("2d"),L=function(){var n=u.firstChild.getBoundingClientRect();G.width=n.width-14;n=I.createLinearGradient(0,0,G.width,0);n.addColorStop(0,"rgb(255,0,0)");n.addColorStop(.15,"rgb(255,0,255)");n.addColorStop(.33,"rgb(0,0,255)");n.addColorStop(.49,"rgb(0,255,255)");n.addColorStop(.67,"rgb(0,255,0)");n.addColorStop(.84,"rgb(255,255,0)");n.addColorStop(1,"rgb(255,0,0)");I.fillStyle=n;I.fillRect(0,0,G.width,G.height);n=I.createLinearGradient(0,0,0,G.height);n.addColorStop(0,
"rgba(255,255,255,1)");n.addColorStop(.5,"rgba(255,255,255,0)");n.addColorStop(.5,"rgba(0,0,0,0)");n.addColorStop(1,"rgba(0,0,0,1)");I.fillStyle=n;I.fillRect(0,0,G.width,G.height)},K=function(){var n=document.createElement("div");n.className="jcolor-hsl";var w=document.createElement("div");w.className="jcolor-point";var D=document.createElement("div");D.appendChild(G);D.appendChild(w);n.appendChild(D);var C=function(E,x,y){1===E&&(E=n.getBoundingClientRect(),x-=E.left,y-=E.top,0>x&&(x=0),0>y&&(y=
0),x>E.width&&(x=E.width),y>E.height&&(y=E.height),w.style.left=x+"px",w.style.top=y+"px",y=I.getImageData(x,y,1,1).data,E=y[1],x=y[2],l="#"+r(y[0])+r(E)+r(x))};n.addEventListener("mousedown",function(E){C(E.buttons,E.clientX,E.clientY)});n.addEventListener("mousemove",function(E){C(E.buttons,E.clientX,E.clientY)});n.addEventListener("touchmove",function(E){C(1,E.changedTouches[0].clientX,E.changedTouches[0].clientY)});return n},l="",q=[],B=function(){var n=document.createElement("div");n.className=
"jcolor-sliders";var w=document.createElement("div"),D=function(E){var x=document.createElement("div");x.className="jcolor-sliders-input-container";var y=document.createElement("label");y.innerText=E;E=document.createElement("div");E.className="jcolor-sliders-input-subcontainer";var m=document.createElement("input");m.type="range";m.min=0;m.max=255;m.value=0;x.appendChild(y);E.appendChild(m);var t=document.createElement("div");t.innerText=m.value;m.addEventListener("input",function(){t.innerText=
m.value});E.appendChild(t);x.appendChild(E);w.appendChild(x);return m};q=[D("Red"),D("Green"),D("Blue")];n.appendChild(w);D=document.createElement("div");D.className="jcolor-sliders-final-color";var C=document.createElement("div");C.style.visibility="hidden";C.innerText="a";D.appendChild(C);q.forEach(function(E){E.addEventListener("input",function(){var x=parseInt(q[0].value);var y=parseInt(q[1].value),m=parseInt(q[2].value);x="#"+r(x)+r(y)+r(m);C.innerText=x;C.style.color=x;C.style.removeProperty("visibility");
l=x;if(""!==l)for(x=0;x<q.length;x++)y=A(l),y[x]=0,m="linear-gradient(90deg, rgb(",m+=y.join(", "),m+="), rgb(",y[x]=255,m+=y.join(", "),m+="))",q[x].style.backgroundImage=m})});n.appendChild(D);return n};(function(){a.setOptions(c);"INPUT"==b.tagName&&(b.classList.add("jcolor-input"),b.readOnly=!0);g=document.createElement("div");g.className="jcolor";d=document.createElement("div");d.className="jcolor-backdrop";g.appendChild(d);h=document.createElement("div");h.className="jcolor-content";var n=document.createElement("div");
n.className="jcolor-controls";h.appendChild(n);f=document.createElement("div");f.className="jcolor-reset";f.innerHTML=a.options.resetLabel;f.onclick=function(w){a.setValue("");a.close()};n.appendChild(f);k=document.createElement("div");k.className="jcolor-close";k.innerHTML=a.options.doneLabel;k.onclick=function(w){0<v.getActive()&&a.setValue(l);a.close()};n.appendChild(k);u=document.createElement("div");h.appendChild(u);v=p.tabs(u,{animation:!0,data:[{title:"Grid",contentElement:H()},{title:"Spectrum",
contentElement:K()},{title:"Sliders",contentElement:B()}],onchange:function(w,D,C){if(1===C)L();else if(w=""!==l?l:a.getValue(),2===C&&w){var E=A(w);q.forEach(function(x,y){x.value=E[y];x.dispatchEvent(new Event("input"))})}},palette:"modern"});g.appendChild(h);"INPUT"==b.tagName?b.parentNode.insertBefore(g,b.nextSibling):b.appendChild(g);b.addEventListener("mouseup",function(w){a.open()});d.addEventListener("mousedown",function(w){e=!0});d.addEventListener("mouseup",function(w){e&&(a.close(),e=!1)});
window.addEventListener("resize",function(){g.classList.contains("jcolor-focus")&&1==v.getActive()&&L()});1==a.options.opened&&a.open();b.change=a.setValue;b.val=function(w){if(void 0===w)return a.getValue();a.setValue(w)};b.color=a;g.color=a})();return a};p.contextmenu=function(b,c){function a(f){if(!f.type||"line"!=f.type&&"divisor"!=f.type){e=document.createElement("div");var k=document.createElement("a");k.innerHTML=f.title;f.tooltip&&e.setAttribute("title",f.tooltip);f.icon&&e.setAttribute("data-icon",
f.icon);f.id&&(e.id=f.id);f.disabled?e.className="jcontextmenu-disabled":f.onclick&&(e.method=f.onclick,e.addEventListener("mousedown",function(r){r.preventDefault()}),e.addEventListener("mouseup",function(){this.method(this)}));e.appendChild(k);if(f.submenu){k=document.createElement("span");k.innerHTML="&#9658;";e.appendChild(k);e.classList.add("jcontexthassubmenu");k=document.createElement("div");k.classList.add("jcontextmenu");k.setAttribute("tabindex","900");f=f.submenu;for(var u=0;u<f.length;u++){var v=
a(f[u]);k.appendChild(v)}e.appendChild(k)}else f.shortcut&&(k=document.createElement("span"),k.innerHTML=f.shortcut,e.appendChild(k))}else var e=document.createElement("hr");return e}var g={options:{}},d={items:null,onclick:null},h;for(h in d)c&&c.hasOwnProperty(h)?g.options[h]=c[h]:g.options[h]=d[h];b.classList.add("jcontextmenu");b.setAttribute("tabindex","900");g.open=function(f,k){k&&(g.options.items=k,g.create(k));if(g.options.items&&0<g.options.items.length||b.children.length){if(f.target)var u=
f.clientX,v=f.clientY;else u=f.x,v=f.y;b.classList.add("jcontextmenu-focus");b.focus();var e=b.getBoundingClientRect();window.innerHeight<v+e.height?(v-=e.height,0>v&&(v=0),b.style.top=v+"px"):b.style.top=v+"px";b.style.left=window.innerWidth<u+e.width?0<u-e.width?u-e.width+"px":"10px":u+"px"}};g.close=function(){b.classList.contains("jcontextmenu-focus")&&b.classList.remove("jcontextmenu-focus")};g.create=function(f){b.innerHTML="";for(var k=0;k<f.length;k++){var u=a(f[k]);b.appendChild(u)}};"function"==
typeof g.options.onclick&&b.addEventListener("click",function(f){g.options.onclick(g,f)});g.options.items&&g.create(g.options.items);b.addEventListener("blur",function(f){g.close()});p.contextmenu.hasEvents||(window.addEventListener("mousewheel",function(){g.close()}),document.addEventListener("contextmenu",function(f){var k=p.contextmenu.getElement(f.target);k&&((k=document.querySelector("#"+k))?(k.contextmenu.open(f),f.preventDefault()):console.error("JSUITES: Contextmenu id not found"))}),p.contextmenu.hasEvents=
!0);return b.contextmenu=g};p.contextmenu.getElement=function(b){function c(g){g.parentNode&&g.getAttribute("aria-contextmenu-id")?a=g.getAttribute("aria-contextmenu-id"):g.parentNode&&c(g.parentNode)}var a=0;c(b);return a};p.dropdown=function(b,c){if(b.dropdown)return b.dropdown.setOptions(c,!0);var a={type:"dropdown",options:{}},g=function(l,q){if(l&&(a.setData(l),"function"==typeof a.options.onload))a.options.onload(b,a,l,q);h(q);b.value=a.options.value;1==a.options.opened&&a.open()},d=function(){a.value=
{};for(var l=0;l<a.items.length;l++)1==a.items[l].selected&&(a.items[l].element&&a.items[l].element.classList.remove("jdropdown-selected"),a.items[l].selected=null);a.options.value=""},h=function(l){d();if(l){Array.isArray(l)||(l=(""+l).split(";"));for(var q=0;q<l.length;q++)a.value[l[q]]="";for(q=0;q<a.items.length;q++)"undefined"!==typeof a.value[f(q)]&&(a.items[q].element&&a.items[q].element.classList.add("jdropdown-selected"),a.items[q].selected=!0,a.value[f(q)]=k(q));a.options.value=Object.keys(a.value).join(";")}a.header.value=
a.getText()},f=function(l,q){var B=a.options.format?"id":"value";return a.items[l]?void 0!==q?a.items[l].data[B]=q:a.items[l].data[B]:""},k=function(l,q){var B=a.options.format?"name":"text";return a.items[l]?void 0!==q?a.items[l].data[B]=q:a.items[l].data[B]:""},u=function(){for(var l=[],q=Object.keys(a.value),B=0;B<q.length;B++)l.push(a.value[q[B]]);return l};a.setOptions=function(l,q){l||(l={});var B={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,
width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null},n;for(n in B)if(l&&l.hasOwnProperty(n))a.options[n]=l[n];else if("undefined"==typeof a.options[n]||!0===q)a.options[n]=B[n];if(1==a.options.remoteSearch||"searchbar"===a.options.type)a.options.autocomplete=!0;1==a.options.newOptions?a.header.classList.add("jdropdown-add"):a.header.classList.remove("jdropdown-add");1==a.options.autocomplete?
a.header.removeAttribute("readonly"):a.header.setAttribute("readonly","readonly");a.options.placeholder?a.header.setAttribute("placeholder",a.options.placeholder):a.header.removeAttribute("placeholder");b.classList.remove("jdropdown-searchbar");b.classList.remove("jdropdown-picker");b.classList.remove("jdropdown-list");"searchbar"==a.options.type?b.classList.add("jdropdown-searchbar"):"list"==a.options.type?b.classList.add("jdropdown-list"):"picker"==a.options.type?b.classList.add("jdropdown-picker"):
800>p.getWindowWidth()?a.options.autocomplete?(b.classList.add("jdropdown-searchbar"),a.options.type="searchbar"):(b.classList.add("jdropdown-picker"),a.options.type="picker"):(a.options.width?(b.style.width=a.options.width,b.style.minWidth=a.options.width):(b.style.removeProperty("width"),b.style.removeProperty("min-width")),b.classList.add("jdropdown-default"),a.options.type="default");"searchbar"==a.options.type?v.appendChild(A):e.insertBefore(A,e.firstChild);l.url&&!l.data?p.ajax({url:l.url,method:"GET",
dataType:"json",success:function(w){w&&g(w,l.value)}}):g(l.data,l.value);return a};var v=null,e=null,r=null,A=null,H=null,G=null,I=null;a.getUrl=function(){return a.options.url};a.setUrl=function(l){a.options.url=l;p.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(q){a.setData(q)}})};a.setId=function(l,q){var B=a.options.format?"id":"value";"object"==typeof l?l[B]=q:a.items[l].data[B]=q};a.add=function(l){if(!l&&(l=prompt("Text",1==a.options.autocomplete?a.header.value:""),!l))return!1;
var q=p.guid();l=a.options.format?{id:q,name:l}:{value:q,text:l};a.options.data.push(l);q=a.createItem(l);r.appendChild(q.element);if("function"==typeof a.options.oninsert)a.options.oninsert(a,l,l);"none"==r.style.display&&(r.style.display="");return l};a.createItem=function(l,q,B){a.options.format?(l.id||void 0===l.value||(l.id=l.value),l.name||void 0===l.text||(l.name=l.text)):(l.value||void 0===l.id||(l.value=l.id),l.text||void 0===l.name||(l.text=l.name));B={};B.element=document.createElement("div");
B.element.className="jdropdown-item";B.element.indexValue=a.items.length;B.data=l;q&&(B.group=q);l.id&&B.element.setAttribute("id",l.id);l.image?(q=document.createElement("img"),q.className="jdropdown-image",q.src=l.image,l.title||q.classList.add("jdropdown-image-small"),B.element.appendChild(q)):l.color&&(q=document.createElement("div"),q.className="jdropdown-color",q.style.backgroundColor=l.color,B.element.appendChild(q));var n=a.options.format?l.name:l.text;q=document.createElement("div");q.className=
"jdropdown-description";q.innerHTML=n||"&nbsp;";l.title&&(n=document.createElement("div"),n.className="jdropdown-title",n.innerText=l.title,q.appendChild(n));a.value[a.options.format?l.id:l.value]&&(B.element.classList.add("jdropdown-selected"),B.selected=!0);a.items.push(B);B.element.appendChild(q);return B};a.appendData=function(l){if(l.length){a.numOfItems=0;for(var q=[],B=[],n=0;n<l.length;n++)l[n].group?(B[l[n].group]||(B[l[n].group]=[]),B[l[n].group].push(n)):q.push(n);var w=Object.keys(B);
if(0<w.length)for(n=0;n<w.length;n++){var D=document.createElement("div");D.className="jdropdown-group";var C=document.createElement("div");C.className="jdropdown-group-name";C.innerHTML=w[n];var E=document.createElement("i");E.className="jdropdown-group-arrow jdropdown-group-arrow-down";C.appendChild(E);E=document.createElement("div");E.className="jdropdown-group-items";for(var x=0;x<B[w[n]].length;x++){var y=a.createItem(l[B[w[n]][x]],D,w[n]);if(0==a.options.lazyLoading||200>a.numOfItems)E.appendChild(y.element),
a.numOfItems++}D.appendChild(C);D.appendChild(E);a.groups.push(D);0<E.children.length&&r.appendChild(D)}if(q.length)for(n=0;n<q.length;n++)if(y=a.createItem(l[q[n]]),0==a.options.lazyLoading||200>a.numOfItems)r.appendChild(y.element),a.numOfItems++}};a.setData=function(l){if(l.length){for(var q=0;q<l.length;q++)"object"!=typeof l[q]&&(l[q]=a.options.format?{id:l[q],name:l[q]}:{value:l[q],text:l[q]});d();r.innerHTML="";a.header.value="";a.items=[];a.appendData(l);a.options.data=l}};a.getData=function(){return a.options.data};
a.getPosition=function(l){for(var q=0;q<a.items.length;q++)if(f(q)==l)return q;return 0};a.getText=function(l){var q=u();return l?q:q.join("; ")};a.getValue=function(l){var q=Object.keys(a.value);return l?q:q.join(";")};var L=function(l){if("function"==typeof a.options.onchange)a.options.onchange(b,a,l,a.options.value);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})};a.setValue=function(l){var q=Object.keys(a.value);
Array.isArray(l)&&(l=l.join(";"));q!=l&&(h(l),L(q))};a.resetSelected=function(){a.setValue(null)};a.selectIndex=function(l){l=parseInt(l);if(a.items&&a.items[l])if(a.setCursor(l,!1),a.options.multiple){var q=a.options.value;a.items[l].selected?(a.items[l].element.classList.remove("jdropdown-selected"),a.items[l].selected=!1,delete a.value[f(l)]):(a.items[l].element.classList.add("jdropdown-selected"),a.items[l].selected=!0,a.value[f(l)]=k(l));a.options.value=Object.keys(a.value).join(";");0==a.options.autocomplete&&
(a.header.value=u().join("; "));L(q)}else a.items[l].selected?a.setValue(null):a.setValue(f(l)),a.close()};a.selectItem=function(l){a.selectIndex(l.indexValue)};a.find=function(l){if(a.search==l.trim())return!1;a.search=l;a.numOfItems=0;if(1==a.options.remoteSearch)a.currentIndex=null,a.results=null,p.ajax({url:a.options.url+"?q="+l,method:"GET",dataType:"json",success:function(D){a.items=[];r.innerHTML="";a.appendData(D);r.style.display=D.length?"":"none"}});else{l=new RegExp(l,"gi");a.results=[];
for(var q=0;q<a.items.length;q++){var B=k(q),n=a.items[q].data.title||"",w=a.items[q].data.group||"";if(null==l||1==a.items[q].selected||B.match(l)||n.match(l)||w.match(l))if(a.results.push(a.items[q]),a.items[q].group&&a.items[q].group.children[1].children[0])for(;a.items[q].group.children[1].children[0];)a.items[q].group.children[1].removeChild(a.items[q].group.children[1].children[0])}for(;r.children[0];)r.removeChild(r.children[0]);l=a.results.length||0;1==a.options.lazyLoading&&200<l&&(l=200);
for(q=0;q<l;q++)a.results[q].group?(a.results[q].group.parentNode||r.appendChild(a.results[q].group),a.results[q].group.children[1].appendChild(a.results[q].element)):r.appendChild(a.results[q].element),a.numOfItems++;r.style.display=a.results.length?"":"none"}};a.open=function(){if(!b.classList.contains("jdropdown-focus")){p.dropdown.current=a;p.tracking(a,!0);b.classList.add("jdropdown-focus");800>p.getWindowWidth()&&(null==a.options.type||"picker"==a.options.type)&&p.animation.slideBottom(e,1);
1==a.options.autocomplete&&(a.header.value=a.search,a.header.focus());var l=Object.keys(Object.keys(a.value));l[0]&&(l=a.getPosition(l[0]))&&a.setCursor(l);if(!a.options.type||"default"==a.options.type){l=b.getBoundingClientRect();var q=e.getBoundingClientRect();a.options.position?(e.style.position="fixed",window.innerHeight<l.bottom+q.height?(e.style.top="",e.style.bottom=window.innerHeight-l.top+1+"px"):(e.style.top=l.bottom+"px",e.style.bottom=""),e.style.left=l.left+"px"):window.innerHeight<l.bottom+
q.height?(e.style.top="",e.style.bottom=l.height+1+"px"):(e.style.top="",e.style.bottom="");e.style.minWidth=l.width+"px";a.options.maxWidth&&(e.style.maxWidth=a.options.maxWidth);r.style.display=a.items.length||1!=a.options.autocomplete?"":"none"}}if("function"==typeof a.options.onopen)a.options.onopen(b)};a.close=function(l){if(b.classList.contains("jdropdown-focus")){a.header.value=a.getText();a.setCursor();if(!l&&"function"==typeof a.options.onclose)a.options.onclose(b);a.header.blur&&a.header.blur();
b.classList.remove("jdropdown-focus");p.tracking(a,!1);p.dropdown.current=null}return a.getValue()};a.setCursor=function(l,q){null!=a.currentIndex&&a.items&&a.items[a.currentIndex]&&a.items[a.currentIndex].element.classList.remove("jdropdown-cursor");if(void 0==l)a.currentIndex=null;else if(parseInt(l),a.items[l].element.classList.add("jdropdown-cursor"),a.currentIndex=l,!1!==q&&a.items[a.currentIndex].element){var B=a.items[a.currentIndex].element;r.scrollTop=B.offsetTop-B.scrollTop+B.clientTop-
95}};a.resetCursor=a.setCursor;a.updateCursor=a.setCursor;a.reset=function(){a.setCursor();a.setValue(null)};a.firstVisible=function(){for(var l=null,q=0;q<a.items.length;q++)if(a.items&&a.items[q]&&a.items[q].element.parentNode&&"none"!=a.items[q].element.style.display){l=q;break}if(null==l)return!1;a.setCursor(l)};a.first=function(){for(var l=null,q=a.currentIndex-1;0<=q;q--)a.items&&a.items[q]&&a.items[q].element.parentNode&&"none"!=a.items[q].element.style.display&&(l=q);if(null==l)return!1;a.setCursor(l)};
a.last=function(){for(var l=null,q=a.currentIndex+1;q<a.items.length;q++)a.items&&a.items[q]&&a.items[q].element.parentNode&&"none"!=a.items[q].element.style.display&&(l=q);if(null==l)return!1;a.setCursor(l)};var K=function(l,q){for(var B=l;B<a.items.length;B++)if(a.items&&a.items[B]&&a.items[B].element.parentNode&&(!q||(""+k(B)).substr(0,1).toLowerCase()==q))return B;return null};a.next=function(l){l&&1==l.length&&(l=l.toLowerCase());var q=null===a.currentIndex?a.currentIndex=0:a.currentIndex+1;
q=K(q,l);if(null==q&&l&&(q=K(0,l),null==q))return!1;a.setCursor(q)};a.prev=function(){for(var l=null,q=a.currentIndex-1;0<=q;q--)if(a.items&&a.items[q]&&a.items[q].element.parentNode){l=q;break}if(null==l)return!1;a.setCursor(l)};a.loadUp=function(){return!1};a.loadDown=function(){var l=!1,q=a.results?a.results:a.items;if(q.length>a.numOfItems){l=a.numOfItems;var B=q.length-l;200<B&&(B=200);for(var n=l;n<l+B;n++)q[n].group?(q[n].group.parentNode||r.appendChild(q[n].group),q[n].group.children[2].appendChild(q[n].element)):
r.appendChild(q[n].element),a.numOfItems++;l=!0}return l};(function(){c||(c={});if("SELECT"==b.tagName){var l=p.dropdown.extractFromDom(b,c);b=l.el;c=l.options}!c.placeholder&&b.getAttribute("placeholder")&&(c.placeholder=b.getAttribute("placeholder"));a.value={};a.items=[];a.groups=[];a.search="";a.results=null;a.numOfItems=0;b.classList.add("jdropdown");v=document.createElement("div");v.className="jdropdown-container-header";a.header=document.createElement("input");a.header.className="jdropdown-header";
a.header.setAttribute("autocomplete","off");a.header.onfocus=function(){if("function"==typeof a.options.onfocus)a.options.onfocus(b)};a.header.onblur=function(){if("function"==typeof a.options.onblur)a.options.onblur(b)};a.header.onkeyup=function(q){1!=a.options.autocomplete||I?a.options.autocomplete||a.next(q.key):(a.search!=a.header.value.trim()&&(I=setTimeout(function(){a.find(a.header.value.trim());I=null},400)),b.classList.contains("jdropdown-focus")||a.open())};p.dropdown.hasEvents||(p.dropdown.hasEvents=
!0,document.addEventListener("keydown",p.dropdown.keydown));e=document.createElement("div");e.className="jdropdown-container";r=document.createElement("div");r.className="jdropdown-content";A=document.createElement("div");A.className="jdropdown-close";A.innerHTML="Done";H=document.createElement("div");H.className="jdropdown-reset";H.innerHTML="x";H.onclick=function(){a.reset();a.close()};G=document.createElement("div");G.className="jdropdown-backdrop";v.appendChild(a.header);e.appendChild(r);b.appendChild(v);
b.appendChild(e);b.appendChild(G);a.setOptions(c);!0==="ontouchsend"in document.documentElement?b.addEventListener("touchsend",p.dropdown.mouseup):b.addEventListener("mouseup",p.dropdown.mouseup);1==a.options.lazyLoading&&p.lazyLoading(r,{loadUp:a.loadUp,loadDown:a.loadDown});b.change=a.setValue;b.val=function(q){if(void 0===q)return a.getValue(a.options.multiple?!0:!1);a.setValue(q)};b.dropdown=a})();return a};p.dropdown.keydown=function(b){var c;if(c=p.dropdown.current)13==b.which?c.selectIndex(c.currentIndex):
38==b.which?(null==c.currentIndex?c.firstVisible():0<c.currentIndex&&c.prev(),b.preventDefault()):40==b.which?(null==c.currentIndex?c.firstVisible():c.currentIndex+1<c.items.length&&c.next(),b.preventDefault()):36==b.which?c.first():35==b.which?c.last():27==b.which&&c.close()};p.dropdown.mouseup=function(b){var c=p.findElement(b.target,"jdropdown");if(c){var a=c.dropdown;if(b.target.classList.contains("jdropdown-header"))c.classList.contains("jdropdown-focus")&&c.classList.contains("jdropdown-default")?
(c=c.getBoundingClientRect(),30>c.width-((b.changedTouches&&b.changedTouches[0]?b.changedTouches[0].clientX:b.clientX)-c.left)?b.target.classList.contains("jdropdown-add")?a.add():a.close():0==a.options.autocomplete&&a.close()):a.open();else if(b.target.classList.contains("jdropdown-group-name")){if(c=b.target.nextSibling.children,"none"!=b.target.nextSibling.style.display)for(b=0;b<c.length;b++)"none"!=c[b].style.display&&a.selectItem(c[b])}else b.target.classList.contains("jdropdown-group-arrow")?
b.target.classList.contains("jdropdown-group-arrow-down")?(b.target.classList.remove("jdropdown-group-arrow-down"),b.target.classList.add("jdropdown-group-arrow-up"),b.target.parentNode.nextSibling.style.display="none"):(b.target.classList.remove("jdropdown-group-arrow-up"),b.target.classList.add("jdropdown-group-arrow-down"),b.target.parentNode.nextSibling.style.display=""):b.target.classList.contains("jdropdown-item")?a.selectItem(b.target):b.target.classList.contains("jdropdown-image")?a.selectItem(b.target.parentNode):
b.target.classList.contains("jdropdown-description")?a.selectItem(b.target.parentNode):b.target.classList.contains("jdropdown-title")?a.selectItem(b.target.parentNode.parentNode):(b.target.classList.contains("jdropdown-close")||b.target.classList.contains("jdropdown-backdrop"))&&a.close()}};p.dropdown.extractFromDom=function(b,c){c||(c={});!b.getAttribute("multiple")||c&&void 0!=c.multiple||(c.multiple=!0);!b.getAttribute("placeholder")||c&&void 0!=c.placeholder||(c.placeholder=b.getAttribute("placeholder"));
!b.getAttribute("data-autocomplete")||c&&void 0!=c.autocomplete||(c.autocomplete=!0);c&&void 0!=c.width||(c.width=b.offsetWidth);!b.value||c&&void 0!=c.value||(c.value=b.value);if(!c||void 0==c.data){c.data=[];for(var a=0;a<b.children.length;a++)if("OPTGROUP"==b.children[a].tagName)for(var g=0;g<b.children[a].children.length;g++)c.data.push({value:b.children[a].children[g].value,text:b.children[a].children[g].innerHTML,group:b.children[a].getAttribute("label")});else c.data.push({value:b.children[a].value,
text:b.children[a].innerHTML})}c&&void 0!=c.onchange||(c.onchange=function(d,h,f,k){1==c.multiple?obj.items[h].classList.contains("jdropdown-selected")?b.options[h].setAttribute("selected","selected"):b.options[h].removeAttribute("selected"):b.value=k});a=document.createElement("div");b.parentNode.insertBefore(a,b);b.style.display="none";return{el:a,options:c}};p.editor=function(b,c){var a={options:{}};if("TEXTAREA"==b.tagName||"INPUT"==b.tagName){var g=b;g.style.display="none";b=document.createElement("div");
c.value||(c.value=g.value);c.onblur=function(m,t,z){g.value=t.getData()};g.insertBefore(b)}var d={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsAttachment:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5E6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null},h;for(h in d)c&&c.hasOwnProperty(h)?a.options[h]=c[h]:a.options[h]=
d[h];var f=null,k=null;b.innerHTML="";"function"==typeof a.options.onclick&&(b.onclick=function(m){a.options.onclick(b,a,m)});b.classList.add("jeditor-container");1==a.options.padding&&b.classList.add("jeditor-padding");a.options.placeholder&&b.setAttribute("data-placeholder",a.options.placeholder);0==a.options.border&&(b.style.border="0px");var u=document.createElement("div");u.className="jsnippet";u.setAttribute("contenteditable",!1);var v=document.createElement("div");v.className="jeditor-toolbar";
var e=document.createElement("div");e.setAttribute("contenteditable",!0);e.setAttribute("spellcheck",!1);e.className="jeditor";if(a.options.maxHeight||a.options.height)e.style.overflowY="auto",a.options.maxHeight&&(e.style.maxHeight=a.options.maxHeight),a.options.height&&(e.style.height=a.options.height);(d=a.options.value?a.options.value:b.innerHTML?b.innerHTML:"")||(d="<br>");var r=function(m){if("function"==typeof a.options.onchange)a.options.onchange(b,a,m);a.options.value=a.getData();if(b.value!=
a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},A=function(m){var t=document.createElement("div");t.innerHTML=m;m=t.querySelectorAll("img");if(m.length)for(t=0;t<m.length;t++)a.addImage(m[t].src)},H=function(m){if(window.getSelection){var t=window.getSelection();if(t.rangeCount){var z=t.getRangeAt(0);z.deleteContents();z.insertNode(m);z.setStartAfter(m);z.setEndAfter(m);t.removeAllRanges();t.addRange(z)}}},G=function(m){u.innerHTML=
"";if(m.image){var t=document.createElement("div");t.className="jsnippet-image";t.setAttribute("data-k","image");u.appendChild(t);var z=document.createElement("img");z.src=m.image;t.appendChild(z)}t=document.createElement("div");t.className="jsnippet-title";t.setAttribute("data-k","title");t.innerHTML=m.title;u.appendChild(t);t=document.createElement("div");t.className="jsnippet-description";t.setAttribute("data-k","description");t.innerHTML=m.description;u.appendChild(t);t=document.createElement("div");
t.className="jsnippet-host";t.setAttribute("data-k","host");t.innerHTML=m.host;u.appendChild(t);t=document.createElement("div");t.className="jsnippet-url";t.setAttribute("data-k","url");t.innerHTML=m.url;u.appendChild(t);e.appendChild(u)},I=function(){clearTimeout(f);f=setTimeout(function(){var m=e.querySelector(".jsnippet"),t=b.querySelector(".jeditor-thumbs-container");!m&&!t&&(t=e.innerHTML.replace(/\n/g," "),m=document.createElement("div"),m.innerHTML=t,(t=m.querySelector(".jeditor-thumbs-container"))&&
t.remove(),t=p.editor.detectUrl(m.innerText))&&("jpg"==t[0].substr(-3)||"png"==t[0].substr(-3)||"gif"==t[0].substr(-3)?p.editor.getDomain(t[0])==window.location.hostname?a.importImage(t[0],""):a.importImage(a.options.remoteParser+t[0],""):(m=p.editor.youtubeParser(t[0]),a.parseWebsite(t[0],m)))},1E3)};a.parseContent=function(){I()};a.parseWebsite=function(m,t){if(a.options.remoteParser){t&&(m="https://www.youtube.com/watch?v="+t);var z={title:"",description:"",image:"",host:m.split("/")[2],url:m};
p.ajax({url:a.options.remoteParser+encodeURI(m.trim()),method:"GET",dataType:"json",success:function(F){F.title&&(z.title=F.title);F.description&&(z.description=F.description);F.image?z.image=F.image:F["og:image"]&&(z.image=F["og:image"]);F.host&&(z.host=F.host);F.url&&(z.url=F.url);G(z)}})}else console.log("The remoteParser is not defined")};a.setData=function(m){e.innerHTML=m;a.options.focus&&p.editor.setCursor(e,!0)};a.getText=function(){return e.innerText};a.getData=function(m){if(m){m={content:""};
var t=e.querySelectorAll(".post-tag");if(t.length){m.users=[];for(var z=0;z<t.length;z++){var F=t[z].getAttribute("data-user");F&&m.users.push(F)}m.users=m.users.join(",")}if(u.innerHTML){m.snippet={};for(z=0;z<u.children.length;z++)if(t=u.children[z].getAttribute("data-k"))"image"==t?m.snippet.image=u.children[z].children[0].getAttribute("src"):m.snippet[t]=u.children[z].innerHTML;u.innerHTML="";u.remove()}z=e.innerHTML;z=z.replace(/<br>/g,"\n");z=z.replace(/<\/div>/g,"</div>\n");z=z.replace(/<(?:.|\n)*?>/gm,
"");m.content=z.trim();m=JSON.stringify(m)}else m=e.innerHTML;return m};a.reset=function(){e.innerHTML=""};a.addPdf=function(m){if("data"!=m.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60;t.height=60;var z=new Image;t.getContext("2d").drawImage(z,0,0,t.width,t.height);t.toBlob(function(F){var J=document.createElement("img");J.src=window.URL.createObjectURL(F);J.setAttribute("data-extension","pdf");m.name&&J.setAttribute("data-name",m.name);
m.size&&J.setAttribute("data-size",m.size);m.date&&J.setAttribute("data-date",m.date);J.className="jfile pdf";H(J);J.content=m.result.substr(m.result.indexOf(",")+1)})}};a.getFiles=function(){return p.files(e).get()};a.addImage=function(m,t,z,F){if("data"==m.substr(0,4)||a.options.remoteParser){if("data"==m.substr(0,4)){var J=m.split(";");J=J[0].split("/");J=J[1]}else J=m.substr(m.lastIndexOf(".")+1),m=a.options.remoteParser+m;var M=new Image;M.onload=function(){var N=document.createElement("canvas");
N.width=M.width;N.height=M.height;N.getContext("2d").drawImage(M,0,0,N.width,N.height);N.toBlob(function(P){var O=document.createElement("img");O.src=window.URL.createObjectURL(P);O.setAttribute("tabindex","900");O.setAttribute("data-extension",J);t&&O.setAttribute("data-name",t);z&&O.setAttribute("data-size",z);F&&O.setAttribute("data-date",F);O.className="jfile";P=N.toDataURL();H(O);O.content=P.substr(P.indexOf(",")+1);r()})};M.src=m}else console.error("remoteParser not defined in your initialization")};
a.addFile=function(m){for(var t=[],z=0;z<m.length;z++)if(m[z].size>a.options.maxFileSize)alert("The file is too big");else{var F=m[z].type.split("/");(F="image"==F[0]?1:"pdf"==F[1]?2:0)?(t[z]=new FileReader,t[z].index=z,t[z].type=F,t[z].name=m[z].name,t[z].date=m[z].lastModified,t[z].size=m[z].size,t[z].addEventListener("load",function(J){2==J.target.type?1==a.options.acceptFiles&&a.addPdf(J.target):a.addImage(J.target.result,J.target.name,J.total,J.target.lastModified)},!1),t[z].readAsDataURL(m[z])):
alert("The extension is not allowed")}};a.destroy=function(){e.removeEventListener("mouseup",L);e.removeEventListener("mousedown",K);e.removeEventListener("mousemove",l);e.removeEventListener("keyup",q);e.removeEventListener("keydown",B);e.removeEventListener("dragstart",w);e.removeEventListener("dragenter",D);e.removeEventListener("dragover",C);e.removeEventListener("drop",E);e.removeEventListener("paste",n);"function"==typeof a.options.onblur&&e.removeEventListener("blur",x);"function"==typeof a.options.onfocus&&
e.removeEventListener("focus",y);b.editor=null;b.classList.remove("jeditor-container");v.remove();u.remove();e.remove()};var L=function(m){k=!1},K=function(m){var t=function(F){var J=F.getBoundingClientRect();40>J.width-(m.clientX-J.left)&&40>m.clientY-J.top&&(F.innerHTML="",F.remove())};if("IMG"==m.target.tagName)if(m.target.style.cursor){if(t=m.target.getBoundingClientRect(),k={e:m.target,x:m.clientX,y:m.clientY,w:t.width,h:t.height,d:m.target.style.cursor},m.target.style.width||(m.target.style.width=
t.width+"px"),m.target.style.height||(m.target.style.height=t.height+"px"),t=window.getSelection(),t.rangeCount)for(var z=0;z<t.rangeCount;z++)t.removeRange(t.getRangeAt(z))}else k=!0;else m.target.classList.contains("jsnippet")?t(m.target):m.target.parentNode.classList.contains("jsnippet")&&t(m.target.parentNode),k=!0},l=function(m){if("IMG"==m.target.tagName&&1==a.options.allowImageResize&&m.target.getAttribute("tabindex")){var t=m.target.getBoundingClientRect();m.target.style.cursor=5>m.clientY-
t.top?5>t.width-(m.clientX-t.left)?"ne-resize":5>m.clientX-t.left?"nw-resize":"n-resize":5>t.height-(m.clientY-t.top)?5>t.width-(m.clientX-t.left)?"se-resize":5>m.clientX-t.left?"sw-resize":"s-resize":5>t.width-(m.clientX-t.left)?"e-resize":5>m.clientX-t.left?"w-resize":""}if(1==m.which&&k&&k.d){if("e-resize"==k.d||"ne-resize"==k.d||"se-resize"==k.d)if(k.e.style.width=k.w+(m.clientX-k.x)+"px",m.shiftKey){var z=k.h/k.w*(m.clientX-k.x);k.e.style.height=k.h+z+"px"}else z=null;z||"s-resize"!=k.d&&"se-resize"!=
k.d&&"sw-resize"!=k.d||m.shiftKey||(k.e.style.height=k.h+(m.clientY-k.y)+"px")}},q=function(m){e.innerHTML||(e.innerHTML="<div><br></div>");if("function"==typeof a.options.onkeyup)a.options.onkeyup(b,a,m)},B=function(m){1==a.options.parseURL&&I();if("function"==typeof a.options.onkeydown)a.options.onkeydown(b,a,m)},n=function(m){if(1==a.options.filterPaste){if(m.clipboardData||m.originalEvent.clipboardData)var t=(m.originalEvent||m).clipboardData.getData("text/html"),z=(m.originalEvent||m).clipboardData.getData("text/plain"),
F=(m.originalEvent||m).clipboardData.files;else window.clipboardData&&(t=window.clipboardData.getData("Html"),z=window.clipboardData.getData("Text"),F=window.clipboardData.files);if(F.length)a.addFile(F);else{z=z.split("\r\n");if("DIV"==m.target.nodeName&&m.target.classList.contains("jeditor"))for(F=0;F<z.length;F++){var J=document.createElement("div");z[F]?J.innerText=z[F]:J.innerHTML="<br/>";m.target.appendChild(J)}else{J=document.createElement("div");for(F=0;F<z.length;F++)if(z[F]){var M=document.createElement("div");
M.innerText=z[F];J.appendChild(M)}document.execCommand("insertHtml",!1,J.innerHTML)}1==a.options.acceptImages&&A(t)}m.preventDefault()}},w=function(m){k&&k.e&&m.preventDefault()},D=function(m){k||0==a.options.dropZone||b.classList.add("jeditor-dragging")},C=function(m){k||0==a.options.dropZone||(f&&clearTimeout(f),f=setTimeout(function(){b.classList.remove("jeditor-dragging")},100))},E=function(m){if(!k&&0!=a.options.dropZone){var t=null;document.caretRangeFromPoint?t=document.caretRangeFromPoint(m.clientX,
m.clientY):m.rangeParent&&(t=document.createRange(),t.setStart(m.rangeParent,m.rangeOffset));var z=window.getSelection();z.removeAllRanges();z.addRange(t);z.anchorNode.parentNode.focus();t=(m.originalEvent||m).dataTransfer.getData("text/html");z=(m.originalEvent||m).dataTransfer.getData("text/plain");var F=(m.originalEvent||m).dataTransfer.files;F.length?a.addFile(F):z&&A(t);b.classList.remove("jeditor-dragging");m.preventDefault()}},x=function(m){if("function"==typeof a.options.onblur)a.options.onblur(b,
a,m);r(m)},y=function(m){if("function"==typeof a.options.onfocus)a.options.onfocus(b,a,m)};e.addEventListener("mouseup",L);e.addEventListener("mousedown",K);e.addEventListener("mousemove",l);e.addEventListener("keyup",q);e.addEventListener("keydown",B);e.addEventListener("dragstart",w);e.addEventListener("dragenter",D);e.addEventListener("dragover",C);e.addEventListener("drop",E);e.addEventListener("paste",n);e.addEventListener("focus",y);e.addEventListener("blur",x);if("function"==typeof a.options.onload)a.options.onload(b,
a,e);e.innerHTML=d;b.appendChild(e);a.options.snippet&&G(a.options.snippet);null==a.options.toolbar&&(a.options.toolbar=p.editor.getDefaultToolbar());a.options.toolbar&&(p.toolbar(v,{container:!0,items:a.options.toolbar}),b.appendChild(v));a.options.focus&&p.editor.setCursor(e,"initial"==a.options.focus?!0:!1);b.change=a.setData;b.val=function(m){if(void 0===m)return a.getData();a.setData(m)};return b.editor=a};p.editor.setCursor=function(b,c){b.focus();document.execCommand("selectAll");var a=window.getSelection(),
g=a.getRangeAt(0);if(1==c)var d=g.startContainer,h=0;else d=g.endContainer,h=d.length;g.setStart(d,h);g.setEnd(d,h);a.removeAllRanges();a.addRange(g)};p.editor.getDomain=function(b){return b.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]};p.editor.detectUrl=function(b){(b=b.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig))&&"www"==b[0].substr(0,3)&&(b[0]="http://"+b[0]);return b};p.editor.youtubeParser=function(b){return(b=
b.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/))&&11==b[7].length?b[7]:!1};p.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(b,c,a){document.execCommand("bold");document.queryCommandState("bold")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_italic",
onclick:function(b,c,a){document.execCommand("italic");document.queryCommandState("italic")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_underline",onclick:function(b,c,a){document.execCommand("underline");document.queryCommandState("underline")?a.classList.add("selected"):a.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(b,c,a){document.execCommand("insertUnorderedList");document.queryCommandState("insertUnorderedList")?
a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(b,c,a){document.execCommand("insertOrderedList");document.queryCommandState("insertOrderedList")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(b,c,a){document.execCommand("indent",!0,null);document.queryCommandState("indent")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent");
document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]};p.focus=function(b){if(b.innerText.length){var c=document.createRange(),a=window.getSelection(),g=b.childNodes[b.childNodes.length-1];c.setStart(g,g.length);c.collapse(!0);a.removeAllRanges();a.addRange(c);b.scrollLeft=b.scrollWidth}};p.isNumeric=function(b){return!isNaN(b)&&null!==b&&""!==b};p.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=16*
Math.random()|0;return("x"==b?c:c&3|8).toString(16)})};p.hash=function(b){var c=0,a;if(0!==b.length)for(a=0;a<b.length;a++){var g=b.charCodeAt(a);32<g&&(c=(c<<5)-c+g,c|=0)}return c};p.randomColor=function(b){var c=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");6>c.length&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]);var a=[],g;for(g=0;3>g;g++){var d=parseInt(c.substr(2*g,2),16);d=Math.round(Math.min(Math.max(0,d+-.25*d),255)).toString(16);a.push(("00"+d).substr(d.length))}return 1==
b?"#"+p.two(a[0].toString(16))+p.two(a[1].toString(16))+p.two(a[2].toString(16)):a};p.getWindowWidth=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerWidth||a.clientWidth||c.clientWidth};p.getWindowHeight=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerHeight||a.clientHeight||c.clientHeight};p.getPosition=function(b){if(b.changedTouches&&b.changedTouches[0]){var c=b.changedTouches[0].pageX;
b=b.changedTouches[0].pageY}else c=window.Event?b.pageX:b.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),b=window.Event?b.pageY:b.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[c,b]};p.click=function(b){if(b.click)b.click();else{var c=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(c)}};p.findElement=function(b,c){function a(d){d&&!g&&("function"==
typeof c?g=c(d):"string"==typeof c&&d.classList&&d.classList.contains(c)&&(g=d));d.parentNode&&!g&&a(d.parentNode)}var g=!1;a(b);return g};p.two=function(b){b=""+b;1==b.length&&(b="0"+b);return b};p.sha512=function(b){function c(x,y){this.highOrder=x;this.lowOrder=y}function a(x,y){var m=(x.lowOrder&65535)+(y.lowOrder&65535);var t=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(m>>>16);var z=(t&65535)<<16|m&65535;m=(x.highOrder&65535)+(y.highOrder&65535)+(t>>>16);t=(x.highOrder>>>16)+(y.highOrder>>>16)+(m>>>
16);return new c((t&65535)<<16|m&65535,z)}function g(x,y,m,t){var z=(x.lowOrder&65535)+(y.lowOrder&65535)+(m.lowOrder&65535)+(t.lowOrder&65535);var F=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(m.lowOrder>>>16)+(t.lowOrder>>>16)+(z>>>16);var J=(F&65535)<<16|z&65535;z=(x.highOrder&65535)+(y.highOrder&65535)+(m.highOrder&65535)+(t.highOrder&65535)+(F>>>16);F=(x.highOrder>>>16)+(y.highOrder>>>16)+(m.highOrder>>>16)+(t.highOrder>>>16)+(z>>>16);return new c((F&65535)<<16|z&65535,J)}function d(x,y,m,t,z){var F=
(x.lowOrder&65535)+(y.lowOrder&65535)+(m.lowOrder&65535)+(t.lowOrder&65535)+(z.lowOrder&65535);var J=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(m.lowOrder>>>16)+(t.lowOrder>>>16)+(z.lowOrder>>>16)+(F>>>16);var M=(J&65535)<<16|F&65535;F=(x.highOrder&65535)+(y.highOrder&65535)+(m.highOrder&65535)+(t.highOrder&65535)+(z.highOrder&65535)+(J>>>16);J=(x.highOrder>>>16)+(y.highOrder>>>16)+(m.highOrder>>>16)+(t.highOrder>>>16)+(z.highOrder>>>16)+(F>>>16);return new c((J&65535)<<16|F&65535,M)}function h(x,y){return 32>=
y?new c(x.highOrder>>>y|x.lowOrder<<32-y,x.lowOrder>>>y|x.highOrder<<32-y):new c(x.lowOrder>>>y|x.highOrder<<32-y,x.highOrder>>>y|x.lowOrder<<32-y)}function f(x){var y=h(x,28),m=h(x,34);x=h(x,39);return new c(y.highOrder^m.highOrder^x.highOrder,y.lowOrder^m.lowOrder^x.lowOrder)}function k(x){var y=h(x,14),m=h(x,18);x=h(x,41);return new c(y.highOrder^m.highOrder^x.highOrder,y.lowOrder^m.lowOrder^x.lowOrder)}function u(x){var y=h(x,1),m=h(x,8);x=e(x,7);return new c(y.highOrder^m.highOrder^x.highOrder,
y.lowOrder^m.lowOrder^x.lowOrder)}function v(x){var y=h(x,19),m=h(x,61);x=e(x,6);return new c(y.highOrder^m.highOrder^x.highOrder,y.lowOrder^m.lowOrder^x.lowOrder)}function e(x,y){return 32>=y?new c(x.highOrder>>>y,x.lowOrder>>>y|x.highOrder<<32-y):new c(0,x.highOrder<<32-y)}var r=[new c(1779033703,4089235720),new c(3144134277,2227873595),new c(1013904242,4271175723),new c(2773480762,1595750129),new c(1359893119,2917565137),new c(2600822924,725511199),new c(528734635,4215389547),new c(1541459225,
327033209)],A=[new c(1116352408,3609767458),new c(1899447441,602891725),new c(3049323471,3964484399),new c(3921009573,2173295548),new c(961987163,4081628472),new c(1508970993,3053834265),new c(2453635748,2937671579),new c(2870763221,3664609560),new c(3624381080,2734883394),new c(310598401,1164996542),new c(607225278,1323610764),new c(1426881987,3590304994),new c(1925078388,4068182383),new c(2162078206,991336113),new c(2614888103,633803317),new c(3248222580,3479774868),new c(3835390401,2666613458),
new c(4022224774,944711139),new c(264347078,2341262773),new c(604807628,2007800933),new c(770255983,1495990901),new c(1249150122,1856431235),new c(1555081692,3175218132),new c(1996064986,2198950837),new c(2554220882,3999719339),new c(2821834349,766784016),new c(2952996808,2566594879),new c(3210313671,3203337956),new c(3336571891,1034457026),new c(3584528711,2466948901),new c(113926993,3758326383),new c(338241895,168717936),new c(666307205,1188179964),new c(773529912,1546045734),new c(1294757372,1522805485),
new c(1396182291,2643833823),new c(1695183700,2343527390),new c(1986661051,1014477480),new c(2177026350,1206759142),new c(2456956037,344077627),new c(2730485921,1290863460),new c(2820302411,3158454273),new c(3259730800,3505952657),new c(3345764771,106217008),new c(3516065817,3606008344),new c(3600352804,1432725776),new c(4094571909,1467031594),new c(275423344,851169720),new c(430227734,3100823752),new c(506948616,1363258195),new c(659060556,3750685593),new c(883997877,3785050280),new c(958139571,
3318307427),new c(1322822218,3812723403),new c(1537002063,2003034995),new c(1747873779,3602036899),new c(1955562222,1575990012),new c(2024104815,1125592928),new c(2227730452,2716904306),new c(2361852424,442776044),new c(2428436474,593698344),new c(2756734187,3733110249),new c(3204031479,2999351573),new c(3329325298,3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,
3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)],H=Array(64),G;b=unescape(encodeURIComponent(b));var I=8*b.length;b=function(x){for(var y=[],m=8*x.length,t=0;t<m;t+=8)y[t>>5]|=(x.charCodeAt(t/8)&255)<<24-t%32;return y}(b);b[I>>5]|=128<<24-I%32;b[(I+128>>10<<5)+31]=I;for(I=0;I<b.length;I+=
32){var L=r[0];var K=r[1];var l=r[2];var q=r[3];var B=r[4];var n=r[5];var w=r[6];var D=r[7];for(G=0;80>G;G++){H[G]=16>G?new c(b[2*G+I],b[2*G+I+1]):g(v(H[G-2]),H[G-7],u(H[G-15]),H[G-16]);var C=d(D,k(B),new c(B.highOrder&n.highOrder^~B.highOrder&w.highOrder,B.lowOrder&n.lowOrder^~B.lowOrder&w.lowOrder),A[G],H[G]);var E=a(f(L),new c(L.highOrder&K.highOrder^L.highOrder&l.highOrder^K.highOrder&l.highOrder,L.lowOrder&K.lowOrder^L.lowOrder&l.lowOrder^K.lowOrder&l.lowOrder));D=w;w=n;n=B;B=a(q,C);q=l;l=K;
K=L;L=a(C,E)}r[0]=a(L,r[0]);r[1]=a(K,r[1]);r[2]=a(l,r[2]);r[3]=a(q,r[3]);r[4]=a(B,r[4]);r[5]=a(n,r[5]);r[6]=a(w,r[6]);r[7]=a(D,r[7])}b=[];for(I=0;I<r.length;I++)b.push(r[I].highOrder),b.push(r[I].lowOrder);return function(x){for(var y="",m=4*x.length,t,z=0;z<m;z+=1)t=x[z>>2]>>8*(3-z%4),y+="0123456789abcdef".charAt(t>>4&15)+"0123456789abcdef".charAt(t&15);return y}(b)};p.login||(p.login={},p.login.sha512=p.sha512);p.image=function(b,c){var a={options:{}},g={input:!1,minWidth:!1,maxWidth:null,maxHeight:null,
maxJpegSizeBytes:null,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}},d;for(d in g)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=g[d];b.classList.add("jupload");1==a.options.input&&b.classList.add("input");a.addImage=function(f){return p.image.create(f)};a.addImages=function(f){1==a.options.singleFile&&(b.innerHTML="");for(var k=0;k<f.length;k++)b.appendChild(a.addImage(f[k]))};
a.addFromFile=function(f){if("image"==f.type.split("/")[0]){1==a.options.singleFile&&(b.innerHTML="");var k=new FileReader;k.addEventListener("load",function(u){var v=new Image;v.onload=function(){var e=document.createElement("canvas");e.width=v.width;e.height=v.height;e.getContext("2d").drawImage(v,0,0,e.width,e.height);e={file:a.getDataURL(e,f.type),extension:f.name.substr(f.name.lastIndexOf(".")+1),name:f.name,size:f.size,lastmodified:f.lastModified};if("data:"==this.src.substr(0,5)){var r=this.src.split(",");
e.content=r[1]}r=a.addImage(e);b.appendChild(r);if("function"==typeof a.options.onchange)a.options.onchange(r,e)};v.src=u.srcElement.result});k.readAsDataURL(f)}else alert(text.extentionNotAllowed)};a.addFromUrl=function(f){if("data"==f.substr(0,4)||a.options.remoteParser){if("data"==f.substr(0,4)){var k=f.split(";");k=k[0].split("/");k=k[1]}else k=f.substr(f.lastIndexOf(".")+1),f=a.options.remoteParser+f;var u=new Image;u.onload=function(){var v=document.createElement("canvas");v.width=u.width;v.height=
u.height;v.getContext("2d").drawImage(u,0,0,v.width,v.height);v.toBlob(function(e){e={file:window.URL.createObjectURL(e),extension:k};e.content=v.toDataURL();e.content=e.content.split(",");e.content=e.content[1];var r=a.addImage(e);b.appendChild(r);if("function"==typeof a.options.onchange)a.options.onchange(r,e)})};u.src=f}else console.error("remoteParser not defined in your initialization")};a.getCanvas=function(f){var k=document.createElement("canvas"),u=Math.min((a.options.maxWidth||f.width)/f.width,
(a.options.maxHeight||f.height)/f.height,1);k.width=f.width*u;k.height=f.height*u;return k};a.getDataURL=function(f,k){for(var u=.92,v=null,e=f.toDataURL(k,u);a.options.maxJpegSizeBytes&&"image/jpeg"===k&&e.length>a.options.maxJpegSizeBytes&&e.length!==v;)u*=.9,v=e.length,e=f.toDataURL(k,u);return e};var h=document.createElement("input");h.type="file";h.setAttribute("accept","image/*");h.onchange=function(){for(var f=0;f<this.files.length;f++)a.addFromFile(this.files[f])};b.addEventListener("click",
function(f){p.click(h)});b.addEventListener("dragenter",function(f){b.style.border="1px dashed #000"});b.addEventListener("dragleave",function(f){b.style.border="1px solid #eee"});b.addEventListener("dragstop",function(f){b.style.border="1px solid #eee"});b.addEventListener("dragover",function(f){f.preventDefault()});b.addEventListener("drop",function(f){f.preventDefault();f.stopPropagation();var k=(f.originalEvent||f).dataTransfer.getData("text/html");if((f.originalEvent||f).dataTransfer.files.length)for(k=
0;k<f.dataTransfer.files.length;k++)a.addFromFile(f.dataTransfer.files[k]);else if(k&&(1==a.options.singleFile&&(b.innerHTML=""),f=document.createElement("div"),f.innerHTML=k,f=f.querySelectorAll("img"),f.length))for(k=0;k<f.length;k++)a.addFromUrl(f[k].src);b.style.border="1px solid #eee";return!1});return b.image=a};p.image.create=function(b){b.date||(b.date="");var c=document.createElement("img");c.setAttribute("data-date",b.lastmodified?b.lastmodified:b.date);c.setAttribute("data-name",b.name);
c.setAttribute("data-size",b.size);c.setAttribute("data-small",b.small?b.small:"");c.setAttribute("data-cover",b.cover?1:0);c.setAttribute("data-extension",b.extension);c.setAttribute("src",b.file);c.className="jfile";c.style.width="100%";b.content&&(c.content=b.content);return c};p.lazyLoading=function(b,c){c.loadUp&&"function"==typeof c.loadUp||(c.loadUp=function(){return!1});c.loadDown&&"function"==typeof c.loadDown||(c.loadDown=function(){return!1});c.timer||(c.timer=100);var a=null,g=function(d){null==
a&&(d=b.scrollTop,b.scrollTop+2*b.clientHeight>=b.scrollHeight?c.loadDown()&&d==b.scrollTop&&(b.scrollTop-=b.clientHeight):b.scrollTop<=b.clientHeight&&c.loadUp()&&d==b.scrollTop&&(b.scrollTop+=b.clientHeight),a=setTimeout(function(){a=null},c.timer))};b.onscroll=function(d){g(d)};b.onwheel=function(d){g(d)};return{}};p.loading=function(){var b={},c=null;b.show=function(){c||(c=document.createElement("div"),c.className="jloading");document.body.appendChild(c)};b.hide=function(){c&&c.parentNode&&document.body.removeChild(c)};
return b}();p.mask=function(){var b={},c=0,a=[],g=[];b.run=function(d,h,f){if(d.toString().length&&h.toString().length){"undefined"==typeof f&&(f=".");if(p.isNumeric(d)){var k="number"==typeof d?(""+d).split("."):(""+d).split(f);d=k[0];k=k[1]}else d=""+d;c=0;a=[];b.prepare(h);if(d)for(h=0;h<d.length;h++)null!=d[h]&&b.process(d[h]);if(k&&(b.process(f),d=k))for(h=0;h<d.length;h++)null!=d[h]&&b.process(d[h]);return a.join("")}return""};b.apply=function(d){if(d.target&&!d.target.getAttribute("readonly")){var h=
d.target.getAttribute("data-mask");if(h&&d.key&&2>d.key.length){c=0;a=[];b.prepare(h);h="";"DIV"==d.target.tagName?d.target.innerText&&(h=(h=window.getSelection())&&h.anchorOffset!=h.focusOffset?d.target.innerText.substring(0,h.anchorOffset>h.focusOffset?h.focusOffset:h.anchorOffset):d.target.innerText):h=d.target.selectionStart<d.target.selectionEnd?d.target.value.substring(0,d.target.selectionStart):d.target.value;if(h)for(var f=0;f<h.length;f++)null!=h[f]&&b.process(h[f]);b.process(d.key);d.preventDefault();
h=a.join("");"DIV"==d.target.tagName?h!=d.target.innerText&&(d.target.innerText=h,p.focus(d.target)):d.target.value=h;g.length==a.length&&g[g.length-1].length==a[a.length-1].length?d.target.setAttribute("data-completed","true"):d.target.setAttribute("data-completed","false")}}};b.process=function(d){do{if("mm"==g[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&2>a[c]&&3>parseInt(d)||0==a[c]&&10>a[c]?(a[c]+=d,c++,!0):!1;if("dd"==
g[c])return null==a[c]||""==a[c]?3<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:3==a[c]&&2>parseInt(d)||3>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh24"==g[c])return null==a[c]||""==a[c]?2<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:2==a[c]&&4>parseInt(d)||2>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh"==g[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&
3>parseInt(d)||1>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("mi"==g[c]||"ss"==g[c])return null==a[c]||""==a[c]?5<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("yy"==g[c]||"yyyy"==g[c])return 10>parseInt(d)?(a[c]=null==a[c]||""==a[c]?d:a[c]+d,a[c].length==g[c].length&&c++,!0):!1;if("#"==g[c]||"#.##"==g[c]||"#,##"==g[c]||"# ##"==g[c]||"#'##"==g[c]){if(d.match(/[0-9]/g)){var h="#.##"==g[c]?".":"#,##"==g[c]?",":"# ##"==g[c]?" ":"#'##"==
g[c]?"'":"";if(null==a[c]||""==a[c])a[c]=d;else if(a[c]+=d,h){a[c]=a[c].match(/[0-9]/g).join("");d=[];for(var f=0,k=a[c].length-1;0<=k;k--)d.push(a[c][k]),f++,f%3||d.push(h);d=d.reverse();a[c]=d.join("");a[c].substr(0,1)==h&&(a[c]=a[c].substr(1))}return!0}if(!("#.##"==g[c]&&"."==d||"#,##"==g[c]&&","==d||"# ##"==g[c]&&" "==d||"#'##"==g[c]&&"'"==d)&&a[c]&&(c++,g[c])){if(g[c]==d)return a[c]=d,!0;if("0"==g[c]&&g[c+1]==d)return c++,a[c]=d,!0}return!1}if("0"==g[c])return d.match(/[0-9]/g)?(a[c]=d,c++,!0):
!1;if("a"==g[c])return d.match(/[a-zA-Z]/g)?(a[c]=d,c++,!0):!1;if(null!=g[c]&&(h="\\a"==g[c]?"a":"\\0"==g[c]?"0":"[-]"==g[c]?"-"==d||"+"==d?d:" ":g[c],a[c]=h,d==h))return c++,!0;c++}while(g[c])};b.prepare=function(d){g=[];for(var h=0;h<d.length;h++)d[h].match(/[0-9]|[a-z]|\\/g)?"y"==d[h]&&"y"==d[h+1]&&"y"==d[h+2]&&"y"==d[h+3]?(g.push("yyyy"),h+=3):"y"==d[h]&&"y"==d[h+1]?(g.push("yy"),h++):"m"==d[h]&&"m"==d[h+1]&&"m"==d[h+2]&&"m"==d[h+3]?(g.push("mmmm"),h+=3):"m"==d[h]&&"m"==d[h+1]&&"m"==d[h+2]?(g.push("mmm"),
h+=2):"m"==d[h]&&"m"==d[h+1]?(g.push("mm"),h++):"d"==d[h]&&"d"==d[h+1]?(g.push("dd"),h++):"h"==d[h]&&"h"==d[h+1]&&"2"==d[h+2]&&"4"==d[h+3]?(g.push("hh24"),h+=3):"h"==d[h]&&"h"==d[h+1]?(g.push("hh"),h++):"m"==d[h]&&"i"==d[h+1]?(g.push("mi"),h++):"s"==d[h]&&"s"==d[h+1]?(g.push("ss"),h++):"a"==d[h]&&"m"==d[h+1]?(g.push("am"),h++):"p"==d[h]&&"m"==d[h+1]?(g.push("pm"),h++):"\\"==d[h]&&"0"==d[h+1]?(g.push("\\0"),h++):"\\"==d[h]&&"a"==d[h+1]?(g.push("\\a"),h++):g.push(d[h]):"#"==d[h]&&"."==d[h+1]&&"#"==
d[h+2]&&"#"==d[h+3]?(g.push("#.##"),h+=3):"#"==d[h]&&","==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(g.push("#,##"),h+=3):"#"==d[h]&&" "==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(g.push("# ##"),h+=3):"#"==d[h]&&"'"==d[h+1]&&"#"==d[h+2]&&"#"==d[h+3]?(g.push("#'##"),h+=3):"["==d[h]&&"-"==d[h+1]&&"]"==d[h+2]?(g.push("[-]"),h+=2):g.push(d[h])};"undefined"!==typeof document&&document.addEventListener("keydown",b.apply);return b}();p.notification=function(b){var c={options:{}},a={icon:null,name:"Notification",date:null,
error:null,title:null,message:null,timeout:4E3,autoHide:!0,closeable:!0};for(d in a)b&&b.hasOwnProperty(d)?c.options[d]=b[d]:c.options[d]=a[d];var g=document.createElement("div");g.className="jnotification";c.options.error&&g.classList.add("jnotification-error");b=document.createElement("div");b.className="jnotification-container";g.appendChild(b);a=document.createElement("div");a.className="jnotification-header";b.appendChild(a);var d=document.createElement("div");d.className="jnotification-image";
a.appendChild(d);if(c.options.icon){var h=document.createElement("img");h.src=c.options.icon;d.appendChild(h)}d=document.createElement("div");d.className="jnotification-name";d.innerHTML=c.options.name;a.appendChild(d);1==c.options.closeable&&(d=document.createElement("div"),d.className="jnotification-close",d.onclick=function(){c.hide()},a.appendChild(d));d=document.createElement("div");d.className="jnotification-date";a.appendChild(d);a=document.createElement("div");a.className="jnotification-content";
b.appendChild(a);c.options.title&&(b=document.createElement("div"),b.className="jnotification-title",b.innerHTML=c.options.title,a.appendChild(b));b=document.createElement("div");b.className="jnotification-message";b.innerHTML=c.options.message;a.appendChild(b);c.show=function(){document.body.appendChild(g);800<p.getWindowWidth()?p.animation.fadeIn(g):p.animation.slideTop(g,1)};c.hide=function(){800<p.getWindowWidth()?p.animation.fadeOut(g,function(){g.parentNode&&(g.parentNode.removeChild(g),f&&
clearTimeout(f))}):p.animation.slideTop(g,0,function(){g.parentNode&&(g.parentNode.removeChild(g),f&&clearTimeout(f))})};c.show();if(1==c.options.autoHide)var f=setTimeout(function(){c.hide()},c.options.timeout);800>p.getWindowWidth()&&g.addEventListener("swipeup",function(k){c.hide();k.preventDefault();k.stopPropagation()});return c};p.notification.isVisible=function(){var b=document.querySelector(".jnotification");return b&&b.parentNode?!0:!1};p.palette=function(b){var c={material:["#ffebee #fce4ec #f3e5f5 #e8eaf6 #e3f2fd #e0f7fa #e0f2f1 #e8f5e9 #f1f8e9 #f9fbe7 #fffde7 #fff8e1 #fff3e0 #fbe9e7 #efebe9 #fafafa #eceff1".split(" "),
"#ffcdd2 #f8bbd0 #e1bee7 #c5cae9 #bbdefb #b2ebf2 #b2dfdb #c8e6c9 #dcedc8 #f0f4c3 #fff9c4 #ffecb3 #ffe0b2 #ffccbc #d7ccc8 #f5f5f5 #cfd8dc".split(" "),"#ef9a9a #f48fb1 #ce93d8 #9fa8da #90caf9 #80deea #80cbc4 #a5d6a7 #c5e1a5 #e6ee9c #fff59d #ffe082 #ffcc80 #ffab91 #bcaaa4 #eeeeee #b0bec5".split(" "),"#e57373 #f06292 #ba68c8 #7986cb #64b5f6 #4dd0e1 #4db6ac #81c784 #aed581 #dce775 #fff176 #ffd54f #ffb74d #ff8a65 #a1887f #e0e0e0 #90a4ae".split(" "),"#ef5350 #ec407a #ab47bc #5c6bc0 #42a5f5 #26c6da #26a69a #66bb6a #9ccc65 #d4e157 #ffee58 #ffca28 #ffa726 #ff7043 #8d6e63 #bdbdbd #78909c".split(" "),
"#f44336 #e91e63 #9c27b0 #3f51b5 #2196f3 #00bcd4 #009688 #4caf50 #8bc34a #cddc39 #ffeb3b #ffc107 #ff9800 #ff5722 #795548 #9e9e9e #607d8b".split(" "),"#e53935 #d81b60 #8e24aa #3949ab #1e88e5 #00acc1 #00897b #43a047 #7cb342 #c0ca33 #fdd835 #ffb300 #fb8c00 #f4511e #6d4c41 #757575 #546e7a".split(" "),"#d32f2f #c2185b #7b1fa2 #303f9f #1976d2 #0097a7 #00796b #388e3c #689f38 #afb42b #fbc02d #ffa000 #f57c00 #e64a19 #5d4037 #616161 #455a64".split(" "),"#c62828 #ad1457 #6a1b9a #283593 #1565c0 #00838f #00695c #2e7d32 #558b2f #9e9d24 #f9a825 #ff8f00 #ef6c00 #d84315 #4e342e #424242 #37474f".split(" "),
"#b71c1c #880e4f #4a148c #1a237e #0d47a1 #006064 #004d40 #1b5e20 #33691e #827717 #f57f17 #ff6f00 #e65100 #bf360c #3e2723 #212121 #263238".split(" ")],fire:["0b1a6d 840f38 b60718 de030b ff0c0c fd491c fc7521 faa331 fbb535 ffc73a".split(" "),"071147 5f0b28 930513 be0309 ef0000 fa3403 fb670b f9991b faad1e ffc123".split(" "),"03071e 370617 6a040f 9d0208 d00000 dc2f02 e85d04 f48c06 faa307 ffba08".split(" "),"020619 320615 61040d 8c0207 bc0000 c82a02 d05203 db7f06 e19405 efab00".split(" "),"020515 2d0513 58040c 7f0206 aa0000 b62602 b94903 c57205 ca8504 d89b00".split(" ")],
baby:["eddcd2 fff1e6 fde2e4 fad2e1 c5dedd dbe7e4 f0efeb d6e2e9 bcd4e6 99c1de".split(" "),"e1c4b3 ffd5b5 fab6ba f5a8c4 aacecd bfd5cf dbd9d0 baceda 9dc0db 7eb1d5".split(" "),"daa990 ffb787 f88e95 f282a9 8fc4c3 a3c8be cec9b3 9dbcce 82acd2 649dcb".split(" "),"d69070 ff9c5e f66770 f05f8f 74bbb9 87bfae c5b993 83aac3 699bca 4d89c2".split(" "),"c97d5d f58443 eb4d57 e54a7b 66a9a7 78ae9c b5a67e 7599b1 5c88b7 4978aa".split(" ")]};return c[b]?c[b]:c.material};p.picker=function(b,c){if(b.picker)return b.picker.setOptions(c,
!0);var a={type:"picker",options:{}},g=null,d=null,h=function(){d.innerHTML="";for(var f=Object.keys(a.options.data),k=0;k<f.length;k++){var u=document.createElement("div");u.k=f[k];u.v=a.options.data[f[k]];u.innerHTML=a.getLabel(f[k]);u.onclick=function(){a.setValue(this.k);"function"==typeof a.options.onchange&&a.options.onchange.call(a,b,a,"reserved",this.v,this.k)};d.appendChild(u)}};a.setOptions=function(f,k){var u={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,
onload:null,width:null,header:!0,right:!1,content:!1,columns:null};f&&f.options&&(f.data=f.options);for(var v in u)if(f&&f.hasOwnProperty(v))a.options[v]=f[v];else if("undefined"==typeof a.options[v]||!0===k)a.options[v]=u[v];g.style.display=!1===a.options.header?"none":"";g.style.width=a.options.width?parseInt(a.options.width)+"px":"";0<a.options.columns&&(d.classList.add("jpicker-columns"),d.style.width=a.options.width?a.options.width:36*a.options.columns+"px");isNaN(a.options.value)&&(a.options.value=
"0");h();a.setValue(a.options.value);return a};a.getValue=function(){return a.options.value};a.setValue=function(f){a.setLabel(f);a.options.value=String(f);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value});"generic"!==d.children[f].getAttribute("type")&&a.close()};a.getLabel=function(f){f=a.options.data[f]||null;"function"==typeof a.options.render&&(f=a.options.render(f));return f};a.setLabel=function(f){f=a.options.content?
'<i class="material-icons">'+a.options.content+"</i>":a.getLabel(f);g.innerHTML=f};a.open=function(){if(!b.classList.contains("jpicker-focus")){p.tracking(a,!0);b.classList.add("jpicker-focus");b.focus();var f=g.getBoundingClientRect(),k=d.getBoundingClientRect();d.style.marginTop=window.innerHeight<f.bottom+k.height?-1*(k.height+4)+"px":f.height+2+"px";!0===a.options.right&&(d.style.marginLeft=-1*k.width+24+"px");if("function"==typeof a.options.onopen)a.options.onopen(b,a)}};a.close=function(){if(b.classList.contains("jpicker-focus")&&
(b.classList.remove("jpicker-focus"),p.tracking(a,!1),"function"==typeof a.options.onclose))a.options.onclose(b,a)};(function(){b.classList.add("jpicker");b.setAttribute("tabindex","900");g=document.createElement("div");g.classList.add("jpicker-header");g.onmouseup=function(f){b.classList.contains("jpicker-focus")?a.close():a.open()};d=document.createElement("div");d.classList.add("jpicker-content");b.appendChild(g);b.appendChild(d);b.value=c.value||0;a.setOptions(c);if("function"==typeof a.options.onload)a.options.onload(b,
a);b.change=a.setValue;b.val=function(f){if(void 0===f)return a.getValue();a.setValue(f)};b.picker=a})();return a};p.rating=function(b,c){if(b.rating)return b.rating.setOptions(c,!0);var a={options:{},setOptions:function(g,d){var h={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(f in h)if(g&&g.hasOwnProperty(f))a.options[f]=g[f];else if("undefined"==typeof a.options[f]||!0===d)a.options[f]=h[f];b.innerHTML="";for(h=0;h<a.options.number;h++){var f=document.createElement("div");
f.setAttribute("data-index",h+1);f.setAttribute("title",a.options.tooltip[h]);b.appendChild(f)}if(a.options.value)for(h=0;h<a.options.number;h++)h<a.options.value&&b.children[h].classList.add("jrating-selected");return a},setValue:function(g){for(var d=0;d<a.options.number;d++)d<g?b.children[d].classList.add("jrating-selected"):(b.children[d].classList.remove("jrating-over"),b.children[d].classList.remove("jrating-selected"));a.options.value=g;if("function"==typeof a.options.onchange)a.options.onchange(b,
g);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},getValue:function(){return a.options.value}};(function(){a.setOptions(c);b.classList.add("jrating");b.addEventListener("click",function(g){g=g.target.getAttribute("data-index");void 0!=g&&(g==a.options.value?a.setValue(0):a.setValue(g))});b.addEventListener("mouseover",function(g){g=g.target.getAttribute("data-index");for(var d=0;d<a.options.number;d++)d<g?b.children[d].classList.add("jrating-over"):
b.children[d].classList.remove("jrating-over")});b.addEventListener("mouseout",function(g){for(g=0;g<a.options.number;g++)b.children[g].classList.remove("jrating-over")});b.change=a.setValue;b.val=function(g){if(void 0===g)return a.getValue();a.setValue(g)};b.rating=a})();return a};p.sorting=function(b,c){var a={};var g={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},d=null,h;for(h in g)c&&c.hasOwnProperty(h)?a[h]=c[h]:a[h]=g[h];b.classList.add("jsorting");b.addEventListener("dragstart",
function(k){var u=Array.prototype.indexOf.call(k.target.parentNode.children,k.target);d={element:k.target,o:u,d:u};k.target.style.opacity="0.25";if("function"==typeof a.ondragstart)a.ondragstart(b,k.target,k)});b.addEventListener("dragover",function(k){k.preventDefault();f(k.target)&&d&&"true"==k.target.getAttribute("draggable")&&d.element!=k.target&&((a.direction?k.target.clientWidth/2>k.offsetX:k.target.clientHeight/2>k.offsetY)?k.target.parentNode.insertBefore(d.element,k.target):k.target.parentNode.insertBefore(d.element,
k.target.nextSibling),d.d=Array.prototype.indexOf.call(k.target.parentNode.children,d.element))});b.addEventListener("dragleave",function(k){k.preventDefault()});b.addEventListener("dragend",function(k){k.preventDefault();if(d){if("function"==typeof a.ondragend)a.ondragend(b,d.element,k);d.o<d.d?k.target.parentNode.insertBefore(d.element,k.target.parentNode.children[d.o]):k.target.parentNode.insertBefore(d.element,k.target.parentNode.children[d.o].nextSibling);d.element.style.opacity="";d=null}});
b.addEventListener("drop",function(k){k.preventDefault();if(d&&d.o!=d.d&&"function"==typeof a.ondrop)a.ondrop(b,d.o,d.d,d.element,k.target,k);d.element.style.opacity="";d=null});var f=function(k){function u(e){e.className&&e.classList.contains("jsorting")&&(v=!0);v||u(e.parentNode)}var v=!1;u(k);return v};for(g=0;g<b.children.length;g++)b.children[g].hasAttribute("draggable")||b.children[g].setAttribute("draggable","true");return b};p.tabs=function(b,c){var a={options:{}},g={data:[],position:null,
allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null};for(v in g)c&&c.hasOwnProperty(v)?a.options[v]=c[v]:a.options[v]=g[v];b.classList.add("jtabs");var d=null,h=null,f=null,k=function(e){var r=a.headers.children[e].getBoundingClientRect();"modern"==a.options.palette?(f.style.width=r.width-4+"px",f.style.left=a.headers.children[e].offsetLeft+2+"px"):(f.style.width=
r.width+"px",f.style.left=a.headers.children[e].offsetLeft+"px");f.style.bottom="0px"},u=function(e){"function"==typeof a.headers.scrollTo?a.headers.scrollTo({left:e,behavior:"smooth"}):a.headers.scrollLeft=e;1>=e?d.classList.add("disabled"):d.classList.remove("disabled");e>=a.headers.scrollWidth-a.headers.offsetWidth?h.classList.add("disabled"):h.classList.remove("disabled");a.headers.scrollWidth<=a.headers.offsetWidth?(d.style.display="none",h.style.display="none"):(d.style.display="",h.style.display=
"")};a.open=function(e){for(var r=null,A=0;A<a.headers.children.length;A++)a.headers.children[A].classList.contains("jtabs-selected")&&(r=A),a.headers.children[A].classList.remove("jtabs-selected"),a.content.children[A]&&a.content.children[A].classList.remove("jtabs-selected");a.headers.children[e].classList.add("jtabs-selected");a.content.children[e]&&a.content.children[e].classList.add("jtabs-selected");if(r!=e&&"function"==typeof a.options.onchange&&a.content.children[e])a.options.onchange(b,a,
e,a.headers.children[e],a.content.children[e]);if(1==a.options.hideHeaders&&3>a.headers.children.length&&0==a.options.allowCreate)a.headers.parentNode.style.display="none";else{1==a.options.animation&&k(e);a.headers.parentNode.style.display="";r=a.headers.children[e].offsetLeft;e=r+a.headers.children[e].offsetWidth;A=a.headers.scrollLeft;var H=A+a.headers.offsetWidth;A<=r&&H>=e||u(r-1)}};a.selectIndex=function(e){e=Array.prototype.indexOf.call(a.headers.children,e);0<=e&&a.open(e);return e};a.rename=
function(e,r){r||(r=prompt("New title",a.headers.children[e].innerText));a.headers.children[e].innerText=r;a.open(e)};a.create=function(e,r){if("function"==typeof a.options.onbeforecreate){var A=a.options.onbeforecreate(b);if(!1===A)return!1;e=A}A=a.appendElement(e);if("function"==typeof a.options.oncreate)a.options.oncreate(b,A);return A};a.remove=function(e){return a.deleteElement(e)};a.nextNumber=function(){for(var e=0,r=0;r<a.headers.children.length;r++){var A=a.headers.children[r].innerText.match(/[0-9].*/);
A>e&&(e=parseInt(A))}e?e++:e=1;return e};a.deleteElement=function(e){if(a.headers.children[e])a.headers.removeChild(a.headers.children[e]),a.content.removeChild(a.content.children[e]);else return!1;a.open(0);if("function"==typeof a.options.ondelete)a.options.ondelete(b,e)};a.appendElement=function(e){e||(e=prompt("Title?",""));if(e){var r=document.createElement("div");a.content.appendChild(r);var A=document.createElement("div");A.innerHTML=e;A.content=r;a.headers.insertBefore(A,a.headers.lastChild);
a.options.allowChangePosition&&A.setAttribute("draggable","true");a.selectIndex(A);return r}};a.getActive=function(){for(var e=0;e<a.headers.children.length;e++)if(a.headers.children[e].classList.contains("jtabs-selected"))return e;return 0};a.updateContent=function(e,r){if("string"===typeof r){var A=document.createElement("div");A.innerHTML=r}a.content.children[e].classList.contains("jtabs-selected")&&r.classList.add("jtabs-selected");a.content.replaceChild(r,a.content.children[e])};a.updatePosition=
function(e,r){e>r?a.content.insertBefore(a.content.children[e],a.content.children[r]):a.content.insertBefore(a.content.children[e],a.content.children[r].nextSibling);a.open(r);if("function"==typeof a.options.onchangeposition)a.options.onchangeposition(a.headers,e,r)};a.move=function(e,r){e>r?a.headers.insertBefore(a.headers.children[e],a.headers.children[r]):a.headers.insertBefore(a.headers.children[e],a.headers.children[r].nextSibling);a.updatePosition(e,r)};a.setBorder=k;a.init=function(){b.innerHTML=
"";a.headers=document.createElement("div");a.content=document.createElement("div");a.headers.classList.add("jtabs-headers");a.content.classList.add("jtabs-content");a.options.palette?b.classList.add("jtabs-modern"):b.classList.remove("jtabs-modern");a.options.padding&&(a.content.style.padding=parseInt(a.options.padding)+"px");var e=document.createElement("div");e.className="jtabs-headers-container";e.appendChild(a.headers);var r=document.createElement("div");r.className="jtabs-controls";r.setAttribute("draggable",
"false");e.appendChild(r);"bottom"==a.options.position?(b.appendChild(a.content),b.appendChild(e)):(b.appendChild(e),b.appendChild(a.content));1==a.options.allowCreate&&(e=document.createElement("div"),e.className="jtabs-add",e.onclick=function(){a.create()},r.appendChild(e));d=document.createElement("div");d.className="jtabs-prev";d.onclick=function(){u(a.headers.scrollLeft-a.headers.offsetWidth)};r.appendChild(d);h=document.createElement("div");h.className="jtabs-next";h.onclick=function(){u(a.headers.scrollLeft+
a.headers.offsetWidth)};r.appendChild(h);for(r=0;r<a.options.data.length;r++){e=a.options.data[r].titleElement?a.options.data[r].titleElement:document.createElement("div");if(a.options.data[r].icon){var A=document.createElement("div"),H=document.createElement("i");H.classList.add("material-icons");H.innerHTML=a.options.data[r].icon;A.appendChild(H);e.appendChild(A)}a.options.data[r].title&&(A=document.createTextNode(a.options.data[r].title),e.appendChild(A));a.options.data[r].width&&(e.style.width=
a.options.data[r].width);a.options.data[r].contentElement?A=a.options.data[r].contentElement:(A=document.createElement("div"),A.innerHTML=a.options.data[r].content);a.headers.appendChild(e);a.content.appendChild(A)}f=document.createElement("div");f.className="jtabs-border";a.headers.appendChild(f);a.options.animation&&b.classList.add("jtabs-animation");a.headers.addEventListener("click",function(G){G=G.target.parentNode.classList.contains("jtabs-headers")?G.target:"I"==G.target.tagName?G.target.parentNode.parentNode:
G.target.parentNode;G=a.selectIndex(G);if("function"==typeof a.options.onclick)a.options.onclick(b,a,G,a.headers.children[G],a.content.children[G])});a.headers.addEventListener("contextmenu",function(G){a.selectIndex(G.target)});a.headers.children.length&&a.open(0);u(0);1==a.options.allowChangePosition&&p.sorting(a.headers,{direction:1,ondrop:function(G,I,L){a.updatePosition(I,L)}});if("function"==typeof a.options.onload)a.options.onload(b,a)};if(b.children[0]&&b.children[0].children.length)for(g=
0;g<b.children[0].children.length;g++){var v=a.options.data&&a.options.data[g]?a.options.data[g]:{};b.children[1]&&b.children[1].children[g]?(v.titleElement=b.children[0].children[g],v.contentElement=b.children[1].children[g]):v.contentElement=b.children[0].children[g];a.options.data[g]=v}v=!1;if(a.options.data)for(g=0;g<a.options.data.length;g++)a.options.data[g].url&&(p.ajax({url:a.options.data[g].url,type:"GET",dataType:"text/html",index:g,success:function(e){a.options.data[this.index].content=
e},complete:function(){a.init()}}),v=!0);v||a.init();return b.tabs=a};p.toolbar=function(b,c){var a={options:{}},g={app:null,container:!1,badge:!1,title:!1,items:[]},d;for(d in g)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=g[d];!b&&c.app&&c.app.el&&(b=document.createElement("div"),c.app.el.appendChild(b));var h=document.createElement("div");h.classList.add("jtoolbar-item");h.classList.add("jtoolbar-arrow");g=document.createElement("div");g.classList.add("jtoolbar-floating");h.appendChild(g);
a.selectItem=function(u){for(var v=k.children,e=0;e<v.length;e++)u!=v[e]&&v[e].classList.remove("jtoolbar-selected");u.classList.add("jtoolbar-selected")};a.hide=function(){p.animation.slideBottom(b,0,function(){b.style.display="none"})};a.show=function(){b.style.display="";p.animation.slideBottom(b,1)};a.get=function(){return b};a.setBadge=function(u,v){k.children[u].children[1].firstChild.innerHTML=v};a.destroy=function(){toolbar.remove();b.innerHTML=""};var f=function(){this.classList.contains("jtoolbar-active")?
this.classList.remove("jtoolbar-active"):this.classList.add("jtoolbar-active")};a.create=function(u){k.innerHTML="";for(var v=0;v<u.length;v++){var e=document.createElement("div");e.classList.add("jtoolbar-item");u[v].width&&(e.style.width=parseInt(u[v].width)+"px");u[v].k&&(e.k=u[v].k);u[v].tooltip&&e.setAttribute("title",u[v].tooltip);u[v].id&&e.setAttribute("id",u[v].id);u[v].state&&(e.toggleState=f);u[v].active&&e.classList.add("jtoolbar-active");if("select"==u[v].type||"dropdown"==u[v].type)p.picker(e,
u[v]);else if("divisor"==u[v].type)e.classList.add("jtoolbar-divisor");else if("label"==u[v].type)e.classList.add("jtoolbar-label"),e.innerHTML=u[v].content;else{var r=document.createElement("i");if("undefined"===typeof u[v]["class"])r.classList.add("material-icons");else for(var A=u[v]["class"].split(" "),H=0;H<A.length;H++)r.classList.add(A[H]);r.innerHTML=u[v].content?u[v].content:"";e.appendChild(r);1==a.options.badge&&(r=document.createElement("div"),r.classList.add("jbadge"),A=document.createElement("div"),
A.innerHTML=u[v].badge?u[v].badge:"",r.appendChild(A),e.appendChild(r));u[v].title&&(1==a.options.title?(r=document.createElement("span"),r.innerHTML=u[v].title,e.appendChild(r)):e.setAttribute("title",u[v].title));a.options.app&&u[v].route&&(e.route=u[v].route,e.onclick=function(){a.options.app.pages(this.route)},a.options.app.pages(u[v].route,{toolbarItem:e,closed:!0}))}u[v].onclick&&(e.onclick=u[v].onclick.bind(u[v],b,a,e));k.appendChild(e)}};a.resize=function(){b.style.width=b.parentNode.offsetWidth;
k.appendChild(h)};b.classList.add("jtoolbar");1==a.options.container&&b.classList.add("jtoolbar-container");b.innerHTML="";b.onclick=function(u){var v=p.findElement(u.target,"jtoolbar-item");v&&a.selectItem(v);u.target.classList.contains("jtoolbar-arrow")&&(u.target.classList.add("jtoolbar-arrow-selected"),u.target.children[0].focus())};var k=document.createElement("div");b.appendChild(k);a.options.app&&b.classList.add("jtoolbar-mobile");a.create(a.options.items);return b.toolbar=a};return p});