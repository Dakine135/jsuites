(function(l,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):l.jSuites=b()})(this,function(){var l=function(b){var c={},a=function(d,g){return d[g.type]&&d[g.type]==g?!0:d.parentNode?a(d.parentNode,g):!1},e=function(d){if(0<l.current.length)for(var g=0;g<l.current.length;g++)l.current[g]&&!a(d.target,l.current[g])&&l.current[g].close()};c.init=function(){document.addEventListener("click",e);c.version="4.3.4"};c.tracking=
function(d,g){if(1==g)l.current=l.current.filter(function(m){return null!==m}),setTimeout(function(){l.current.push(d)},0);else{var h=l.current.indexOf(d);0<=h&&(l.current[h]=null)}};c.path=function(d){d=d.split(".");if(d.length){for(var g=this,h;h=d.shift();)g=g[h];return g}return!1};c.current=[];return c}();"undefined"!==typeof document&&l.init();l.ajax=function(b,c){if(Array.isArray(b)){var a={instance:[],complete:c};if(0<b.length)for(var e=0;e<b.length;e++)b[e].multiple=a,a.instance.push(l.ajax(b[e]));
return a}b.data||(b.data={});b.type&&(b.method=b.type);b.method||(b.method="GET");b.dataType||(b.dataType="json");if(b.data){var d=function(u,r){var k=[],t=Object.keys(u);if(t.length)for(var C=0;C<t.length;C++){var H=r?r+"["+t[C]+"]":t[C];if("object"==typeof u[t[C]]){H=d(u[t[C]],H);for(var G=Object.keys(H),I=0;I<G.length;I++)k[G[I]]=H[G[I]]}else k[H]=u[t[C]]}return k};a=[];var g=d(b.data),h=Object.keys(g);for(e=0;e<h.length;e++)a.push(h[e]+"="+encodeURIComponent(g[h[e]]));"GET"==b.method&&0<a.length&&
(0>b.url.indexOf("?")&&(b.url+="?"),b.url+=a.join("&"))}var m=new XMLHttpRequest;m.open(b.method,b.url,!0);m.setRequestHeader("X-Requested-With","XMLHttpRequest");"POST"==b.method?(m.setRequestHeader("Accept","application/json"),m.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==b.dataType?m.setRequestHeader("Content-Type","text/json"):"blob"==b.dataType&&(m.responseType="blob");1!=b.cache&&(m.setRequestHeader("pragma","no-cache"),m.setRequestHeader("cache-control","no-cache"));
1==b.withCredentials&&(m.withCredentials=!0);"function"==typeof b.beforeSend&&b.beforeSend(m);m.onload=function(){if(200===m.status)if("json"==b.dataType)try{var u=JSON.parse(m.responseText);b.success&&"function"==typeof b.success&&b.success(u)}catch(k){b.error&&"function"==typeof b.error&&b.error(k,u)}else u="blob"==b.dataType?m.response:m.responseText,b.success&&"function"==typeof b.success&&b.success(u);else b.error&&"function"==typeof b.error&&b.error(m.responseText);l.ajax.queue&&0<l.ajax.queue.length&&
l.ajax.send(l.ajax.queue.shift());if(l.ajax.requests&&l.ajax.requests.length){var r=l.ajax.requests.indexOf(m);l.ajax.requests.splice(r,1);l.ajax.requests.length||(b.complete&&"function"==typeof b.complete&&b.complete(u),l.ajax.oncomplete&&"function"==typeof l.ajax.oncomplete[b.group]&&(l.ajax.oncomplete[b.group](),l.ajax.oncomplete[b.group]=null));b.multiple&&b.multiple.instance&&(r=b.multiple.instance.indexOf(m),b.multiple.instance.splice(r,1),b.multiple.instance.length||b.multiple.complete&&"function"==
typeof b.multiple.complete&&b.multiple.complete(u))}};m.data=a;1==b.queue&&0<l.ajax.requests.length?l.ajax.queue.push(m):l.ajax.send(m);return m};l.ajax.send=function(b){b.data?b.send(b.data.join("&")):b.send();l.ajax.requests.push(b)};l.ajax.exists=function(b,c){var a=new XMLHttpRequest;a.open("HEAD",b,!1);a.send();a.status&&c(a.status)};l.ajax.oncomplete={};l.ajax.requests=[];l.ajax.queue=[];l.alert=function(b){800>l.getWindowWidth()&&l.dialog?l.dialog.open({title:"Alert",message:b}):alert(b)};
l.animation={};l.animation.slideLeft=function(b,c,a){1==c?(b.classList.add("slide-left-in"),setTimeout(function(){b.classList.remove("slide-left-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-left-out"),setTimeout(function(){b.classList.remove("slide-left-out");"function"==typeof a&&a()},400))};l.animation.slideRight=function(b,c,a){1==c?(b.classList.add("slide-right-in"),setTimeout(function(){b.classList.remove("slide-right-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-right-out"),
setTimeout(function(){b.classList.remove("slide-right-out");"function"==typeof a&&a()},400))};l.animation.slideTop=function(b,c,a){1==c?(b.classList.add("slide-top-in"),setTimeout(function(){b.classList.remove("slide-top-in");"function"==typeof a&&a()},400)):(b.classList.add("slide-top-out"),setTimeout(function(){b.classList.remove("slide-top-out");"function"==typeof a&&a()},400))};l.animation.slideBottom=function(b,c,a){1==c?(b.classList.add("slide-bottom-in"),setTimeout(function(){b.classList.remove("slide-bottom-in");
"function"==typeof a&&a()},400)):(b.classList.add("slide-bottom-out"),setTimeout(function(){b.classList.remove("slide-bottom-out");"function"==typeof a&&a()},100))};l.animation.fadeIn=function(b,c){b.style.display="";b.classList.add("fade-in");setTimeout(function(){b.classList.remove("fade-in");"function"==typeof c&&c()},2E3)};l.animation.fadeOut=function(b,c){b.classList.add("fade-out");setTimeout(function(){b.style.display="none";b.classList.remove("fade-out");"function"==typeof c&&c()},1E3)};l.calendar=
function(b,c){if(b.calendar)return b.calendar.setOptions(c,!0);var a={type:"calendar",options:{},date:null,setOptions:function(n,x){var D={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsFull:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
weekdays_short:"SMTWTFS".split(""),textDone:"Done",textReset:"Reset",textUpdate:"Update",value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null},B;for(B in D)if(n&&n.hasOwnProperty(B))a.options[B]=n[B];else if("undefined"==typeof a.options[B]||!0===x)a.options[B]=D[B];m.style.display=0==a.options.resetButton?"none":"";a.options.readonly?b.setAttribute("readonly","readonly"):b.removeAttribute("readonly");a.options.placeholder?b.setAttribute("placeholder",
a.options.placeholder):b.removeAttribute("placeholder");m.innerHTML=a.options.textReset;u.innerHTML=a.options.textDone;f.value=a.options.textUpdate;b.setAttribute("data-mask",a.options.format.toLowerCase());if(D=!a.options.value&&a.options.today?l.calendar.now():a.options.value)a.options.value=null,a.setValue(D);return a},open:function(n){if(!h.classList.contains("jcalendar-focus")&&!h.classList.contains("jcalendar-inline")){l.calendar.current=a;l.tracking(a,!0);a.getDays();"year-month-picker"==a.options.type&&
a.getMonths();a.options.time&&(p.value=a.date[3],y.value=a.date[4]);h.classList.add("jcalendar-focus");if(800>l.getWindowWidth()||a.options.fullscreen)h.classList.add("jcalendar-fullsize"),l.animation.slideBottom(k,1);else{h.classList.remove("jcalendar-fullsize");n=b.getBoundingClientRect();var x=k.getBoundingClientRect();a.options.position?(r.style.position="fixed",r.style.top=window.innerHeight<n.bottom+x.height?n.top-(x.height+2)+"px":n.top+n.height+2+"px",r.style.left=n.left+"px"):window.innerHeight<
n.bottom+x.height?r.style.bottom=1*n.height+x.height+2+"px":r.style.top="2px"}if("function"==typeof a.options.onopen)a.options.onopen(b)}},close:function(n,x){if(h.classList.contains("jcalendar-focus")){if(!1!==x){var D=h.querySelector(".jcalendar-selected");D="string"==typeof x?x:!D||D.classList.contains("jcalendar-disabled")?a.options.value:a.getValue();a.setValue(D)}if(!n&&"function"==typeof a.options.onclose)a.options.onclose(b);h.classList.remove("jcalendar-focus");l.tracking(a,!1);l.calendar.current=
null}return a.options.value},prev:function(){"years"==a.options.mode?(a.date[0]-=12,a.getYears()):"months"==a.options.mode?(a.date[0]=parseInt(a.date[0])-1,a.getMonths()):(2>a.date[1]?(--a.date[0],a.date[1]=12):--a.date[1],a.getDays())},next:function(){"years"==a.options.mode?(a.date[0]=parseInt(a.date[0])+12,a.getYears()):"months"==a.options.mode?(a.date[0]=parseInt(a.date[0])+1,a.getMonths()):(11<a.date[1]?(a.date[0]=parseInt(a.date[0])+1,a.date[1]=1):a.date[1]=parseInt(a.date[1])+1,a.getDays())},
setToday:function(){var n=(new Date).toISOString().substr(0,10);a.setValue(n);return n},setValue:function(n){n||(n=""+n);var x=n,D=a.options.value;if(D!=x){if(x){a.setLabel(x,a.options);var B=x.split(" ");B[1]||(B[1]="00:00:00");var E=B[1].split(":");B=B[0].split("-");n=parseInt(B[0]);var w=parseInt(B[1]);B=parseInt(B[2]);var z=parseInt(E[0]);E=parseInt(E[1]);a.date=[n,w,B,z,E,0];n=a.setLabel(x,a.options)}else a.date=null,n="";a.options.value=x;if("function"==typeof a.options.onchange)a.options.onchange(b,
x,D);if(b.value!=n&&(b.value=n,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})}a.getDays()},getValue:function(){return a.date?a.options.time?l.two(a.date[0])+"-"+l.two(a.date[1])+"-"+l.two(a.date[2])+" "+l.two(a.date[3])+":"+l.two(a.date[4])+":"+l.two(0):l.two(a.date[0])+"-"+l.two(a.date[1])+"-"+l.two(a.date[2])+" "+l.two(0)+":"+l.two(0)+":"+l.two(0):""},update:function(n,x){if(!n.classList.contains("jcalendar-disabled")){var D=h.querySelector(".jcalendar-selected");
D&&D.classList.remove("jcalendar-selected");n.classList.add("jcalendar-selected");n.classList.contains("jcalendar-set-month")?a.date[1]=x:a.date[2]=n.innerText;a.options.time?(a.date[3]=p.value,a.date[4]=y.value):a.close()}g()},reset:function(){a.setValue("");a.date=null;a.close(!1,!1)},getDays:function(){a.options.mode="days";var n=new Date,x=a.date&&l.isNumeric(a.date[0])?a.date[0]:parseInt(n.getFullYear()),D=a.date&&l.isNumeric(a.date[1])?a.date[1]:parseInt(n.getMonth())+1,B=a.date&&l.isNumeric(a.date[2])?
a.date[2]:parseInt(n.getDate()),E=a.date&&l.isNumeric(a.date[3])?a.date[3]:parseInt(n.getHours()),w=a.date&&l.isNumeric(a.date[4])?a.date[4]:parseInt(n.getMinutes());a.date=[x,D,B,E,w,0];t.innerHTML=x;C.innerHTML=a.options.months[D-1];E=n.getMonth()==D-1&&n.getFullYear()==x?!0:!1;w=n.getDate();n=new Date(x,D,0,0,0);var z=n.getDate();n=new Date(x,D-1,0,0,0);n=n.getDay()+1;var q=a.options.startingDay||0;n-=q;G.innerHTML="";var v=document.createElement("tr");v.setAttribute("align","center");G.appendChild(v);
for(var A=0;7>A;A++){var F=document.createElement("td");F.classList.add("jcalendar-weekday");F.innerHTML=a.options.weekdays_short[q];v.appendChild(F);q++;6<q&&(q=0)}for(var J=q=0,M=0;6>M;M++){v=document.createElement("tr");v.setAttribute("align","center");var N=!0;for(A=0;7>A;A++){F=document.createElement("td");F.classList.add("jcalendar-set-day");if(q>=n&&q<n+z){J++;F.innerHTML=J;J==B&&F.classList.add("jcalendar-selected");E&&w==J&&(F.style.fontWeight="bold");N=l.calendar.now(new Date(x,D-1,J),!0);
if(a.options.validRange){var P=!a.options.validRange[1]||N<=a.options.validRange[1]?!0:!1;(!a.options.validRange[0]||N>=a.options.validRange[0])&&P||F.classList.add("jcalendar-disabled")}N=!1}v.appendChild(F);q++}0==N&&G.appendChild(v)}L.style.display=a.options.time?"":"none";g()},getMonths:function(){a.options.mode="months";var n=a.options.months,x=new Date,D=parseInt(x.getFullYear());x=parseInt(x.getMonth())+1;var B=a.date&&l.isNumeric(a.date[0])?a.date[0]:D,E=a.date&&l.isNumeric(a.date[1])?a.date[1]:
x;t.innerHTML=a.date[0];C.innerHTML=n[E-1];var w=document.createElement("table");w.setAttribute("width","100%");for(var z=null,q=0;12>q;q++){q%4||(z=document.createElement("tr"),z.setAttribute("align","center"),w.appendChild(z));var v=document.createElement("td");v.classList.add("jcalendar-set-month");v.setAttribute("data-value",q+1);v.innerText=n[q];if(a.options.validRange){var A=B+"-"+l.two(q+1),F=!a.options.validRange[0]||A>=a.options.validRange[0].substr(0,7)?!0:!1;A=!a.options.validRange[1]||
A<=a.options.validRange[1].substr(0,7)?!0:!1;F&&A||v.classList.add("jcalendar-disabled")}q+1==E&&v.classList.add("jcalendar-selected");D==B&&q+1==x&&(v.style.fontWeight="bold");z.appendChild(v)}G.innerHTML='<tr><td colspan="7"></td></tr>';G.children[0].children[0].appendChild(w);g()},getYears:function(){a.options.mode="years";var n=new Date,x=n.getFullYear();n=a.date&&l.isNumeric(a.date[0])?a.date[0]:parseInt(n.getFullYear());for(var D=[],B=0;25>B;B++)D[B]=parseInt(a.date[0])+(B-12);var E=document.createElement("table");
E.setAttribute("width","100%");for(B=0;25>B;B++){if(!(B%5)){var w=document.createElement("tr");w.setAttribute("align","center");E.appendChild(w)}var z=document.createElement("td");z.classList.add("jcalendar-set-year");z.innerText=D[B];n==D[B]&&z.classList.add("jcalendar-selected");x==D[B]&&(z.style.fontWeight="bold");w.appendChild(z)}G.innerHTML='<tr><td colspan="7"></td></tr>';G.firstChild.firstChild.appendChild(E);g()},setLabel:function(n,x){return l.calendar.getDateString(n,x)},fromFormatted:function(n,
x){return l.calendar.extractDateFromString(n,x)}},e=function(n){if(l.findElement(n.target,"jcalendar-container")){var x=n.target.className;"jcalendar-prev"==x?a.prev():"jcalendar-next"==x?a.next():"jcalendar-month"==x?a.getMonths():"jcalendar-year"==x?a.getYears():"jcalendar-set-year"==x?(a.date[0]=n.target.innerText,"year-month-picker"==a.options.type?a.getMonths():a.getDays()):n.target.classList.contains("jcalendar-set-month")?(x=parseInt(n.target.getAttribute("data-value")),"year-month-picker"==
a.options.type?a.update(n.target,x):(a.date[1]=x,a.getDays())):"jcalendar-confirm"==x||"jcalendar-update"==x||"jcalendar-close"==x?a.close():"jcalendar-backdrop"==x?a.close(!1,!1):"jcalendar-reset"==x?a.reset():n.target.classList.contains("jcalendar-set-day")&&n.target.innerText&&a.update(n.target)}else a.close()},d=function(n){if(n.target.value&&3<n.target.value.length){var x=l.calendar.extractDateFromString(n.target.value,a.options.format);x&&"true"==n.target.getAttribute("data-completed")&&a.setValue(x)}},
g=function(){var n=h.querySelector(".jcalendar-selected");n&&n.classList.contains("jcalendar-disabled")?(f.setAttribute("disabled","disabled"),p.setAttribute("disabled","disabled"),y.setAttribute("disabled","disabled")):(f.removeAttribute("disabled"),p.removeAttribute("disabled"),y.removeAttribute("disabled"));if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())},h=null,m=null,u=null,r=null,k=null,t=null,C=null,H=null,G=null,I=null,L=null,K=null,f=null,p=null,y=null;(function(){"INPUT"==
b.tagName&&b.value&&(c.value=b.value);m=document.createElement("div");m.className="jcalendar-reset";u=document.createElement("div");u.className="jcalendar-confirm";I=document.createElement("div");I.className="jcalendar-controls";I.style.borderBottom="1px solid #ddd";I.appendChild(m);I.appendChild(u);r=document.createElement("div");r.className="jcalendar-container";k=document.createElement("div");k.className="jcalendar-content";r.appendChild(k);"DIV"==b.tagName?(h=b,h.classList.add("jcalendar-inline")):
(k.appendChild(I),h=document.createElement("div"),h.className="jcalendar");h.classList.add("jcalendar-container");h.appendChild(r);var n=document.createElement("div");n.className="jcalendar-table";k.appendChild(n);var x=document.createElement("td");x.setAttribute("colspan","2");x.className="jcalendar-prev";t=document.createElement("span");t.className="jcalendar-year";C=document.createElement("span");C.className="jcalendar-month";var D=document.createElement("td");D.className="jcalendar-header";D.setAttribute("colspan",
"3");D.appendChild(C);D.appendChild(t);var B=document.createElement("td");B.setAttribute("colspan","2");B.className="jcalendar-next";var E=document.createElement("thead"),w=document.createElement("tr");w.appendChild(x);w.appendChild(D);w.appendChild(B);E.appendChild(w);H=document.createElement("table");G=document.createElement("tbody");H.setAttribute("cellpadding","0");H.setAttribute("cellspacing","0");H.appendChild(E);H.appendChild(G);n.appendChild(H);p=document.createElement("select");p.className=
"jcalendar-select";p.onchange=function(){a.date[3]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())};for(n=0;24>n;n++)x=document.createElement("option"),x.value=n,x.innerHTML=l.two(n),p.appendChild(x);y=document.createElement("select");y.className="jcalendar-select";y.onchange=function(){a.date[4]=this.value;if("function"==typeof a.options.onupdate)a.options.onupdate(b,a.getValue())};for(n=0;60>n;n++)x=document.createElement("option"),x.value=n,x.innerHTML=l.two(n),
y.appendChild(x);n=document.createElement("div");n.className="jcalendar-controls";L=document.createElement("div");L.className="jcalendar-time";L.style.maxWidth="140px";L.appendChild(p);L.appendChild(y);f=document.createElement("input");f.setAttribute("type","button");f.className="jcalendar-update";K=document.createElement("div");K.style.flexGrow="10";K.appendChild(f);n.appendChild(L);"INPUT"==b.tagName&&n.appendChild(K);k.appendChild(n);n=document.createElement("div");n.className="jcalendar-backdrop";
h.appendChild(n);b.addEventListener("keyup",d);h.addEventListener("swipeleft",function(z){l.animation.slideLeft(H,0,function(){a.next();l.animation.slideRight(H,1)});z.preventDefault();z.stopPropagation()});h.addEventListener("swiperight",function(z){l.animation.slideRight(H,0,function(){a.prev();l.animation.slideLeft(H,1)});z.preventDefault();z.stopPropagation()});b.onmouseup=function(){a.open()};!0==="ontouchend"in document.documentElement?h.addEventListener("touchend",e):h.addEventListener("mouseup",
e);l.calendar.hasEvents||(l.calendar.hasEvents=!0,document.addEventListener("keydown",l.calendar.keydown));a.setOptions(c);"INPUT"==b.tagName?(b.parentNode.insertBefore(h,b.nextSibling),b.setAttribute("autocomplete","off"),b.classList.add("jcalendar-input"),b.value=a.setLabel(a.getValue(),a.options)):(a.getDays(),a.options.time&&(p.value=a.date[3],y.value=a.date[4]));1==a.options.opened&&a.open();b.change=a.setValue;b.val=function(z){if(void 0===z)return a.getValue();a.setValue(z)};b.calendar=h.calendar=
a})();return a};l.calendar.keydown=function(b){var c;if(c=l.calendar.current)13==b.which?c.close(!1,!0):27==b.which&&c.close(!1,!1)};l.calendar.prettify=function(b,c){c||(c={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"});var a=parseInt((new Date-new Date(b))/1E3/60);String.prototype.format=function(e){return this.replace("{0}",e)};return 0==a?c.justNow:90>a?c.xMinutesAgo.format(a):1440>a?c.xHoursAgo.format(Math.round(a/
60)):20160>a?c.xDaysAgo.format(Math.round(a/1440)):43200>a?c.xWeeksAgo.format(Math.round(a/10080)):1036800>a?c.xMonthsAgo.format(Math.round(a/43200)):c.xYearsAgo.format(Math.round(a/525600))};l.calendar.prettifyAll=function(){for(var b=document.querySelectorAll(".prettydate"),c=0;c<b.length;c++)b[c].getAttribute("data-date")?b[c].innerHTML=l.calendar.prettify(b[c].getAttribute("data-date")):(b[c].setAttribute("data-date",b[c].innerHTML),b[c].innerHTML=l.calendar.prettify(b[c].innerHTML))};l.calendar.now=
function(b,c){b||(b=new Date);var a=b.getFullYear(),e=b.getMonth()+1,d=b.getDate(),g=b.getHours(),h=b.getMinutes(),m=b.getSeconds();return 1==c?l.two(a)+"-"+l.two(e)+"-"+l.two(d):l.two(a)+"-"+l.two(e)+"-"+l.two(d)+" "+l.two(g)+":"+l.two(h)+":"+l.two(m)};l.calendar.toArray=function(b){var c=b.split(-1!==b.indexOf("T")?"T":" "),a=c[1];c=c[0].split("-");b=parseInt(c[0]);var e=parseInt(c[1]);c=parseInt(c[2]);if(a){a=a.split(":");var d=parseInt(a[0]);a=parseInt(a[1])}else a=d=0;return[b,e,c,d,a,0]};l.calendar.extractDateFromString=
function(b,c){if(0<b&&Number(b)==b){var a=new Date(Math.round(864E5*(b-25569)));return a.getFullYear()+"-"+l.two(a.getMonth())+"-"+l.two(a.getDate())+" 00:00:00"}var e=""+b,d=c.replace(/[0-9]/g,""),g=1,h=d.search("YYYY");h=e.substr(h,4);parseInt(h)!=h&&(g=0);var m=d.search("MM");m=e.substr(m,2);if(parseInt(m)!=m||12<m)g=0;a=d.search("DD");a=e.substr(a,2);if(parseInt(a)!=a||31<a)g=0;var u=d.search("HH");if(0<=u){if(u=e.substr(u,2),!parseInt(u)||23<u)u="00"}else u="00";var r=d.search("MI");if(0<=r){if(r=
e.substr(r,2),!parseInt(r)||59<r)r="00"}else r="00";var k=d.search("SS");if(0<=k){if(k=e.substr(k,2),!parseInt(k)||59<k)k="00"}else k="00";return 1==g&&b.length==d.length?h+"-"+m+"-"+a+" "+u+":"+r+":"+k:""};l.calendar.getDateString=function(b,c){c||(c={});var a="string"==typeof c?c:c.format,e=c&&c.weekdays?c.weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d=c&&c.months?c.months:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g=c&&c.months?c.monthsFull:"January February March April May June July August September October November December".split(" ");
a||(a="DD/MM/YYYY");if(b){var h=""+b,m=-1!==h.indexOf("T")?"T":" ";h=h.split(m);var u=m="",r="";h[1]?(m=h[1].split(":"),u=m[1]?m[1]:"00",r=m[2]?m[2]:"00",m=m[0]?m[0]:"00"):r=u=m="00";h=h[0].split("-");if(h[0]&&h[1]&&h[2]&&0<h[0]&&0<h[1]&&13>h[1]&&0<h[2]&&32>h[2]){var k=new Date(h[0],h[1]-1,h[2]);h[1]=(2>h[1].length?"0":"")+h[1];h[2]=(2>h[2].length?"0":"")+h[2];m=(2>m.length?"0":"")+m;u=(2>u.length?"0":"")+u;r=(2>r.length?"0":"")+r;b=a.replace("MMM","MON");a="YYYY YYY YY Y MM DD DY DAY WD D Q HH24 HH12 HH PM AM MI SS MS MONTH MON".split(" ");
for(var t=[],C=b;C;){for(var H=0,G=0;G<a.length;G++)0==H&&0===C.toUpperCase().indexOf(a[G])&&(H=a[G].length);0==H?(t.push(C.substr(0,1)),C=C.substr(1)):(t.push(C.substr(0,H)),C=C.substr(H))}a=function(I,L,K){if(1==K)for(K=0;K<t.length;K++)t[K].toUpperCase()==I&&(t[K]=L);else for(K=0;K<t.length;K++)t[K]==I&&(t[K]=L)};a("YYYY",h[0],!0);a("YYY",h[0].substring(1,4),!0);a("YY",h[0].substring(2,4),!0);a("Y",h[0].substring(3,4),!0);a("MM",h[1],!0);a("DD",h[2],!0);a("Q",Math.floor((k.getMonth()+3)/3),!0);
m&&a("HH24",m);12<m?(a("HH12",m-12,!0),a("HH",m-12,!0),a("AM","pm",!0),a("PM","pm",!0)):(a("HH12",m,!0),a("HH",m,!0),a("AM","am",!0),a("PM","am",!0));a("MI",u,!0);a("SS",r,!0);a("MS",k.getMilliseconds(),!0);a("MONTH",g[k.getMonth()].toUpperCase());a("Month",g[k.getMonth()]);a("month",g[k.getMonth()].toLowerCase());a("MON",d[k.getMonth()].toUpperCase());a("MMM",d[k.getMonth()].toUpperCase());a("Mon",d[k.getMonth()]);a("mon",d[k.getMonth()].toLowerCase());a("DAY",e[k.getDay()].toUpperCase());a("Day",
e[k.getDay()]);a("day",e[k.getDay()].toLowerCase());a("DY",e[k.getDay()].substr(0,3).toUpperCase());a("Dy",e[k.getDay()].substr(0,3));a("dy",e[k.getDay()].substr(0,3).toLowerCase());a("D",e[k.getDay()]);a("WD",e[k.getDay()]);b=t.join("")}else b=""}return b};l.color=function(b,c){if(b.color)return b.color.setOptions(c,!0);var a={type:"color",options:{}},e=null,d=null,g=null,h=null,m=null,u=null,r=null;a.setOptions=function(n,x){var D={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,
closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};n||(n={});n&&!n.palette&&(n.palette=l.palette());for(var B in D)if(n&&n.hasOwnProperty(B))a.options[B]=n[B];else if("undefined"==typeof a.options[B]||!0===x)a.options[B]=D[B];h&&(h.innerHTML=a.options.resetLabel);m&&(m.innerHTML=a.options.doneLabel);a.options.palette&&r&&r.updateContent(0,H());"string"===typeof a.options.value&&(b.value=a.options.value);a.options.placeholder?b.setAttribute("placeholder",
a.options.placeholder):b.getAttribute("placeholder")&&b.removeAttribute("placeholder");return a};a.open=function(){if(!e.classList.contains("jcolor-focus")){l.tracking(a,!0);e.classList.add("jcolor-focus");var n=g.getBoundingClientRect();if(800>l.getWindowWidth()||1==a.options.fullscreen)g.style.top="",g.classList.add("jcolor-fullscreen"),l.animation.slideBottom(g,1),d.style.display="block";else{g.classList.contains("jcolor-fullscreen")&&(g.classList.remove("jcolor-fullscreen"),d.style.display="");
var x=b.getBoundingClientRect();a.options.position?(g.style.position="fixed",g.style.top=window.innerHeight<x.bottom+n.height?x.top-(n.height+2)+"px":x.top+x.height+2+"px",g.style.left=x.left+"px"):g.style.top=window.innerHeight<x.bottom+n.height?-1*(n.height+x.height+2)+"px":"2px"}if("function"==typeof a.options.onopen)a.options.onopen(b);r.setBorder(r.getActive());if(a.options.value){var D=C(a.options.value);p.forEach(function(B,E){B.value=D[E];B.dispatchEvent(new Event("input"))})}}};a.close=function(n){if(e.classList.contains("jcolor-focus")){e.classList.remove("jcolor-focus");
d.style.display="";if(!n&&"function"==typeof a.options.onclose)a.options.onclose(b);l.tracking(a,!1)}return a.options.value};a.setValue=function(n){n||(n="");if(n!=a.options.value){f=a.options.value=n;var x=e.querySelector(".jcolor-selected");x&&x.classList.remove("jcolor-selected");a.values[n]&&a.values[n].classList.add("jcolor-selected");if("function"==typeof a.options.onchange)a.options.onchange(b,n);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",
target:b,value:b.value});1==a.options.closeOnChange&&a.close()}};a.getValue=function(){return a.options.value};var k=!1,t=function(n){n=n.toString(16);return 1===n.length?"0"+n:n},C=function(n){return[parseInt("0x"+n.substr(1,2)),parseInt("0x"+n.substr(3,2)),parseInt("0x"+n.substr(5,2))]},H=function(){var n=document.createElement("div");n.className="jcolor-grid";a.values=[];var x=document.createElement("table");x.setAttribute("cellpadding","7");x.setAttribute("cellspacing","0");for(var D=0;D<a.options.palette.length;D++){for(var B=
document.createElement("tr"),E=0;E<a.options.palette[D].length;E++){var w=document.createElement("td"),z=a.options.palette[D][E];7>z.length&&"#"!==z.substr(0,1)&&(z="#"+z);w.style.backgroundColor=z;w.setAttribute("data-value",z);w.innerHTML="";B.appendChild(w);a.options.value==z&&w.classList.add("jcolor-selected");a.values[z]=w}x.appendChild(B)}n.appendChild(x);n.addEventListener("mouseup",function(q){"TD"==q.target.tagName&&(q=q.target.getAttribute("data-value"))&&a.setValue(q)});return n},G=document.createElement("canvas");
G.width=200;G.height=160;var I=G.getContext("2d"),L=function(){var n=u.firstChild.getBoundingClientRect();G.width=n.width-14;n=I.createLinearGradient(0,0,G.width,0);n.addColorStop(0,"rgb(255,0,0)");n.addColorStop(.15,"rgb(255,0,255)");n.addColorStop(.33,"rgb(0,0,255)");n.addColorStop(.49,"rgb(0,255,255)");n.addColorStop(.67,"rgb(0,255,0)");n.addColorStop(.84,"rgb(255,255,0)");n.addColorStop(1,"rgb(255,0,0)");I.fillStyle=n;I.fillRect(0,0,G.width,G.height);n=I.createLinearGradient(0,0,0,G.height);n.addColorStop(0,
"rgba(255,255,255,1)");n.addColorStop(.5,"rgba(255,255,255,0)");n.addColorStop(.5,"rgba(0,0,0,0)");n.addColorStop(1,"rgba(0,0,0,1)");I.fillStyle=n;I.fillRect(0,0,G.width,G.height)},K=function(){var n=document.createElement("div");n.className="jcolor-hsl";var x=document.createElement("div");x.className="jcolor-point";var D=document.createElement("div");D.appendChild(G);D.appendChild(x);n.appendChild(D);var B=function(E,w,z){1===E&&(E=n.getBoundingClientRect(),w-=E.left,z-=E.top,0>w&&(w=0),0>z&&(z=
0),w>E.width&&(w=E.width),z>E.height&&(z=E.height),x.style.left=w+"px",x.style.top=z+"px",z=I.getImageData(w,z,1,1).data,E=z[1],w=z[2],f="#"+t(z[0])+t(E)+t(w))};n.addEventListener("mousedown",function(E){B(E.buttons,E.clientX,E.clientY)});n.addEventListener("mousemove",function(E){B(E.buttons,E.clientX,E.clientY)});n.addEventListener("touchmove",function(E){B(1,E.changedTouches[0].clientX,E.changedTouches[0].clientY)});return n},f="",p=[],y=function(){var n=document.createElement("div");n.className=
"jcolor-sliders";var x=document.createElement("div"),D=function(E){var w=document.createElement("div");w.className="jcolor-sliders-input-container";var z=document.createElement("label");z.innerText=E;E=document.createElement("div");E.className="jcolor-sliders-input-subcontainer";var q=document.createElement("input");q.type="range";q.min=0;q.max=255;q.value=0;w.appendChild(z);E.appendChild(q);var v=document.createElement("div");v.innerText=q.value;q.addEventListener("input",function(){v.innerText=
q.value});E.appendChild(v);w.appendChild(E);x.appendChild(w);return q};p=[D("Red"),D("Green"),D("Blue")];n.appendChild(x);D=document.createElement("div");D.className="jcolor-sliders-final-color";var B=document.createElement("div");B.style.visibility="hidden";B.innerText="a";D.appendChild(B);p.forEach(function(E){E.addEventListener("input",function(){var w=parseInt(p[0].value);var z=parseInt(p[1].value),q=parseInt(p[2].value);w="#"+t(w)+t(z)+t(q);B.innerText=w;B.style.color=w;B.style.removeProperty("visibility");
f=w;if(""!==f)for(w=0;w<p.length;w++)z=C(f),z[w]=0,q="linear-gradient(90deg, rgb(",q+=z.join(", "),q+="), rgb(",z[w]=255,q+=z.join(", "),q+="))",p[w].style.backgroundImage=q})});n.appendChild(D);return n};(function(){a.setOptions(c);"INPUT"==b.tagName&&(b.classList.add("jcolor-input"),b.readOnly=!0);e=document.createElement("div");e.className="jcolor";d=document.createElement("div");d.className="jcolor-backdrop";e.appendChild(d);g=document.createElement("div");g.className="jcolor-content";var n=document.createElement("div");
n.className="jcolor-controls";g.appendChild(n);h=document.createElement("div");h.className="jcolor-reset";h.innerHTML=a.options.resetLabel;h.onclick=function(x){a.setValue("");a.close()};n.appendChild(h);m=document.createElement("div");m.className="jcolor-close";m.innerHTML=a.options.doneLabel;m.onclick=function(x){0<r.getActive()&&a.setValue(f);a.close()};n.appendChild(m);u=document.createElement("div");g.appendChild(u);r=l.tabs(u,{animation:!0,data:[{title:"Grid",contentElement:H()},{title:"Spectrum",
contentElement:K()},{title:"Sliders",contentElement:y()}],onchange:function(x,D,B){if(1===B)L();else if(x=""!==f?f:a.getValue(),2===B&&x){var E=C(x);p.forEach(function(w,z){w.value=E[z];w.dispatchEvent(new Event("input"))})}},palette:"modern"});e.appendChild(g);"INPUT"==b.tagName?b.parentNode.insertBefore(e,b.nextSibling):b.appendChild(e);b.addEventListener("mouseup",function(x){a.open()});d.addEventListener("mousedown",function(x){k=!0});d.addEventListener("mouseup",function(x){k&&(a.close(),k=!1)});
window.addEventListener("resize",function(){e.classList.contains("jcolor-focus")&&1==r.getActive()&&L()});1==a.options.opened&&a.open();b.change=a.setValue;b.val=function(x){if(void 0===x)return a.getValue();a.setValue(x)};b.color=a;e.color=a})();return a};l.contextmenu=function(b,c){function a(h){if(!h.type||"line"!=h.type&&"divisor"!=h.type){k=document.createElement("div");var m=document.createElement("a");m.innerHTML=h.title;h.tooltip&&k.setAttribute("title",h.tooltip);h.icon&&k.setAttribute("data-icon",
h.icon);h.id&&(k.id=h.id);h.disabled?k.className="jcontextmenu-disabled":h.onclick&&(k.method=h.onclick,k.addEventListener("mousedown",function(t){t.preventDefault()}),k.addEventListener("mouseup",function(){this.method(this)}));k.appendChild(m);if(h.submenu){m=document.createElement("span");m.innerHTML="&#9658;";k.appendChild(m);k.classList.add("jcontexthassubmenu");m=document.createElement("div");m.classList.add("jcontextmenu");m.setAttribute("tabindex","900");h=h.submenu;for(var u=0;u<h.length;u++){var r=
a(h[u]);m.appendChild(r)}k.appendChild(m)}else h.shortcut&&(m=document.createElement("span"),m.innerHTML=h.shortcut,k.appendChild(m))}else var k=document.createElement("hr");return k}var e={options:{}},d={items:null,onclick:null},g;for(g in d)c&&c.hasOwnProperty(g)?e.options[g]=c[g]:e.options[g]=d[g];b.classList.add("jcontextmenu");b.setAttribute("tabindex","900");e.open=function(h,m){m&&(e.options.items=m,e.create(m));if(e.options.items&&0<e.options.items.length||b.children.length){if(h.target)var u=
h.clientX,r=h.clientY;else u=h.x,r=h.y;b.classList.add("jcontextmenu-focus");b.focus();var k=b.getBoundingClientRect();window.innerHeight<r+k.height?(r-=k.height,0>r&&(r=0),b.style.top=r+"px"):b.style.top=r+"px";b.style.left=window.innerWidth<u+k.width?0<u-k.width?u-k.width+"px":"10px":u+"px"}};e.close=function(){b.classList.contains("jcontextmenu-focus")&&b.classList.remove("jcontextmenu-focus")};e.create=function(h){b.innerHTML="";for(var m=0;m<h.length;m++){var u=a(h[m]);b.appendChild(u)}};"function"==
typeof e.options.onclick&&b.addEventListener("click",function(h){e.options.onclick(e,h)});e.options.items&&e.create(e.options.items);b.addEventListener("blur",function(h){e.close()});l.contextmenu.hasEvents||(window.addEventListener("mousewheel",function(){e.close()}),document.addEventListener("contextmenu",function(h){var m=l.contextmenu.getElement(h.target);m&&((m=document.querySelector("#"+m))?(m.contextmenu.open(h),h.preventDefault()):console.error("JSUITES: Contextmenu id not found"))}),l.contextmenu.hasEvents=
!0);return b.contextmenu=e};l.contextmenu.getElement=function(b){function c(e){e.parentNode&&e.getAttribute("aria-contextmenu-id")?a=e.getAttribute("aria-contextmenu-id"):e.parentNode&&c(e.parentNode)}var a=0;c(b);return a};l.dropdown=function(b,c){if(b.dropdown)return b.dropdown.setOptions(c,!0);var a={type:"dropdown",options:{}},e=function(f,p){if(f&&(a.setData(f),"function"==typeof a.options.onload))a.options.onload(b,a,f,p);g(p);b.value=a.options.value;1==a.options.opened&&a.open()},d=function(){a.value=
{};for(var f=0;f<a.items.length;f++)1==a.items[f].selected&&(a.items[f].element&&a.items[f].element.classList.remove("jdropdown-selected"),a.items[f].selected=null);a.options.value=""},g=function(f){d();if(f){Array.isArray(f)||(f=(""+f).split(";"));for(var p=0;p<f.length;p++)a.value[f[p]]="";for(p=0;p<a.items.length;p++)"undefined"!==typeof a.value[h(p)]&&(a.items[p].element&&a.items[p].element.classList.add("jdropdown-selected"),a.items[p].selected=!0,a.value[h(p)]=m(p));a.options.value=Object.keys(a.value).join(";")}a.header.value=
a.getText()},h=function(f,p){var y=a.options.format?"id":"value";return a.items[f]?void 0!==p?a.items[f].data[y]=p:a.items[f].data[y]:""},m=function(f,p){var y=a.options.format?"name":"text";return a.items[f]?void 0!==p?a.items[f].data[y]=p:a.items[f].data[y]:""},u=function(){for(var f=[],p=Object.keys(a.value),y=0;y<p.length;y++)f.push(a.value[p[y]]);return f};a.setOptions=function(f,p){f||(f={});var y={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,
width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null},n;for(n in y)if(f&&f.hasOwnProperty(n))a.options[n]=f[n];else if("undefined"==typeof a.options[n]||!0===p)a.options[n]=y[n];if(1==a.options.remoteSearch||"searchbar"===a.options.type)a.options.autocomplete=!0;1==a.options.newOptions?a.header.classList.add("jdropdown-add"):a.header.classList.remove("jdropdown-add");1==a.options.autocomplete?
a.header.removeAttribute("readonly"):a.header.setAttribute("readonly","readonly");a.options.placeholder?a.header.setAttribute("placeholder",a.options.placeholder):a.header.removeAttribute("placeholder");b.classList.remove("jdropdown-searchbar");b.classList.remove("jdropdown-picker");b.classList.remove("jdropdown-list");"searchbar"==a.options.type?b.classList.add("jdropdown-searchbar"):"list"==a.options.type?b.classList.add("jdropdown-list"):"picker"==a.options.type?b.classList.add("jdropdown-picker"):
800>l.getWindowWidth()?a.options.autocomplete?(b.classList.add("jdropdown-searchbar"),a.options.type="searchbar"):(b.classList.add("jdropdown-picker"),a.options.type="picker"):(a.options.width?(b.style.width=a.options.width,b.style.minWidth=a.options.width):(b.style.removeProperty("width"),b.style.removeProperty("min-width")),b.classList.add("jdropdown-default"),a.options.type="default");"searchbar"==a.options.type?r.appendChild(C):k.insertBefore(C,k.firstChild);f.url&&!f.data?l.ajax({url:f.url,method:"GET",
dataType:"json",success:function(x){x&&e(x,f.value)}}):e(f.data,f.value);return a};var r=null,k=null,t=null,C=null,H=null,G=null,I=null;a.getUrl=function(){return a.options.url};a.setUrl=function(f){a.options.url=f;l.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(p){a.setData(p)}})};a.setId=function(f,p){var y=a.options.format?"id":"value";"object"==typeof f?f[y]=p:a.items[f].data[y]=p};a.add=function(f){if(!f&&(f=prompt("Text",1==a.options.autocomplete?a.header.value:""),!f))return!1;
var p=l.guid();f=a.options.format?{id:p,name:f}:{value:p,text:f};a.options.data.push(f);p=a.createItem(f);t.appendChild(p.element);if("function"==typeof a.options.oninsert)a.options.oninsert(a,f,f);"none"==t.style.display&&(t.style.display="");return f};a.createItem=function(f,p,y){a.options.format?(f.id||void 0===f.value||(f.id=f.value),f.name||void 0===f.text||(f.name=f.text)):(f.value||void 0===f.id||(f.value=f.id),f.text||void 0===f.name||(f.text=f.name));y={};y.element=document.createElement("div");
y.element.className="jdropdown-item";y.element.indexValue=a.items.length;y.data=f;p&&(y.group=p);f.id&&y.element.setAttribute("id",f.id);f.image?(p=document.createElement("img"),p.className="jdropdown-image",p.src=f.image,f.title||p.classList.add("jdropdown-image-small"),y.element.appendChild(p)):f.color&&(p=document.createElement("div"),p.className="jdropdown-color",p.style.backgroundColor=f.color,y.element.appendChild(p));var n=a.options.format?f.name:f.text;p=document.createElement("div");p.className=
"jdropdown-description";p.innerHTML=n||"&nbsp;";f.title&&(n=document.createElement("div"),n.className="jdropdown-title",n.innerText=f.title,p.appendChild(n));a.value[a.options.format?f.id:f.value]&&(y.element.classList.add("jdropdown-selected"),y.selected=!0);a.items.push(y);y.element.appendChild(p);return y};a.appendData=function(f){if(f.length){a.numOfItems=0;for(var p=[],y=[],n=0;n<f.length;n++)f[n].group?(y[f[n].group]||(y[f[n].group]=[]),y[f[n].group].push(n)):p.push(n);var x=Object.keys(y);
if(0<x.length)for(n=0;n<x.length;n++){var D=document.createElement("div");D.className="jdropdown-group";var B=document.createElement("div");B.className="jdropdown-group-name";B.innerHTML=x[n];var E=document.createElement("i");E.className="jdropdown-group-arrow jdropdown-group-arrow-down";B.appendChild(E);E=document.createElement("div");E.className="jdropdown-group-items";for(var w=0;w<y[x[n]].length;w++){var z=a.createItem(f[y[x[n]][w]],D,x[n]);if(0==a.options.lazyLoading||200>a.numOfItems)E.appendChild(z.element),
a.numOfItems++}D.appendChild(B);D.appendChild(E);a.groups.push(D);0<E.children.length&&t.appendChild(D)}if(p.length)for(n=0;n<p.length;n++)if(z=a.createItem(f[p[n]]),0==a.options.lazyLoading||200>a.numOfItems)t.appendChild(z.element),a.numOfItems++}};a.setData=function(f){if(f.length){for(var p=0;p<f.length;p++)"object"!=typeof f[p]&&(f[p]=a.options.format?{id:f[p],name:f[p]}:{value:f[p],text:f[p]});d();t.innerHTML="";a.header.value="";a.items=[];a.appendData(f);a.options.data=f}};a.getData=function(){return a.options.data};
a.getPosition=function(f){for(var p=0;p<a.items.length;p++)if(h(p)==f)return p;return 0};a.getText=function(f){var p=u();return f?p:p.join("; ")};a.getValue=function(f){var p=Object.keys(a.value);return f?p:p.join(";")};var L=function(f){if("function"==typeof a.options.onchange)a.options.onchange(b,a,f,a.options.value);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})};a.setValue=function(f){var p=Object.keys(a.value);
Array.isArray(f)&&(f=f.join(";"));p!=f&&(g(f),L(p))};a.resetSelected=function(){a.setValue(null)};a.selectIndex=function(f){f=parseInt(f);if(a.items&&a.items[f])if(a.setCursor(f,!1),a.options.multiple){var p=a.options.value;a.items[f].selected?(a.items[f].element.classList.remove("jdropdown-selected"),a.items[f].selected=!1,delete a.value[h(f)]):(a.items[f].element.classList.add("jdropdown-selected"),a.items[f].selected=!0,a.value[h(f)]=m(f));a.options.value=Object.keys(a.value).join(";");0==a.options.autocomplete&&
(a.header.value=u().join("; "));L(p)}else a.items[f].selected?a.setValue(null):a.setValue(h(f)),a.close()};a.selectItem=function(f){a.selectIndex(f.indexValue)};a.find=function(f){if(a.search==f.trim())return!1;a.search=f;a.numOfItems=0;if(1==a.options.remoteSearch)a.currentIndex=null,a.results=null,l.ajax({url:a.options.url+"?q="+f,method:"GET",dataType:"json",success:function(D){a.items=[];t.innerHTML="";a.appendData(D);t.style.display=D.length?"":"none"}});else{f=new RegExp(f,"gi");a.results=[];
for(var p=0;p<a.items.length;p++){var y=m(p),n=a.items[p].data.title||"",x=a.items[p].data.group||"";if(null==f||1==a.items[p].selected||y.match(f)||n.match(f)||x.match(f))if(a.results.push(a.items[p]),a.items[p].group&&a.items[p].group.children[1].children[0])for(;a.items[p].group.children[1].children[0];)a.items[p].group.children[1].removeChild(a.items[p].group.children[1].children[0])}for(;t.children[0];)t.removeChild(t.children[0]);f=a.results.length||0;1==a.options.lazyLoading&&200<f&&(f=200);
for(p=0;p<f;p++)a.results[p].group?(a.results[p].group.parentNode||t.appendChild(a.results[p].group),a.results[p].group.children[1].appendChild(a.results[p].element)):t.appendChild(a.results[p].element),a.numOfItems++;t.style.display=a.results.length?"":"none"}};a.open=function(){if(!b.classList.contains("jdropdown-focus")){l.dropdown.current=a;l.tracking(a,!0);b.classList.add("jdropdown-focus");800>l.getWindowWidth()&&(null==a.options.type||"picker"==a.options.type)&&l.animation.slideBottom(k,1);
1==a.options.autocomplete&&(a.header.value=a.search,a.header.focus());var f=Object.keys(Object.keys(a.value));f[0]&&(f=a.getPosition(f[0]))&&a.setCursor(f);if(!a.options.type||"default"==a.options.type){f=b.getBoundingClientRect();var p=k.getBoundingClientRect();a.options.position?(k.style.position="fixed",window.innerHeight<f.bottom+p.height?(k.style.top="",k.style.bottom=window.innerHeight-f.top+1+"px"):(k.style.top=f.bottom+"px",k.style.bottom=""),k.style.left=f.left+"px"):window.innerHeight<f.bottom+
p.height?(k.style.top="",k.style.bottom=f.height+1+"px"):(k.style.top="",k.style.bottom="");k.style.minWidth=f.width+"px";a.options.maxWidth&&(k.style.maxWidth=a.options.maxWidth);t.style.display=a.items.length||1!=a.options.autocomplete?"":"none"}}if("function"==typeof a.options.onopen)a.options.onopen(b)};a.close=function(f){if(b.classList.contains("jdropdown-focus")){a.header.value=a.getText();a.setCursor();if(!f&&"function"==typeof a.options.onclose)a.options.onclose(b);a.header.blur&&a.header.blur();
b.classList.remove("jdropdown-focus");l.tracking(a,!1);l.dropdown.current=null}return a.getValue()};a.setCursor=function(f,p){null!=a.currentIndex&&a.items&&a.items[a.currentIndex]&&a.items[a.currentIndex].element.classList.remove("jdropdown-cursor");if(void 0==f)a.currentIndex=null;else if(parseInt(f),a.items[f].element.classList.add("jdropdown-cursor"),a.currentIndex=f,!1!==p&&a.items[a.currentIndex].element){var y=a.items[a.currentIndex].element;t.scrollTop=y.offsetTop-y.scrollTop+y.clientTop-
95}};a.resetCursor=a.setCursor;a.updateCursor=a.setCursor;a.reset=function(){a.setCursor();a.setValue(null)};a.firstVisible=function(){for(var f=null,p=0;p<a.items.length;p++)if(a.items&&a.items[p]&&a.items[p].element.parentNode&&"none"!=a.items[p].element.style.display){f=p;break}if(null==f)return!1;a.setCursor(f)};a.first=function(){for(var f=null,p=a.currentIndex-1;0<=p;p--)a.items&&a.items[p]&&a.items[p].element.parentNode&&"none"!=a.items[p].element.style.display&&(f=p);if(null==f)return!1;a.setCursor(f)};
a.last=function(){for(var f=null,p=a.currentIndex+1;p<a.items.length;p++)a.items&&a.items[p]&&a.items[p].element.parentNode&&"none"!=a.items[p].element.style.display&&(f=p);if(null==f)return!1;a.setCursor(f)};var K=function(f,p){for(var y=f;y<a.items.length;y++)if(a.items&&a.items[y]&&a.items[y].element.parentNode&&(!p||(""+m(y)).substr(0,1).toLowerCase()==p))return y;return null};a.next=function(f){f&&1==f.length&&(f=f.toLowerCase());var p=null===a.currentIndex?a.currentIndex=0:a.currentIndex+1;
p=K(p,f);if(null==p&&f&&(p=K(0,f),null==p))return!1;a.setCursor(p)};a.prev=function(){for(var f=null,p=a.currentIndex-1;0<=p;p--)if(a.items&&a.items[p]&&a.items[p].element.parentNode){f=p;break}if(null==f)return!1;a.setCursor(f)};a.loadUp=function(){return!1};a.loadDown=function(){var f=!1,p=a.results?a.results:a.items;if(p.length>a.numOfItems){f=a.numOfItems;var y=p.length-f;200<y&&(y=200);for(var n=f;n<f+y;n++)p[n].group?(p[n].group.parentNode||t.appendChild(p[n].group),p[n].group.children[2].appendChild(p[n].element)):
t.appendChild(p[n].element),a.numOfItems++;f=!0}return f};(function(){c||(c={});if("SELECT"==b.tagName){var f=l.dropdown.extractFromDom(b,c);b=f.el;c=f.options}!c.placeholder&&b.getAttribute("placeholder")&&(c.placeholder=b.getAttribute("placeholder"));a.value={};a.items=[];a.groups=[];a.search="";a.results=null;a.numOfItems=0;b.classList.add("jdropdown");r=document.createElement("div");r.className="jdropdown-container-header";a.header=document.createElement("input");a.header.className="jdropdown-header";
a.header.setAttribute("autocomplete","off");a.header.onfocus=function(){if("function"==typeof a.options.onfocus)a.options.onfocus(b)};a.header.onblur=function(){if("function"==typeof a.options.onblur)a.options.onblur(b)};a.header.onkeyup=function(p){1!=a.options.autocomplete||I?a.options.autocomplete||a.next(p.key):(a.search!=a.header.value.trim()&&(I=setTimeout(function(){a.find(a.header.value.trim());I=null},400)),b.classList.contains("jdropdown-focus")||a.open())};l.dropdown.hasEvents||(l.dropdown.hasEvents=
!0,document.addEventListener("keydown",l.dropdown.keydown));k=document.createElement("div");k.className="jdropdown-container";t=document.createElement("div");t.className="jdropdown-content";C=document.createElement("div");C.className="jdropdown-close";C.innerHTML="Done";H=document.createElement("div");H.className="jdropdown-reset";H.innerHTML="x";H.onclick=function(){a.reset();a.close()};G=document.createElement("div");G.className="jdropdown-backdrop";r.appendChild(a.header);k.appendChild(t);b.appendChild(r);
b.appendChild(k);b.appendChild(G);a.setOptions(c);!0==="ontouchsend"in document.documentElement?b.addEventListener("touchsend",l.dropdown.mouseup):b.addEventListener("mouseup",l.dropdown.mouseup);1==a.options.lazyLoading&&l.lazyLoading(t,{loadUp:a.loadUp,loadDown:a.loadDown});b.change=a.setValue;b.val=function(p){if(void 0===p)return a.getValue(a.options.multiple?!0:!1);a.setValue(p)};b.dropdown=a})();return a};l.dropdown.keydown=function(b){var c;if(c=l.dropdown.current)13==b.which?c.selectIndex(c.currentIndex):
38==b.which?(null==c.currentIndex?c.firstVisible():0<c.currentIndex&&c.prev(),b.preventDefault()):40==b.which?(null==c.currentIndex?c.firstVisible():c.currentIndex+1<c.items.length&&c.next(),b.preventDefault()):36==b.which?c.first():35==b.which?c.last():27==b.which&&c.close()};l.dropdown.mouseup=function(b){var c=l.findElement(b.target,"jdropdown");if(c){var a=c.dropdown;if(b.target.classList.contains("jdropdown-header"))c.classList.contains("jdropdown-focus")&&c.classList.contains("jdropdown-default")?
(c=c.getBoundingClientRect(),30>c.width-((b.changedTouches&&b.changedTouches[0]?b.changedTouches[0].clientX:b.clientX)-c.left)?b.target.classList.contains("jdropdown-add")?a.add():a.close():0==a.options.autocomplete&&a.close()):a.open();else if(b.target.classList.contains("jdropdown-group-name")){if(c=b.target.nextSibling.children,"none"!=b.target.nextSibling.style.display)for(b=0;b<c.length;b++)"none"!=c[b].style.display&&a.selectItem(c[b])}else b.target.classList.contains("jdropdown-group-arrow")?
b.target.classList.contains("jdropdown-group-arrow-down")?(b.target.classList.remove("jdropdown-group-arrow-down"),b.target.classList.add("jdropdown-group-arrow-up"),b.target.parentNode.nextSibling.style.display="none"):(b.target.classList.remove("jdropdown-group-arrow-up"),b.target.classList.add("jdropdown-group-arrow-down"),b.target.parentNode.nextSibling.style.display=""):b.target.classList.contains("jdropdown-item")?a.selectItem(b.target):b.target.classList.contains("jdropdown-image")?a.selectItem(b.target.parentNode):
b.target.classList.contains("jdropdown-description")?a.selectItem(b.target.parentNode):b.target.classList.contains("jdropdown-title")?a.selectItem(b.target.parentNode.parentNode):(b.target.classList.contains("jdropdown-close")||b.target.classList.contains("jdropdown-backdrop"))&&a.close()}};l.dropdown.extractFromDom=function(b,c){c||(c={});!b.getAttribute("multiple")||c&&void 0!=c.multiple||(c.multiple=!0);!b.getAttribute("placeholder")||c&&void 0!=c.placeholder||(c.placeholder=b.getAttribute("placeholder"));
!b.getAttribute("data-autocomplete")||c&&void 0!=c.autocomplete||(c.autocomplete=!0);c&&void 0!=c.width||(c.width=b.offsetWidth);!b.value||c&&void 0!=c.value||(c.value=b.value);if(!c||void 0==c.data){c.data=[];for(var a=0;a<b.children.length;a++)if("OPTGROUP"==b.children[a].tagName)for(var e=0;e<b.children[a].children.length;e++)c.data.push({value:b.children[a].children[e].value,text:b.children[a].children[e].innerHTML,group:b.children[a].getAttribute("label")});else c.data.push({value:b.children[a].value,
text:b.children[a].innerHTML})}c&&void 0!=c.onchange||(c.onchange=function(d,g,h,m){1==c.multiple?obj.items[g].classList.contains("jdropdown-selected")?b.options[g].setAttribute("selected","selected"):b.options[g].removeAttribute("selected"):b.value=m});a=document.createElement("div");b.parentNode.insertBefore(a,b);b.style.display="none";return{el:a,options:c}};l.editor=function(b,c){var a={options:{}};if("TEXTAREA"==b.tagName||"INPUT"==b.tagName){var e=b;e.style.display="none";b=document.createElement("div");
c.value||(c.value=e.value);c.onblur=function(q,v,A){e.value=v.getData()};e.insertBefore(b)}var d={value:null,snippet:null,toolbar:null,remoteParser:null,placeholder:null,parseURL:!1,filterPaste:!0,dropZone:!1,dropAsAttachment:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5E6,allowImageResize:!0,border:!0,padding:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null},g;for(g in d)c&&c.hasOwnProperty(g)?a.options[g]=c[g]:a.options[g]=
d[g];var h=null,m=null;b.innerHTML="";"function"==typeof a.options.onclick&&(b.onclick=function(q){a.options.onclick(b,a,q)});b.classList.add("jeditor-container");1==a.options.padding&&b.classList.add("jeditor-padding");a.options.placeholder&&b.setAttribute("data-placeholder",a.options.placeholder);0==a.options.border&&(b.style.border="0px");var u=document.createElement("div");u.className="jsnippet";u.setAttribute("contenteditable",!1);var r=document.createElement("div");r.className="jeditor-toolbar";
var k=document.createElement("div");k.setAttribute("contenteditable",!0);k.setAttribute("spellcheck",!1);k.className="jeditor";if(a.options.maxHeight||a.options.height)k.style.overflowY="auto",a.options.maxHeight&&(k.style.maxHeight=a.options.maxHeight),a.options.height&&(k.style.height=a.options.height);(d=a.options.value?a.options.value:b.innerHTML?b.innerHTML:"")||(d="<br>");var t=function(q){if("function"==typeof a.options.onchange)a.options.onchange(b,a,q);a.options.value=a.getData();if(b.value!=
a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},C=function(q){var v=document.createElement("div");v.innerHTML=q;q=v.querySelectorAll("img");if(q.length)for(v=0;v<q.length;v++)a.addImage(q[v].src)},H=function(q){if(window.getSelection){var v=window.getSelection();if(v.rangeCount){var A=v.getRangeAt(0);A.deleteContents();A.insertNode(q);A.setStartAfter(q);A.setEndAfter(q);v.removeAllRanges();v.addRange(A)}}},G=function(q){u.innerHTML=
"";if(q.image){var v=document.createElement("div");v.className="jsnippet-image";v.setAttribute("data-k","image");u.appendChild(v);var A=document.createElement("img");A.src=q.image;v.appendChild(A)}v=document.createElement("div");v.className="jsnippet-title";v.setAttribute("data-k","title");v.innerHTML=q.title;u.appendChild(v);v=document.createElement("div");v.className="jsnippet-description";v.setAttribute("data-k","description");v.innerHTML=q.description;u.appendChild(v);v=document.createElement("div");
v.className="jsnippet-host";v.setAttribute("data-k","host");v.innerHTML=q.host;u.appendChild(v);v=document.createElement("div");v.className="jsnippet-url";v.setAttribute("data-k","url");v.innerHTML=q.url;u.appendChild(v);k.appendChild(u)},I=function(){clearTimeout(h);h=setTimeout(function(){var q=k.querySelector(".jsnippet"),v=b.querySelector(".jeditor-thumbs-container");!q&&!v&&(v=k.innerHTML.replace(/\n/g," "),q=document.createElement("div"),q.innerHTML=v,(v=q.querySelector(".jeditor-thumbs-container"))&&
v.remove(),v=l.editor.detectUrl(q.innerText))&&("jpg"==v[0].substr(-3)||"png"==v[0].substr(-3)||"gif"==v[0].substr(-3)?l.editor.getDomain(v[0])==window.location.hostname?a.importImage(v[0],""):a.importImage(a.options.remoteParser+v[0],""):(q=l.editor.youtubeParser(v[0]),a.parseWebsite(v[0],q)))},1E3)};a.parseContent=function(){I()};a.parseWebsite=function(q,v){if(a.options.remoteParser){v&&(q="https://www.youtube.com/watch?v="+v);var A={title:"",description:"",image:"",host:q.split("/")[2],url:q};
l.ajax({url:a.options.remoteParser+encodeURI(q.trim()),method:"GET",dataType:"json",success:function(F){F.title&&(A.title=F.title);F.description&&(A.description=F.description);F.image?A.image=F.image:F["og:image"]&&(A.image=F["og:image"]);F.host&&(A.host=F.host);F.url&&(A.url=F.url);G(A)}})}else console.log("The remoteParser is not defined")};a.setData=function(q){k.innerHTML=q;a.options.focus&&l.editor.setCursor(k,!0)};a.getText=function(){return k.innerText};a.getData=function(q){if(q){q={content:""};
var v=k.querySelectorAll(".post-tag");if(v.length){q.users=[];for(var A=0;A<v.length;A++){var F=v[A].getAttribute("data-user");F&&q.users.push(F)}q.users=q.users.join(",")}if(u.innerHTML){q.snippet={};for(A=0;A<u.children.length;A++)if(v=u.children[A].getAttribute("data-k"))"image"==v?q.snippet.image=u.children[A].children[0].getAttribute("src"):q.snippet[v]=u.children[A].innerHTML;u.innerHTML="";u.remove()}A=k.innerHTML;A=A.replace(/<br>/g,"\n");A=A.replace(/<\/div>/g,"</div>\n");A=A.replace(/<(?:.|\n)*?>/gm,
"");q.content=A.trim();q=JSON.stringify(q)}else q=k.innerHTML;return q};a.reset=function(){k.innerHTML=""};a.addPdf=function(q){if("data"!=q.result.substr(0,4))console.error("Invalid source");else{var v=document.createElement("canvas");v.width=60;v.height=60;var A=new Image;v.getContext("2d").drawImage(A,0,0,v.width,v.height);v.toBlob(function(F){var J=document.createElement("img");J.src=window.URL.createObjectURL(F);J.setAttribute("data-extension","pdf");q.name&&J.setAttribute("data-name",q.name);
q.size&&J.setAttribute("data-size",q.size);q.date&&J.setAttribute("data-date",q.date);J.className="jfile pdf";H(J);J.content=q.result.substr(q.result.indexOf(",")+1)})}};a.getFiles=function(){return l.files(k).get()};a.addImage=function(q,v,A,F){if("data"==q.substr(0,4)||a.options.remoteParser){if("data"==q.substr(0,4)){var J=q.split(";");J=J[0].split("/");J=J[1]}else J=q.substr(q.lastIndexOf(".")+1),q=a.options.remoteParser+q;var M=new Image;M.onload=function(){var N=document.createElement("canvas");
N.width=M.width;N.height=M.height;N.getContext("2d").drawImage(M,0,0,N.width,N.height);N.toBlob(function(P){var O=document.createElement("img");O.src=window.URL.createObjectURL(P);O.setAttribute("tabindex","900");O.setAttribute("data-extension",J);v&&O.setAttribute("data-name",v);A&&O.setAttribute("data-size",A);F&&O.setAttribute("data-date",F);O.className="jfile";P=N.toDataURL();H(O);O.content=P.substr(P.indexOf(",")+1);t()})};M.src=q}else console.error("remoteParser not defined in your initialization")};
a.addFile=function(q){for(var v=[],A=0;A<q.length;A++)if(q[A].size>a.options.maxFileSize)alert("The file is too big");else{var F=q[A].type.split("/");(F="image"==F[0]?1:"pdf"==F[1]?2:0)?(v[A]=new FileReader,v[A].index=A,v[A].type=F,v[A].name=q[A].name,v[A].date=q[A].lastModified,v[A].size=q[A].size,v[A].addEventListener("load",function(J){2==J.target.type?1==a.options.acceptFiles&&a.addPdf(J.target):a.addImage(J.target.result,J.target.name,J.total,J.target.lastModified)},!1),v[A].readAsDataURL(q[A])):
alert("The extension is not allowed")}};a.destroy=function(){k.removeEventListener("mouseup",L);k.removeEventListener("mousedown",K);k.removeEventListener("mousemove",f);k.removeEventListener("keyup",p);k.removeEventListener("keydown",y);k.removeEventListener("dragstart",x);k.removeEventListener("dragenter",D);k.removeEventListener("dragover",B);k.removeEventListener("drop",E);k.removeEventListener("paste",n);"function"==typeof a.options.onblur&&k.removeEventListener("blur",w);"function"==typeof a.options.onfocus&&
k.removeEventListener("focus",z);b.editor=null;b.classList.remove("jeditor-container");r.remove();u.remove();k.remove()};var L=function(q){m=!1},K=function(q){var v=function(F){var J=F.getBoundingClientRect();40>J.width-(q.clientX-J.left)&&40>q.clientY-J.top&&(F.innerHTML="",F.remove())};if("IMG"==q.target.tagName)if(q.target.style.cursor){if(v=q.target.getBoundingClientRect(),m={e:q.target,x:q.clientX,y:q.clientY,w:v.width,h:v.height,d:q.target.style.cursor},q.target.style.width||(q.target.style.width=
v.width+"px"),q.target.style.height||(q.target.style.height=v.height+"px"),v=window.getSelection(),v.rangeCount)for(var A=0;A<v.rangeCount;A++)v.removeRange(v.getRangeAt(A))}else m=!0;else q.target.classList.contains("jsnippet")?v(q.target):q.target.parentNode.classList.contains("jsnippet")&&v(q.target.parentNode),m=!0},f=function(q){if("IMG"==q.target.tagName&&1==a.options.allowImageResize&&q.target.getAttribute("tabindex")){var v=q.target.getBoundingClientRect();q.target.style.cursor=5>q.clientY-
v.top?5>v.width-(q.clientX-v.left)?"ne-resize":5>q.clientX-v.left?"nw-resize":"n-resize":5>v.height-(q.clientY-v.top)?5>v.width-(q.clientX-v.left)?"se-resize":5>q.clientX-v.left?"sw-resize":"s-resize":5>v.width-(q.clientX-v.left)?"e-resize":5>q.clientX-v.left?"w-resize":""}if(1==q.which&&m&&m.d){if("e-resize"==m.d||"ne-resize"==m.d||"se-resize"==m.d)if(m.e.style.width=m.w+(q.clientX-m.x)+"px",q.shiftKey){var A=m.h/m.w*(q.clientX-m.x);m.e.style.height=m.h+A+"px"}else A=null;A||"s-resize"!=m.d&&"se-resize"!=
m.d&&"sw-resize"!=m.d||q.shiftKey||(m.e.style.height=m.h+(q.clientY-m.y)+"px")}},p=function(q){k.innerHTML||(k.innerHTML="<div><br></div>");if("function"==typeof a.options.onkeyup)a.options.onkeyup(b,a,q)},y=function(q){1==a.options.parseURL&&I();if("function"==typeof a.options.onkeydown)a.options.onkeydown(b,a,q)},n=function(q){if(1==a.options.filterPaste){if(q.clipboardData||q.originalEvent.clipboardData)var v=(q.originalEvent||q).clipboardData.getData("text/html"),A=(q.originalEvent||q).clipboardData.getData("text/plain"),
F=(q.originalEvent||q).clipboardData.files;else window.clipboardData&&(v=window.clipboardData.getData("Html"),A=window.clipboardData.getData("Text"),F=window.clipboardData.files);if(F.length)a.addFile(F);else{A=A.split("\r\n");if("DIV"==q.target.nodeName&&q.target.classList.contains("jeditor"))for(F=0;F<A.length;F++){var J=document.createElement("div");A[F]?J.innerText=A[F]:J.innerHTML="<br/>";q.target.appendChild(J)}else{J=document.createElement("div");for(F=0;F<A.length;F++)if(A[F]){var M=document.createElement("div");
M.innerText=A[F];J.appendChild(M)}document.execCommand("insertHtml",!1,J.innerHTML)}1==a.options.acceptImages&&C(v)}q.preventDefault()}},x=function(q){m&&m.e&&q.preventDefault()},D=function(q){m||0==a.options.dropZone||b.classList.add("jeditor-dragging")},B=function(q){m||0==a.options.dropZone||(h&&clearTimeout(h),h=setTimeout(function(){b.classList.remove("jeditor-dragging")},100))},E=function(q){if(!m&&0!=a.options.dropZone){var v=null;document.caretRangeFromPoint?v=document.caretRangeFromPoint(q.clientX,
q.clientY):q.rangeParent&&(v=document.createRange(),v.setStart(q.rangeParent,q.rangeOffset));var A=window.getSelection();A.removeAllRanges();A.addRange(v);A.anchorNode.parentNode.focus();v=(q.originalEvent||q).dataTransfer.getData("text/html");A=(q.originalEvent||q).dataTransfer.getData("text/plain");var F=(q.originalEvent||q).dataTransfer.files;F.length?a.addFile(F):A&&C(v);b.classList.remove("jeditor-dragging");q.preventDefault()}},w=function(q){if("function"==typeof a.options.onblur)a.options.onblur(b,
a,q);t(q)},z=function(q){if("function"==typeof a.options.onfocus)a.options.onfocus(b,a,q)};k.addEventListener("mouseup",L);k.addEventListener("mousedown",K);k.addEventListener("mousemove",f);k.addEventListener("keyup",p);k.addEventListener("keydown",y);k.addEventListener("dragstart",x);k.addEventListener("dragenter",D);k.addEventListener("dragover",B);k.addEventListener("drop",E);k.addEventListener("paste",n);k.addEventListener("focus",z);k.addEventListener("blur",w);if("function"==typeof a.options.onload)a.options.onload(b,
a,k);k.innerHTML=d;b.appendChild(k);a.options.snippet&&G(a.options.snippet);null==a.options.toolbar&&(a.options.toolbar=l.editor.getDefaultToolbar());a.options.toolbar&&(l.toolbar(r,{container:!0,items:a.options.toolbar}),b.appendChild(r));a.options.focus&&l.editor.setCursor(k,"initial"==a.options.focus?!0:!1);b.change=a.setData;b.val=function(q){if(void 0===q)return a.getData();a.setData(q)};return b.editor=a};l.editor.setCursor=function(b,c){b.focus();document.execCommand("selectAll");var a=window.getSelection(),
e=a.getRangeAt(0);if(1==c)var d=e.startContainer,g=0;else d=e.endContainer,g=d.length;e.setStart(d,g);e.setEnd(d,g);a.removeAllRanges();a.addRange(e)};l.editor.getDomain=function(b){return b.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(/:/g)[0]};l.editor.detectUrl=function(b){(b=b.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig))&&"www"==b[0].substr(0,3)&&(b[0]="http://"+b[0]);return b};l.editor.youtubeParser=function(b){return(b=
b.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&\?]*).*/))&&11==b[7].length?b[7]:!1};l.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(b,c,a){document.execCommand("bold");document.queryCommandState("bold")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_italic",
onclick:function(b,c,a){document.execCommand("italic");document.queryCommandState("italic")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_underline",onclick:function(b,c,a){document.execCommand("underline");document.queryCommandState("underline")?a.classList.add("selected"):a.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(b,c,a){document.execCommand("insertUnorderedList");document.queryCommandState("insertUnorderedList")?
a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(b,c,a){document.execCommand("insertOrderedList");document.queryCommandState("insertOrderedList")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(b,c,a){document.execCommand("indent",!0,null);document.queryCommandState("indent")?a.classList.add("selected"):a.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent");
document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]};l.files=function(b){b||console.error("No element defined in the arguments of your method");var c={},a=[];c.data=[];c.get=function(){return c.data};c.getNames=function(e){e=e&&e.folder?e.folder:"/media";for(var d={},g=0;g<a.length;g++)if(a[g]&&"blob:"==a[g].src.substr(0,5)){var h=a[g].src.split("/");d[a[g].src]=e+"/"+h[h.length-1]+"."+a[g].getAttribute("data-extension")}return d};c.updateNames=
function(e){e=e&&e.folder?e.folder:"/media";for(var d=0;d<a.length;d++)if(a[d]&&"blob:"==a[d].src.substr(0,5)){var g=a[d].src.split("/");a[d].src=e+"/"+g[g.length-1]+"."+a[d].getAttribute("data-extension")}};c.remove=function(){var e=b.querySelectorAll(".jfile");if(0<e.length)for(var d=0;d<e.length;d++)e[d].getAttribute("src"),e[d].classList.contains("jremove")&&e[d].remove()};c.set=function(){a=[];c.data=[];var e=b.querySelectorAll(".jfile");if(0<e.length){for(var d=0;d<e.length;d++){var g={},h=
e[d].getAttribute("src");e[d].classList.contains("jremove")?g.remove=1:("data:"==h.substr(0,5)?(g.content=h.substr(5),g.extension=e[d].getAttribute("data-extension")):(g.file=h,g.extension=e[d].getAttribute("data-extension"),g.extension||(g.extension=h.substr(h.lastIndexOf(".")+1)),e[d].content&&(g.content=e[d].content)),e[d].getAttribute("data-name")&&(g.name=e[d].getAttribute("data-name")),e[d].getAttribute("data-file")&&(g.file=e[d].getAttribute("data-file")),e[d].getAttribute("data-size")&&(g.size=
e[d].getAttribute("data-size")),e[d].getAttribute("data-date")&&(g.date=e[d].getAttribute("data-date")),e[d].getAttribute("data-cover")&&(g.cover=e[d].getAttribute("data-cover")));a.push(e[d]);c.data.push(g)}return c.data}};c.set();return c};l.form=function(b,c){var a={options:{}},e={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,
onremove:null,onerror:function(g,h){l.alert(h)}},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];a.options.validations||(a.options.validations={});a.options.submitButton||(a.options.submitButton=b.querySelector("input[type=submit]"));a.options.submitButton&&a.options.url&&(a.options.submitButton.onclick=function(){a.save()});a.options.validations.email||(a.options.validations.email=l.validations.email);a.options.validations.length||(a.options.validations.length=l.validations.length);
a.options.validations.required||(a.options.validations.required=l.validations.required);a.setUrl=function(g){a.options.url=g};a.load=function(){l.ajax({url:a.options.url,method:"GET",dataType:"json",success:function(g){if("function"==typeof a.options.onbeforeload){var h=a.options.onbeforeload(b,g);h&&(g=h)}l.form.setElements(b,g);if("function"==typeof a.options.onload)a.options.onload(b,g)}})};a.save=function(){var g=a.validate();if(g)a.options.onerror(b,g);else{var h=l.form.getElements(b,!0);if("function"==
typeof a.options.onbeforesave&&(h=a.options.onbeforesave(b,h),!1===h)){console.log("Onbeforesave returned false");return}l.ajax({url:a.options.url,method:"POST",dataType:"json",data:h,success:function(m){if("function"==typeof a.options.onsave)a.options.onsave(b,h,m);a.reset()}})}};a.remove=function(){if("function"==typeof a.options.onbeforeremove&&!1===a.options.onbeforeremove(b,a))return!1;l.ajax({url:a.options.url,method:"DELETE",dataType:"json",success:function(g){if("function"==typeof a.options.onremove)a.options.onremove(b,
a,g);a.reset()}})};a.validateElement=function(g){var h=!1,m=l.form.getValue(g),u=g.getAttribute("data-validation");if("function"==typeof a.options.validations[u]&&!a.options.validations[u](m,g))g.classList.add("error"),a.options.submitButton&&a.options.submitButton.setAttribute("disabled",!0),h=g.getAttribute("data-error")||"There is an error in the form",g.setAttribute("title",h);else if(g.classList.contains("error")){m=!1;g.classList.remove("error");g.removeAttribute("title");g=b.querySelectorAll("input, select, textarea, div[name]");
for(u=0;u<g.length;u++)g[u].getAttribute("data-validation")&&g[u].classList.contains("error")&&(m=!0);a.options.submitButton&&(m?a.options.submitButton.setAttribute("disabled",!0):a.options.submitButton.removeAttribute("disabled"))}return h};a.reset=function(){for(var g=b.querySelectorAll("input, select, textarea, div[name]"),h=0;h<g.length;h++)"checkbox"==g[h].type||"radio"==g[h].type?g[h].removeAttribute("checked"):"function"==typeof g[h].val?g[h].val(""):g[h].value=""};a.validate=function(){for(var g=
[],h=b.querySelectorAll("input, select, textarea, div[name]"),m=0;m<h.length;m++)if(h[m].getAttribute("data-validation")){var u=a.validateElement(h[m]);u&&g.push(u)}return 0<g.length?g.join("<br>"):!1};a.getError=function(){return a.validation()?!0:!1};a.setHash=function(){return a.getHash(l.form.getElements(b))};a.getHash=function(g){var h=0,m;if(0!==g.length)for(m=0;m<g.length;m++){var u=g.charCodeAt(m);h=(h<<5)-h+u;h|=0}return h};a.isChanged=function(){var g=a.setHash();return a.options.currentHash!=
g};a.resetTracker=function(){a.options.currentHash=a.setHash();a.options.ignore=!1};a.reset=function(){a.options.currentHash=a.setHash();a.options.ignore=!1};a.setIgnore=function(g){a.options.ignore=g?!0:!1};setTimeout(function(){a.options.currentHash=a.setHash()},1E3);b.addEventListener("keyup",function(g){g.target.getAttribute("data-validation")&&a.validateElement(g.target)});l.form.hasEvents||(window.addEventListener("beforeunload",function(g){if(a.isChanged()&&0==a.options.ignore){var h=a.options.message?
a.options.message:"o/";if(h)return"undefined"==typeof g&&(g=window.event),g&&(g.returnValue=h),h}}),l.form.hasEvents=!0);return b.form=a};l.form.getValue=function(b){var c=null;if("checkbox"==b.type)1==b.checked&&(c=b.value||!0);else if("radio"==b.type)1==b.checked&&(c=b.value);else if("select"==b.tagName&&1==b.multiple){c=[];b=b.querySelectorAll("options[selected]");for(var a=0;a<b.length;a++)c.push(b[a].value)}else c="function"==typeof b.val?b.val():b.value||"";return c};l.form.getElements=function(b,
c){for(var a={},e,d=b.querySelectorAll("input, select, textarea, div[name]"),g=0;g<d.length;g++)if(e=d[g].getAttribute("name"))a[e]=l.form.getValue(d[g])||"";e=l.files(b);e.get()&&(a.files=e.get());return 1==c?a:JSON.stringify(a)};l.form.setElements=function(b,c){for(var a,e=b.querySelectorAll("input, select, textarea, div[name]"),d=0;d<e.length;d++){a=e[d].getAttribute("name");var g=e[d].getAttribute("type");a&&(a=a.replace(new RegExp(/\[(.*?)\]/ig),".$1"),a=l.path.call(c,a)||"","checkbox"==g||"radio"==
g?e[d].checked=a?!0:!1:"function"==typeof e[d].val?e[d].val(a):e[d].value=a)}};l.tracker=l.form;l.focus=function(b){if(b.innerText.length){var c=document.createRange(),a=window.getSelection(),e=b.childNodes[b.childNodes.length-1];c.setStart(e,e.length);c.collapse(!0);a.removeAllRanges();a.addRange(c);b.scrollLeft=b.scrollWidth}};l.isNumeric=function(b){return!isNaN(b)&&null!==b&&""!==b};l.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=16*Math.random()|
0;return("x"==b?c:c&3|8).toString(16)})};l.hash=function(b){var c=0,a;if(0!==b.length)for(a=0;a<b.length;a++){var e=b.charCodeAt(a);32<e&&(c=(c<<5)-c+e,c|=0)}return c};l.randomColor=function(b){var c=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");6>c.length&&(c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]);var a=[],e;for(e=0;3>e;e++){var d=parseInt(c.substr(2*e,2),16);d=Math.round(Math.min(Math.max(0,d+-.25*d),255)).toString(16);a.push(("00"+d).substr(d.length))}return 1==
b?"#"+l.two(a[0].toString(16))+l.two(a[1].toString(16))+l.two(a[2].toString(16)):a};l.getWindowWidth=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerWidth||a.clientWidth||c.clientWidth};l.getWindowHeight=function(){var b=window,c=document,a=c.documentElement;c=c.getElementsByTagName("body")[0];return b.innerHeight||a.clientHeight||c.clientHeight};l.getPosition=function(b){if(b.changedTouches&&b.changedTouches[0]){var c=b.changedTouches[0].pageX;
b=b.changedTouches[0].pageY}else c=window.Event?b.pageX:b.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),b=window.Event?b.pageY:b.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[c,b]};l.click=function(b){if(b.click)b.click();else{var c=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});b.dispatchEvent(c)}};l.findElement=function(b,c){function a(d){d&&!e&&("function"==
typeof c?e=c(d):"string"==typeof c&&d.classList&&d.classList.contains(c)&&(e=d));d.parentNode&&!e&&a(d.parentNode)}var e=!1;a(b);return e};l.two=function(b){b=""+b;1==b.length&&(b="0"+b);return b};l.sha512=function(b){function c(w,z){this.highOrder=w;this.lowOrder=z}function a(w,z){var q=(w.lowOrder&65535)+(z.lowOrder&65535);var v=(w.lowOrder>>>16)+(z.lowOrder>>>16)+(q>>>16);var A=(v&65535)<<16|q&65535;q=(w.highOrder&65535)+(z.highOrder&65535)+(v>>>16);v=(w.highOrder>>>16)+(z.highOrder>>>16)+(q>>>
16);return new c((v&65535)<<16|q&65535,A)}function e(w,z,q,v){var A=(w.lowOrder&65535)+(z.lowOrder&65535)+(q.lowOrder&65535)+(v.lowOrder&65535);var F=(w.lowOrder>>>16)+(z.lowOrder>>>16)+(q.lowOrder>>>16)+(v.lowOrder>>>16)+(A>>>16);var J=(F&65535)<<16|A&65535;A=(w.highOrder&65535)+(z.highOrder&65535)+(q.highOrder&65535)+(v.highOrder&65535)+(F>>>16);F=(w.highOrder>>>16)+(z.highOrder>>>16)+(q.highOrder>>>16)+(v.highOrder>>>16)+(A>>>16);return new c((F&65535)<<16|A&65535,J)}function d(w,z,q,v,A){var F=
(w.lowOrder&65535)+(z.lowOrder&65535)+(q.lowOrder&65535)+(v.lowOrder&65535)+(A.lowOrder&65535);var J=(w.lowOrder>>>16)+(z.lowOrder>>>16)+(q.lowOrder>>>16)+(v.lowOrder>>>16)+(A.lowOrder>>>16)+(F>>>16);var M=(J&65535)<<16|F&65535;F=(w.highOrder&65535)+(z.highOrder&65535)+(q.highOrder&65535)+(v.highOrder&65535)+(A.highOrder&65535)+(J>>>16);J=(w.highOrder>>>16)+(z.highOrder>>>16)+(q.highOrder>>>16)+(v.highOrder>>>16)+(A.highOrder>>>16)+(F>>>16);return new c((J&65535)<<16|F&65535,M)}function g(w,z){return 32>=
z?new c(w.highOrder>>>z|w.lowOrder<<32-z,w.lowOrder>>>z|w.highOrder<<32-z):new c(w.lowOrder>>>z|w.highOrder<<32-z,w.highOrder>>>z|w.lowOrder<<32-z)}function h(w){var z=g(w,28),q=g(w,34);w=g(w,39);return new c(z.highOrder^q.highOrder^w.highOrder,z.lowOrder^q.lowOrder^w.lowOrder)}function m(w){var z=g(w,14),q=g(w,18);w=g(w,41);return new c(z.highOrder^q.highOrder^w.highOrder,z.lowOrder^q.lowOrder^w.lowOrder)}function u(w){var z=g(w,1),q=g(w,8);w=k(w,7);return new c(z.highOrder^q.highOrder^w.highOrder,
z.lowOrder^q.lowOrder^w.lowOrder)}function r(w){var z=g(w,19),q=g(w,61);w=k(w,6);return new c(z.highOrder^q.highOrder^w.highOrder,z.lowOrder^q.lowOrder^w.lowOrder)}function k(w,z){return 32>=z?new c(w.highOrder>>>z,w.lowOrder>>>z|w.highOrder<<32-z):new c(0,w.highOrder<<32-z)}var t=[new c(1779033703,4089235720),new c(3144134277,2227873595),new c(1013904242,4271175723),new c(2773480762,1595750129),new c(1359893119,2917565137),new c(2600822924,725511199),new c(528734635,4215389547),new c(1541459225,
327033209)],C=[new c(1116352408,3609767458),new c(1899447441,602891725),new c(3049323471,3964484399),new c(3921009573,2173295548),new c(961987163,4081628472),new c(1508970993,3053834265),new c(2453635748,2937671579),new c(2870763221,3664609560),new c(3624381080,2734883394),new c(310598401,1164996542),new c(607225278,1323610764),new c(1426881987,3590304994),new c(1925078388,4068182383),new c(2162078206,991336113),new c(2614888103,633803317),new c(3248222580,3479774868),new c(3835390401,2666613458),
new c(4022224774,944711139),new c(264347078,2341262773),new c(604807628,2007800933),new c(770255983,1495990901),new c(1249150122,1856431235),new c(1555081692,3175218132),new c(1996064986,2198950837),new c(2554220882,3999719339),new c(2821834349,766784016),new c(2952996808,2566594879),new c(3210313671,3203337956),new c(3336571891,1034457026),new c(3584528711,2466948901),new c(113926993,3758326383),new c(338241895,168717936),new c(666307205,1188179964),new c(773529912,1546045734),new c(1294757372,1522805485),
new c(1396182291,2643833823),new c(1695183700,2343527390),new c(1986661051,1014477480),new c(2177026350,1206759142),new c(2456956037,344077627),new c(2730485921,1290863460),new c(2820302411,3158454273),new c(3259730800,3505952657),new c(3345764771,106217008),new c(3516065817,3606008344),new c(3600352804,1432725776),new c(4094571909,1467031594),new c(275423344,851169720),new c(430227734,3100823752),new c(506948616,1363258195),new c(659060556,3750685593),new c(883997877,3785050280),new c(958139571,
3318307427),new c(1322822218,3812723403),new c(1537002063,2003034995),new c(1747873779,3602036899),new c(1955562222,1575990012),new c(2024104815,1125592928),new c(2227730452,2716904306),new c(2361852424,442776044),new c(2428436474,593698344),new c(2756734187,3733110249),new c(3204031479,2999351573),new c(3329325298,3815920427),new c(3391569614,3928383900),new c(3515267271,566280711),new c(3940187606,3454069534),new c(4118630271,4000239992),new c(116418474,1914138554),new c(174292421,2731055270),new c(289380356,
3203993006),new c(460393269,320620315),new c(685471733,587496836),new c(852142971,1086792851),new c(1017036298,365543100),new c(1126000580,2618297676),new c(1288033470,3409855158),new c(1501505948,4234509866),new c(1607167915,987167468),new c(1816402316,1246189591)],H=Array(64),G;b=unescape(encodeURIComponent(b));var I=8*b.length;b=function(w){for(var z=[],q=8*w.length,v=0;v<q;v+=8)z[v>>5]|=(w.charCodeAt(v/8)&255)<<24-v%32;return z}(b);b[I>>5]|=128<<24-I%32;b[(I+128>>10<<5)+31]=I;for(I=0;I<b.length;I+=
32){var L=t[0];var K=t[1];var f=t[2];var p=t[3];var y=t[4];var n=t[5];var x=t[6];var D=t[7];for(G=0;80>G;G++){H[G]=16>G?new c(b[2*G+I],b[2*G+I+1]):e(r(H[G-2]),H[G-7],u(H[G-15]),H[G-16]);var B=d(D,m(y),new c(y.highOrder&n.highOrder^~y.highOrder&x.highOrder,y.lowOrder&n.lowOrder^~y.lowOrder&x.lowOrder),C[G],H[G]);var E=a(h(L),new c(L.highOrder&K.highOrder^L.highOrder&f.highOrder^K.highOrder&f.highOrder,L.lowOrder&K.lowOrder^L.lowOrder&f.lowOrder^K.lowOrder&f.lowOrder));D=x;x=n;n=y;y=a(p,B);p=f;f=K;
K=L;L=a(B,E)}t[0]=a(L,t[0]);t[1]=a(K,t[1]);t[2]=a(f,t[2]);t[3]=a(p,t[3]);t[4]=a(y,t[4]);t[5]=a(n,t[5]);t[6]=a(x,t[6]);t[7]=a(D,t[7])}b=[];for(I=0;I<t.length;I++)b.push(t[I].highOrder),b.push(t[I].lowOrder);return function(w){for(var z="",q=4*w.length,v,A=0;A<q;A+=1)v=w[A>>2]>>8*(3-A%4),z+="0123456789abcdef".charAt(v>>4&15)+"0123456789abcdef".charAt(v&15);return z}(b)};l.login||(l.login={},l.login.sha512=l.sha512);l.image=function(b,c){var a={options:{}},e={input:!1,minWidth:!1,maxWidth:null,maxHeight:null,
maxJpegSizeBytes:null,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];b.classList.add("jupload");1==a.options.input&&b.classList.add("input");a.addImage=function(h){return l.image.create(h)};a.addImages=function(h){1==a.options.singleFile&&(b.innerHTML="");for(var m=0;m<h.length;m++)b.appendChild(a.addImage(h[m]))};
a.addFromFile=function(h){if("image"==h.type.split("/")[0]){1==a.options.singleFile&&(b.innerHTML="");var m=new FileReader;m.addEventListener("load",function(u){var r=new Image;r.onload=function(){var k=document.createElement("canvas");k.width=r.width;k.height=r.height;k.getContext("2d").drawImage(r,0,0,k.width,k.height);k={file:a.getDataURL(k,h.type),extension:h.name.substr(h.name.lastIndexOf(".")+1),name:h.name,size:h.size,lastmodified:h.lastModified};if("data:"==this.src.substr(0,5)){var t=this.src.split(",");
k.content=t[1]}t=a.addImage(k);b.appendChild(t);if("function"==typeof a.options.onchange)a.options.onchange(t,k)};r.src=u.srcElement.result});m.readAsDataURL(h)}else alert(text.extentionNotAllowed)};a.addFromUrl=function(h){if("data"==h.substr(0,4)||a.options.remoteParser){if("data"==h.substr(0,4)){var m=h.split(";");m=m[0].split("/");m=m[1]}else m=h.substr(h.lastIndexOf(".")+1),h=a.options.remoteParser+h;var u=new Image;u.onload=function(){var r=document.createElement("canvas");r.width=u.width;r.height=
u.height;r.getContext("2d").drawImage(u,0,0,r.width,r.height);r.toBlob(function(k){k={file:window.URL.createObjectURL(k),extension:m};k.content=r.toDataURL();k.content=k.content.split(",");k.content=k.content[1];var t=a.addImage(k);b.appendChild(t);if("function"==typeof a.options.onchange)a.options.onchange(t,k)})};u.src=h}else console.error("remoteParser not defined in your initialization")};a.getCanvas=function(h){var m=document.createElement("canvas"),u=Math.min((a.options.maxWidth||h.width)/h.width,
(a.options.maxHeight||h.height)/h.height,1);m.width=h.width*u;m.height=h.height*u;return m};a.getDataURL=function(h,m){for(var u=.92,r=null,k=h.toDataURL(m,u);a.options.maxJpegSizeBytes&&"image/jpeg"===m&&k.length>a.options.maxJpegSizeBytes&&k.length!==r;)u*=.9,r=k.length,k=h.toDataURL(m,u);return k};var g=document.createElement("input");g.type="file";g.setAttribute("accept","image/*");g.onchange=function(){for(var h=0;h<this.files.length;h++)a.addFromFile(this.files[h])};b.addEventListener("click",
function(h){l.click(g)});b.addEventListener("dragenter",function(h){b.style.border="1px dashed #000"});b.addEventListener("dragleave",function(h){b.style.border="1px solid #eee"});b.addEventListener("dragstop",function(h){b.style.border="1px solid #eee"});b.addEventListener("dragover",function(h){h.preventDefault()});b.addEventListener("drop",function(h){h.preventDefault();h.stopPropagation();var m=(h.originalEvent||h).dataTransfer.getData("text/html");if((h.originalEvent||h).dataTransfer.files.length)for(m=
0;m<h.dataTransfer.files.length;m++)a.addFromFile(h.dataTransfer.files[m]);else if(m&&(1==a.options.singleFile&&(b.innerHTML=""),h=document.createElement("div"),h.innerHTML=m,h=h.querySelectorAll("img"),h.length))for(m=0;m<h.length;m++)a.addFromUrl(h[m].src);b.style.border="1px solid #eee";return!1});return b.image=a};l.image.create=function(b){b.date||(b.date="");var c=document.createElement("img");c.setAttribute("data-date",b.lastmodified?b.lastmodified:b.date);c.setAttribute("data-name",b.name);
c.setAttribute("data-size",b.size);c.setAttribute("data-small",b.small?b.small:"");c.setAttribute("data-cover",b.cover?1:0);c.setAttribute("data-extension",b.extension);c.setAttribute("src",b.file);c.className="jfile";c.style.width="100%";b.content&&(c.content=b.content);return c};l.lazyLoading=function(b,c){c.loadUp&&"function"==typeof c.loadUp||(c.loadUp=function(){return!1});c.loadDown&&"function"==typeof c.loadDown||(c.loadDown=function(){return!1});c.timer||(c.timer=100);var a=null,e=function(d){null==
a&&(d=b.scrollTop,b.scrollTop+2*b.clientHeight>=b.scrollHeight?c.loadDown()&&d==b.scrollTop&&(b.scrollTop-=b.clientHeight):b.scrollTop<=b.clientHeight&&c.loadUp()&&d==b.scrollTop&&(b.scrollTop+=b.clientHeight),a=setTimeout(function(){a=null},c.timer))};b.onscroll=function(d){e(d)};b.onwheel=function(d){e(d)};return{}};l.loading=function(){var b={},c=null;b.show=function(){c||(c=document.createElement("div"),c.className="jloading");document.body.appendChild(c)};b.hide=function(){c&&c.parentNode&&document.body.removeChild(c)};
return b}();l.mask=function(){var b={},c=0,a=[],e=[];b.run=function(d,g,h){if(d.toString().length&&g.toString().length){"undefined"==typeof h&&(h=".");if(l.isNumeric(d)){var m="number"==typeof d?(""+d).split("."):(""+d).split(h);d=m[0];m=m[1]}else d=""+d;c=0;a=[];b.prepare(g);if(d)for(g=0;g<d.length;g++)null!=d[g]&&b.process(d[g]);if(m&&(b.process(h),d=m))for(g=0;g<d.length;g++)null!=d[g]&&b.process(d[g]);return a.join("")}return""};b.apply=function(d){if(d.target&&!d.target.getAttribute("readonly")){var g=
d.target.getAttribute("data-mask");if(g&&d.key&&2>d.key.length){c=0;a=[];b.prepare(g);g="";"DIV"==d.target.tagName?d.target.innerText&&(g=(g=window.getSelection())&&g.anchorOffset!=g.focusOffset?d.target.innerText.substring(0,g.anchorOffset>g.focusOffset?g.focusOffset:g.anchorOffset):d.target.innerText):g=d.target.selectionStart<d.target.selectionEnd?d.target.value.substring(0,d.target.selectionStart):d.target.value;if(g)for(var h=0;h<g.length;h++)null!=g[h]&&b.process(g[h]);b.process(d.key);d.preventDefault();
g=a.join("");"DIV"==d.target.tagName?g!=d.target.innerText&&(d.target.innerText=g,l.focus(d.target)):d.target.value=g;e.length==a.length&&e[e.length-1].length==a[a.length-1].length?d.target.setAttribute("data-completed","true"):d.target.setAttribute("data-completed","false")}}};b.process=function(d){do{if("mm"==e[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&2>a[c]&&3>parseInt(d)||0==a[c]&&10>a[c]?(a[c]+=d,c++,!0):!1;if("dd"==
e[c])return null==a[c]||""==a[c]?3<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:3==a[c]&&2>parseInt(d)||3>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh24"==e[c])return null==a[c]||""==a[c]?2<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:2==a[c]&&4>parseInt(d)||2>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("hh"==e[c])return null==a[c]||""==a[c]?1<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:1==a[c]&&
3>parseInt(d)||1>a[c]&&10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("mi"==e[c]||"ss"==e[c])return null==a[c]||""==a[c]?5<parseInt(d)&&10>parseInt(d)?(a[c]="0"+d,c++,!0):10>parseInt(d)?(a[c]=d,!0):!1:10>parseInt(d)?(a[c]+=d,c++,!0):!1;if("yy"==e[c]||"yyyy"==e[c])return 10>parseInt(d)?(a[c]=null==a[c]||""==a[c]?d:a[c]+d,a[c].length==e[c].length&&c++,!0):!1;if("#"==e[c]||"#.##"==e[c]||"#,##"==e[c]||"# ##"==e[c]||"#'##"==e[c]){if(d.match(/[0-9]/g)){var g="#.##"==e[c]?".":"#,##"==e[c]?",":"# ##"==e[c]?" ":"#'##"==
e[c]?"'":"";if(null==a[c]||""==a[c])a[c]=d;else if(a[c]+=d,g){a[c]=a[c].match(/[0-9]/g).join("");d=[];for(var h=0,m=a[c].length-1;0<=m;m--)d.push(a[c][m]),h++,h%3||d.push(g);d=d.reverse();a[c]=d.join("");a[c].substr(0,1)==g&&(a[c]=a[c].substr(1))}return!0}if(!("#.##"==e[c]&&"."==d||"#,##"==e[c]&&","==d||"# ##"==e[c]&&" "==d||"#'##"==e[c]&&"'"==d)&&a[c]&&(c++,e[c])){if(e[c]==d)return a[c]=d,!0;if("0"==e[c]&&e[c+1]==d)return c++,a[c]=d,!0}return!1}if("0"==e[c])return d.match(/[0-9]/g)?(a[c]=d,c++,!0):
!1;if("a"==e[c])return d.match(/[a-zA-Z]/g)?(a[c]=d,c++,!0):!1;if(null!=e[c]&&(g="\\a"==e[c]?"a":"\\0"==e[c]?"0":"[-]"==e[c]?"-"==d||"+"==d?d:" ":e[c],a[c]=g,d==g))return c++,!0;c++}while(e[c])};b.prepare=function(d){e=[];for(var g=0;g<d.length;g++)d[g].match(/[0-9]|[a-z]|\\/g)?"y"==d[g]&&"y"==d[g+1]&&"y"==d[g+2]&&"y"==d[g+3]?(e.push("yyyy"),g+=3):"y"==d[g]&&"y"==d[g+1]?(e.push("yy"),g++):"m"==d[g]&&"m"==d[g+1]&&"m"==d[g+2]&&"m"==d[g+3]?(e.push("mmmm"),g+=3):"m"==d[g]&&"m"==d[g+1]&&"m"==d[g+2]?(e.push("mmm"),
g+=2):"m"==d[g]&&"m"==d[g+1]?(e.push("mm"),g++):"d"==d[g]&&"d"==d[g+1]?(e.push("dd"),g++):"h"==d[g]&&"h"==d[g+1]&&"2"==d[g+2]&&"4"==d[g+3]?(e.push("hh24"),g+=3):"h"==d[g]&&"h"==d[g+1]?(e.push("hh"),g++):"m"==d[g]&&"i"==d[g+1]?(e.push("mi"),g++):"s"==d[g]&&"s"==d[g+1]?(e.push("ss"),g++):"a"==d[g]&&"m"==d[g+1]?(e.push("am"),g++):"p"==d[g]&&"m"==d[g+1]?(e.push("pm"),g++):"\\"==d[g]&&"0"==d[g+1]?(e.push("\\0"),g++):"\\"==d[g]&&"a"==d[g+1]?(e.push("\\a"),g++):e.push(d[g]):"#"==d[g]&&"."==d[g+1]&&"#"==
d[g+2]&&"#"==d[g+3]?(e.push("#.##"),g+=3):"#"==d[g]&&","==d[g+1]&&"#"==d[g+2]&&"#"==d[g+3]?(e.push("#,##"),g+=3):"#"==d[g]&&" "==d[g+1]&&"#"==d[g+2]&&"#"==d[g+3]?(e.push("# ##"),g+=3):"#"==d[g]&&"'"==d[g+1]&&"#"==d[g+2]&&"#"==d[g+3]?(e.push("#'##"),g+=3):"["==d[g]&&"-"==d[g+1]&&"]"==d[g+2]?(e.push("[-]"),g+=2):e.push(d[g])};"undefined"!==typeof document&&document.addEventListener("keydown",b.apply);return b}();l.modal=function(b,c){var a={options:{}},e={url:null,onopen:null,onclose:null,closed:!1,
width:null,height:null,title:null,padding:null},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];!a.options.title&&b.getAttribute("title")&&(a.options.title=b.getAttribute("title"));for(e=document.createElement("div");b.children[0];)e.appendChild(b.children[0]);a.content=document.createElement("div");a.content.className="jmodal_content";for(a.content.innerHTML=b.innerHTML;e.children[0];)a.content.appendChild(e.children[0]);a.container=document.createElement("div");a.container.className=
"jmodal";a.container.appendChild(a.content);a.options.padding&&(a.content.style.padding=a.options.padding);a.options.width&&(a.container.style.width=a.options.width);a.options.height&&(a.container.style.height=a.options.height);a.options.title?a.container.setAttribute("title",a.options.title):a.container.classList.add("no-title");b.innerHTML="";b.style.display="none";b.appendChild(a.container);var g=document.createElement("div");g.className="jmodal_backdrop";g.onclick=function(){a.close()};b.appendChild(g);
a.open=function(){b.style.display="block";var h=a.container.getBoundingClientRect();l.getWindowWidth()<h.width?(a.container.style.top="",a.container.style.left="",a.container.classList.add("jmodal_fullscreen"),l.animation.slideBottom(a.container,1)):g.style.display="block";l.modal.current=a;if("function"==typeof a.options.onopen)a.options.onopen(b,a)};a.resetPosition=function(){a.container.style.top="";a.container.style.left=""};a.isOpen=function(){return"none"!=b.style.display?!0:!1};a.close=function(){b.style.display=
"none";g.style.display="";l.modal.current=null;a.container.classList.remove("jmodal_fullscreen");if("function"==typeof a.options.onclose)a.options.onclose(b,a)};l.modal.hasEvents||(l.modal.current=a,!0==="ontouchstart"in document.documentElement?document.addEventListener("touchstart",l.modal.mouseDownControls):(document.addEventListener("mousedown",l.modal.mouseDownControls),document.addEventListener("mousemove",l.modal.mouseMoveControls),document.addEventListener("mouseup",l.modal.mouseUpControls)),
document.addEventListener("keydown",l.modal.keyDownControls),l.modal.hasEvents=!0);a.options.url?l.ajax({url:a.options.url,method:"GET",dataType:"text/html",success:function(h){a.content.innerHTML=h;a.options.closed||a.open()}}):a.options.closed||a.open();return b.modal=a};l.modal.current=null;l.modal.position=null;l.modal.keyDownControls=function(b){27==b.which&&l.modal.current&&l.modal.current.close()};l.modal.mouseUpControls=function(b){l.modal.current&&(l.modal.current.container.style.cursor=
"auto");l.modal.position=null};l.modal.mouseMoveControls=function(b){if(l.modal.current&&l.modal.position)if(1==b.which||3==b.which){var c=l.modal.position;l.modal.current.container.style.top=c[1]+(b.clientY-c[3])+c[5]/2+"px";l.modal.current.container.style.left=c[0]+(b.clientX-c[2])+c[4]/2+"px";l.modal.current.container.style.cursor="move"}else l.modal.current.container.style.cursor="auto"};l.modal.mouseDownControls=function(b){l.modal.position=[];b.target.classList.contains("jmodal")&&setTimeout(function(){var c=
b.target.getBoundingClientRect();if(b.changedTouches&&b.changedTouches[0])var a=b.changedTouches[0].clientX,e=b.changedTouches[0].clientY;else a=b.clientX,e=b.clientY;50>c.width-(a-c.left)&&50>e-c.top?setTimeout(function(){l.modal.current.close()},100):b.target.getAttribute("title")&&50>e-c.top&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),l.modal.position=[c.left,c.top,b.clientX,b.clientY,c.width,c.height])},100)};l.notification=function(b){var c=
{options:{}},a={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4E3,autoHide:!0,closeable:!0};for(d in a)b&&b.hasOwnProperty(d)?c.options[d]=b[d]:c.options[d]=a[d];var e=document.createElement("div");e.className="jnotification";c.options.error&&e.classList.add("jnotification-error");b=document.createElement("div");b.className="jnotification-container";e.appendChild(b);a=document.createElement("div");a.className="jnotification-header";b.appendChild(a);var d=document.createElement("div");
d.className="jnotification-image";a.appendChild(d);if(c.options.icon){var g=document.createElement("img");g.src=c.options.icon;d.appendChild(g)}d=document.createElement("div");d.className="jnotification-name";d.innerHTML=c.options.name;a.appendChild(d);1==c.options.closeable&&(d=document.createElement("div"),d.className="jnotification-close",d.onclick=function(){c.hide()},a.appendChild(d));d=document.createElement("div");d.className="jnotification-date";a.appendChild(d);a=document.createElement("div");
a.className="jnotification-content";b.appendChild(a);c.options.title&&(b=document.createElement("div"),b.className="jnotification-title",b.innerHTML=c.options.title,a.appendChild(b));b=document.createElement("div");b.className="jnotification-message";b.innerHTML=c.options.message;a.appendChild(b);c.show=function(){document.body.appendChild(e);800<l.getWindowWidth()?l.animation.fadeIn(e):l.animation.slideTop(e,1)};c.hide=function(){800<l.getWindowWidth()?l.animation.fadeOut(e,function(){e.parentNode&&
(e.parentNode.removeChild(e),h&&clearTimeout(h))}):l.animation.slideTop(e,0,function(){e.parentNode&&(e.parentNode.removeChild(e),h&&clearTimeout(h))})};c.show();if(1==c.options.autoHide)var h=setTimeout(function(){c.hide()},c.options.timeout);800>l.getWindowWidth()&&e.addEventListener("swipeup",function(m){c.hide();m.preventDefault();m.stopPropagation()});return c};l.notification.isVisible=function(){var b=document.querySelector(".jnotification");return b&&b.parentNode?!0:!1};l.palette=function(b){var c=
{material:["#ffebee #fce4ec #f3e5f5 #e8eaf6 #e3f2fd #e0f7fa #e0f2f1 #e8f5e9 #f1f8e9 #f9fbe7 #fffde7 #fff8e1 #fff3e0 #fbe9e7 #efebe9 #fafafa #eceff1".split(" "),"#ffcdd2 #f8bbd0 #e1bee7 #c5cae9 #bbdefb #b2ebf2 #b2dfdb #c8e6c9 #dcedc8 #f0f4c3 #fff9c4 #ffecb3 #ffe0b2 #ffccbc #d7ccc8 #f5f5f5 #cfd8dc".split(" "),"#ef9a9a #f48fb1 #ce93d8 #9fa8da #90caf9 #80deea #80cbc4 #a5d6a7 #c5e1a5 #e6ee9c #fff59d #ffe082 #ffcc80 #ffab91 #bcaaa4 #eeeeee #b0bec5".split(" "),"#e57373 #f06292 #ba68c8 #7986cb #64b5f6 #4dd0e1 #4db6ac #81c784 #aed581 #dce775 #fff176 #ffd54f #ffb74d #ff8a65 #a1887f #e0e0e0 #90a4ae".split(" "),
"#ef5350 #ec407a #ab47bc #5c6bc0 #42a5f5 #26c6da #26a69a #66bb6a #9ccc65 #d4e157 #ffee58 #ffca28 #ffa726 #ff7043 #8d6e63 #bdbdbd #78909c".split(" "),"#f44336 #e91e63 #9c27b0 #3f51b5 #2196f3 #00bcd4 #009688 #4caf50 #8bc34a #cddc39 #ffeb3b #ffc107 #ff9800 #ff5722 #795548 #9e9e9e #607d8b".split(" "),"#e53935 #d81b60 #8e24aa #3949ab #1e88e5 #00acc1 #00897b #43a047 #7cb342 #c0ca33 #fdd835 #ffb300 #fb8c00 #f4511e #6d4c41 #757575 #546e7a".split(" "),"#d32f2f #c2185b #7b1fa2 #303f9f #1976d2 #0097a7 #00796b #388e3c #689f38 #afb42b #fbc02d #ffa000 #f57c00 #e64a19 #5d4037 #616161 #455a64".split(" "),
"#c62828 #ad1457 #6a1b9a #283593 #1565c0 #00838f #00695c #2e7d32 #558b2f #9e9d24 #f9a825 #ff8f00 #ef6c00 #d84315 #4e342e #424242 #37474f".split(" "),"#b71c1c #880e4f #4a148c #1a237e #0d47a1 #006064 #004d40 #1b5e20 #33691e #827717 #f57f17 #ff6f00 #e65100 #bf360c #3e2723 #212121 #263238".split(" ")],fire:["0b1a6d 840f38 b60718 de030b ff0c0c fd491c fc7521 faa331 fbb535 ffc73a".split(" "),"071147 5f0b28 930513 be0309 ef0000 fa3403 fb670b f9991b faad1e ffc123".split(" "),"03071e 370617 6a040f 9d0208 d00000 dc2f02 e85d04 f48c06 faa307 ffba08".split(" "),
"020619 320615 61040d 8c0207 bc0000 c82a02 d05203 db7f06 e19405 efab00".split(" "),"020515 2d0513 58040c 7f0206 aa0000 b62602 b94903 c57205 ca8504 d89b00".split(" ")],baby:["eddcd2 fff1e6 fde2e4 fad2e1 c5dedd dbe7e4 f0efeb d6e2e9 bcd4e6 99c1de".split(" "),"e1c4b3 ffd5b5 fab6ba f5a8c4 aacecd bfd5cf dbd9d0 baceda 9dc0db 7eb1d5".split(" "),"daa990 ffb787 f88e95 f282a9 8fc4c3 a3c8be cec9b3 9dbcce 82acd2 649dcb".split(" "),"d69070 ff9c5e f66770 f05f8f 74bbb9 87bfae c5b993 83aac3 699bca 4d89c2".split(" "),
"c97d5d f58443 eb4d57 e54a7b 66a9a7 78ae9c b5a67e 7599b1 5c88b7 4978aa".split(" ")]};return c[b]?c[b]:c.material};l.picker=function(b,c){if(b.picker)return b.picker.setOptions(c,!0);var a={type:"picker",options:{}},e=null,d=null,g=function(){d.innerHTML="";for(var h=Object.keys(a.options.data),m=0;m<h.length;m++){var u=document.createElement("div");u.k=h[m];u.v=a.options.data[h[m]];u.innerHTML=a.getLabel(h[m]);u.onclick=function(){a.setValue(this.k);"function"==typeof a.options.onchange&&a.options.onchange.call(a,
b,a,"reserved",this.v,this.k)};d.appendChild(u)}};a.setOptions=function(h,m){var u={value:0,data:null,render:null,onchange:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,content:!1,columns:null};h&&h.options&&(h.data=h.options);for(var r in u)if(h&&h.hasOwnProperty(r))a.options[r]=h[r];else if("undefined"==typeof a.options[r]||!0===m)a.options[r]=u[r];e.style.display=!1===a.options.header?"none":"";e.style.width=a.options.width?parseInt(a.options.width)+"px":
"";0<a.options.columns&&(d.classList.add("jpicker-columns"),d.style.width=a.options.width?a.options.width:36*a.options.columns+"px");isNaN(a.options.value)&&(a.options.value="0");g();a.setValue(a.options.value);return a};a.getValue=function(){return a.options.value};a.setValue=function(h){a.setLabel(h);a.options.value=String(h);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value});"generic"!==d.children[h].getAttribute("type")&&
a.close()};a.getLabel=function(h){h=a.options.data[h]||null;"function"==typeof a.options.render&&(h=a.options.render(h));return h};a.setLabel=function(h){h=a.options.content?'<i class="material-icons">'+a.options.content+"</i>":a.getLabel(h);e.innerHTML=h};a.open=function(){if(!b.classList.contains("jpicker-focus")){l.tracking(a,!0);b.classList.add("jpicker-focus");b.focus();var h=e.getBoundingClientRect(),m=d.getBoundingClientRect();d.style.marginTop=window.innerHeight<h.bottom+m.height?-1*(m.height+
4)+"px":h.height+2+"px";!0===a.options.right&&(d.style.marginLeft=-1*m.width+24+"px");if("function"==typeof a.options.onopen)a.options.onopen(b,a)}};a.close=function(){if(b.classList.contains("jpicker-focus")&&(b.classList.remove("jpicker-focus"),l.tracking(a,!1),"function"==typeof a.options.onclose))a.options.onclose(b,a)};(function(){b.classList.add("jpicker");b.setAttribute("tabindex","900");e=document.createElement("div");e.classList.add("jpicker-header");e.onmouseup=function(h){b.classList.contains("jpicker-focus")?
a.close():a.open()};d=document.createElement("div");d.classList.add("jpicker-content");b.appendChild(e);b.appendChild(d);b.value=c.value||0;a.setOptions(c);if("function"==typeof a.options.onload)a.options.onload(b,a);b.change=a.setValue;b.val=function(h){if(void 0===h)return a.getValue();a.setValue(h)};b.picker=a})();return a};l.progressbar=function(b,c){var a={options:{}},e={value:0,onchange:null,width:null},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];b.classList.add("jprogressbar");
b.setAttribute("tabindex",1);b.setAttribute("data-value",a.options.value);var g=document.createElement("div");g.style.width=a.options.value+"%";g.style.color="#fff";b.appendChild(g);a.options.width&&(b.style.width=a.options.width);a.setValue=function(h){h=parseInt(h);a.options.value=h;g.style.width=h+"%";b.setAttribute("data-value",h+"%");b.style.color=6>h?"#000":"#fff";a.options.value=h;if("function"==typeof a.options.onchange)a.options.onchange(b,h);if(b.value!=a.options.value&&(b.value=a.options.value,
"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})};a.getValue=function(){return a.options.value};e=function(h){if(h.which){var m=b.getBoundingClientRect();a.setValue(Math.round(((h.changedTouches&&h.changedTouches[0]?h.changedTouches[0].clientX:h.clientX)-m.left)/m.width*100))}};!0==="touchstart"in document.documentElement?(b.addEventListener("touchstart",e),b.addEventListener("touchend",e)):(b.addEventListener("mousedown",e),b.addEventListener("mousemove",e));b.change=
a.setValue;b.val=function(h){if(void 0===h)return a.getValue();a.setValue(h)};return b.progressbar=a};l.rating=function(b,c){if(b.rating)return b.rating.setOptions(c,!0);var a={options:{},setOptions:function(e,d){var g={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(h in g)if(e&&e.hasOwnProperty(h))a.options[h]=e[h];else if("undefined"==typeof a.options[h]||!0===d)a.options[h]=g[h];b.innerHTML="";for(g=0;g<a.options.number;g++){var h=document.createElement("div");
h.setAttribute("data-index",g+1);h.setAttribute("title",a.options.tooltip[g]);b.appendChild(h)}if(a.options.value)for(g=0;g<a.options.number;g++)g<a.options.value&&b.children[g].classList.add("jrating-selected");return a},setValue:function(e){for(var d=0;d<a.options.number;d++)d<e?b.children[d].classList.add("jrating-selected"):(b.children[d].classList.remove("jrating-over"),b.children[d].classList.remove("jrating-selected"));a.options.value=e;if("function"==typeof a.options.onchange)a.options.onchange(b,
e);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value})},getValue:function(){return a.options.value}};(function(){a.setOptions(c);b.classList.add("jrating");b.addEventListener("click",function(e){e=e.target.getAttribute("data-index");void 0!=e&&(e==a.options.value?a.setValue(0):a.setValue(e))});b.addEventListener("mouseover",function(e){e=e.target.getAttribute("data-index");for(var d=0;d<a.options.number;d++)d<e?b.children[d].classList.add("jrating-over"):
b.children[d].classList.remove("jrating-over")});b.addEventListener("mouseout",function(e){for(e=0;e<a.options.number;e++)b.children[e].classList.remove("jrating-over")});b.change=a.setValue;b.val=function(e){if(void 0===e)return a.getValue();a.setValue(e)};b.rating=a})();return a};l.slider=function(b,c){var a={options:{},currentImage:null};c&&(a.options=c);a.options.items=[];if(b.classList.contains("jslider"))e=b.querySelector("slider-container");else{b.classList.add("jslider");var e=document.createElement("div");
e.className="jslider-container";if(0<b.children.length)for(var d=0;d<b.children.length;d++)a.options.items.push(b.children[d]);if(0<a.options.items.length)for(d=0;d<a.options.items.length;d++){a.options.items[d].classList.add("jfile");var g=a.options.items[d].src.lastIndexOf("/");0>g?a.options.items[d].setAttribute("data-name",a.options.items[d].src):a.options.items[d].setAttribute("data-name",a.options.items[d].src.substr(g+1));g=a.options.items[d].src.lastIndexOf("/");e.appendChild(a.options.items[d])}b.appendChild(e);
var h=document.createElement("div");h.className="jslider-close";h.innerHTML="";h.onclick=function(){a.close()};b.appendChild(h)}a.show=function(r){r||(r=e.children[0]);e.classList.contains("jslider-preview")||(e.classList.add("jslider-preview"),h.style.display="block");for(var k=0;k<e.children.length;k++)e.children[k].style.display="none";r.style.display="block";r.previousSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left");r.nextSibling?e.classList.add("jslider-right"):e.classList.remove("jslider-right");
a.currentImage=r};a.open=function(){a.show();if("function"==typeof a.options.onopen)a.options.onopen(b)};a.close=function(){e.classList.remove("jslider-preview");e.classList.remove("jslider-left");e.classList.remove("jslider-right");for(var r=0;r<e.children.length;r++)e.children[r].style.display="";h.style.display="";a.currentImage=null;if("function"==typeof a.options.onclose)a.options.onclose(b)};a.reset=function(){e.innerHTML=""};a.addFile=function(r,k){var t=document.createElement("img");t.setAttribute("data-lastmodified",
r.lastmodified);t.setAttribute("data-name",r.name);t.setAttribute("data-size",r.size);t.setAttribute("data-extension",r.extension);t.setAttribute("data-cover",r.cover);t.setAttribute("src",r.file);t.className="jfile";e.appendChild(t);a.options.items.push(t);if(!k&&"function"==typeof a.options.onchange)a.options.onchange(b,r)};a.addFiles=function(r){for(var k=0;k<r.length;k++)a.addFile(r[k])};a.next=function(){a.currentImage.nextSibling&&a.show(a.currentImage.nextSibling)};a.prev=function(){a.currentImage.previousSibling&&
a.show(a.currentImage.previousSibling)};a.getData=function(){return l.files(e).get()};if(a.options.data&&a.options.data.length)for(d=0;d<a.options.data.length;d++)a.options.data[d]&&a.addFile(a.options.data[d]);if(a.options.allowAttachment){var m=document.createElement("input");m.type="file";m.className="slider-attachment";m.setAttribute("accept","image/*");m.style.display="none";m.onchange=function(){for(var r=[],k=0;k<this.files.length;k++)if("image"==this.files[k].type.split("/")[0]){var t=this.files[k].name;
t=t.split(".");t=t[t.length-1];var C={size:this.files[k].size,name:this.files[k].name,extension:t,cover:0,lastmodified:this.files[k].lastModified};r[k]=new FileReader;r[k].addEventListener("load",function(H){C.file=H.target.result;a.addFile(C)},!1);r[k].readAsDataURL(this.files[k])}else alert("The extension is not allowed")};d=document.createElement("i");d.innerHTML="attachment";d.className="jslider-attach material-icons";d.onclick=function(){l.click(m)};b.appendChild(m);b.appendChild(d)}var u=null;
d=function(r){"IMG"==r.target.tagName&&(u=setTimeout(function(){"data"==r.target.src.substr(0,4)?r.target.remove():r.target.classList.contains("jremove")?r.target.classList.remove("jremove"):r.target.classList.add("jremove");if("function"==typeof a.options.onchange)a.options.onchange(b,r.target)},1E3))};g=function(r){u&&clearTimeout(u);"IMG"==r.target.tagName?r.target.classList.contains("jremove")||a.show(r.target):40>r.target.clientWidth-r.offsetX?a.next():40>r.offsetX&&a.prev()};e.addEventListener("mousedown",
d);e.addEventListener("touchstart",d);e.addEventListener("mouseup",g);e.addEventListener("touchend",g);b.addEventListener("swipeleft",function(r){a.next();r.preventDefault();r.stopPropagation()});b.addEventListener("swiperight",function(r){a.prev();r.preventDefault();r.stopPropagation()});l.slider.hasEvents||(document.addEventListener("keydown",function(r){27==r.which&&a.close()}),l.slider.hasEvents=!0);return b.slider=a};l.sorting=function(b,c){var a={};var e={pointer:null,direction:null,ondragstart:null,
ondragend:null,ondrop:null},d=null,g;for(g in e)c&&c.hasOwnProperty(g)?a[g]=c[g]:a[g]=e[g];b.classList.add("jsorting");b.addEventListener("dragstart",function(m){var u=Array.prototype.indexOf.call(m.target.parentNode.children,m.target);d={element:m.target,o:u,d:u};m.target.style.opacity="0.25";if("function"==typeof a.ondragstart)a.ondragstart(b,m.target,m)});b.addEventListener("dragover",function(m){m.preventDefault();h(m.target)&&d&&"true"==m.target.getAttribute("draggable")&&d.element!=m.target&&
((a.direction?m.target.clientWidth/2>m.offsetX:m.target.clientHeight/2>m.offsetY)?m.target.parentNode.insertBefore(d.element,m.target):m.target.parentNode.insertBefore(d.element,m.target.nextSibling),d.d=Array.prototype.indexOf.call(m.target.parentNode.children,d.element))});b.addEventListener("dragleave",function(m){m.preventDefault()});b.addEventListener("dragend",function(m){m.preventDefault();if(d){if("function"==typeof a.ondragend)a.ondragend(b,d.element,m);d.o<d.d?m.target.parentNode.insertBefore(d.element,
m.target.parentNode.children[d.o]):m.target.parentNode.insertBefore(d.element,m.target.parentNode.children[d.o].nextSibling);d.element.style.opacity="";d=null}});b.addEventListener("drop",function(m){m.preventDefault();if(d&&d.o!=d.d&&"function"==typeof a.ondrop)a.ondrop(b,d.o,d.d,d.element,m.target,m);d.element.style.opacity="";d=null});var h=function(m){function u(k){k.className&&k.classList.contains("jsorting")&&(r=!0);r||u(k.parentNode)}var r=!1;u(m);return r};for(e=0;e<b.children.length;e++)b.children[e].hasAttribute("draggable")||
b.children[e].setAttribute("draggable","true");return b};l.tabs=function(b,c){var a={options:{}},e={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null};for(r in e)c&&c.hasOwnProperty(r)?a.options[r]=c[r]:a.options[r]=e[r];b.classList.add("jtabs");var d=null,g=null,h=null,m=function(k){var t=a.headers.children[k].getBoundingClientRect();
"modern"==a.options.palette?(h.style.width=t.width-4+"px",h.style.left=a.headers.children[k].offsetLeft+2+"px"):(h.style.width=t.width+"px",h.style.left=a.headers.children[k].offsetLeft+"px");h.style.bottom="0px"},u=function(k){"function"==typeof a.headers.scrollTo?a.headers.scrollTo({left:k,behavior:"smooth"}):a.headers.scrollLeft=k;1>=k?d.classList.add("disabled"):d.classList.remove("disabled");k>=a.headers.scrollWidth-a.headers.offsetWidth?g.classList.add("disabled"):g.classList.remove("disabled");
a.headers.scrollWidth<=a.headers.offsetWidth?(d.style.display="none",g.style.display="none"):(d.style.display="",g.style.display="")};a.open=function(k){for(var t=null,C=0;C<a.headers.children.length;C++)a.headers.children[C].classList.contains("jtabs-selected")&&(t=C),a.headers.children[C].classList.remove("jtabs-selected"),a.content.children[C]&&a.content.children[C].classList.remove("jtabs-selected");a.headers.children[k].classList.add("jtabs-selected");a.content.children[k]&&a.content.children[k].classList.add("jtabs-selected");
if(t!=k&&"function"==typeof a.options.onchange&&a.content.children[k])a.options.onchange(b,a,k,a.headers.children[k],a.content.children[k]);if(1==a.options.hideHeaders&&3>a.headers.children.length&&0==a.options.allowCreate)a.headers.parentNode.style.display="none";else{1==a.options.animation&&m(k);a.headers.parentNode.style.display="";t=a.headers.children[k].offsetLeft;k=t+a.headers.children[k].offsetWidth;C=a.headers.scrollLeft;var H=C+a.headers.offsetWidth;C<=t&&H>=k||u(t-1)}};a.selectIndex=function(k){k=
Array.prototype.indexOf.call(a.headers.children,k);0<=k&&a.open(k);return k};a.rename=function(k,t){t||(t=prompt("New title",a.headers.children[k].innerText));a.headers.children[k].innerText=t;a.open(k)};a.create=function(k,t){if("function"==typeof a.options.onbeforecreate){var C=a.options.onbeforecreate(b);if(!1===C)return!1;k=C}C=a.appendElement(k);if("function"==typeof a.options.oncreate)a.options.oncreate(b,C);return C};a.remove=function(k){return a.deleteElement(k)};a.nextNumber=function(){for(var k=
0,t=0;t<a.headers.children.length;t++){var C=a.headers.children[t].innerText.match(/[0-9].*/);C>k&&(k=parseInt(C))}k?k++:k=1;return k};a.deleteElement=function(k){if(a.headers.children[k])a.headers.removeChild(a.headers.children[k]),a.content.removeChild(a.content.children[k]);else return!1;a.open(0);if("function"==typeof a.options.ondelete)a.options.ondelete(b,k)};a.appendElement=function(k){k||(k=prompt("Title?",""));if(k){var t=document.createElement("div");a.content.appendChild(t);var C=document.createElement("div");
C.innerHTML=k;C.content=t;a.headers.insertBefore(C,a.headers.lastChild);a.options.allowChangePosition&&C.setAttribute("draggable","true");a.selectIndex(C);return t}};a.getActive=function(){for(var k=0;k<a.headers.children.length;k++)if(a.headers.children[k].classList.contains("jtabs-selected"))return k;return 0};a.updateContent=function(k,t){if("string"===typeof t){var C=document.createElement("div");C.innerHTML=t}a.content.children[k].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected");
a.content.replaceChild(t,a.content.children[k])};a.updatePosition=function(k,t){k>t?a.content.insertBefore(a.content.children[k],a.content.children[t]):a.content.insertBefore(a.content.children[k],a.content.children[t].nextSibling);a.open(t);if("function"==typeof a.options.onchangeposition)a.options.onchangeposition(a.headers,k,t)};a.move=function(k,t){k>t?a.headers.insertBefore(a.headers.children[k],a.headers.children[t]):a.headers.insertBefore(a.headers.children[k],a.headers.children[t].nextSibling);
a.updatePosition(k,t)};a.setBorder=m;a.init=function(){b.innerHTML="";a.headers=document.createElement("div");a.content=document.createElement("div");a.headers.classList.add("jtabs-headers");a.content.classList.add("jtabs-content");a.options.palette?b.classList.add("jtabs-modern"):b.classList.remove("jtabs-modern");a.options.padding&&(a.content.style.padding=parseInt(a.options.padding)+"px");var k=document.createElement("div");k.className="jtabs-headers-container";k.appendChild(a.headers);var t=document.createElement("div");
t.className="jtabs-controls";t.setAttribute("draggable","false");k.appendChild(t);"bottom"==a.options.position?(b.appendChild(a.content),b.appendChild(k)):(b.appendChild(k),b.appendChild(a.content));1==a.options.allowCreate&&(k=document.createElement("div"),k.className="jtabs-add",k.onclick=function(){a.create()},t.appendChild(k));d=document.createElement("div");d.className="jtabs-prev";d.onclick=function(){u(a.headers.scrollLeft-a.headers.offsetWidth)};t.appendChild(d);g=document.createElement("div");
g.className="jtabs-next";g.onclick=function(){u(a.headers.scrollLeft+a.headers.offsetWidth)};t.appendChild(g);for(t=0;t<a.options.data.length;t++){k=a.options.data[t].titleElement?a.options.data[t].titleElement:document.createElement("div");if(a.options.data[t].icon){var C=document.createElement("div"),H=document.createElement("i");H.classList.add("material-icons");H.innerHTML=a.options.data[t].icon;C.appendChild(H);k.appendChild(C)}a.options.data[t].title&&(C=document.createTextNode(a.options.data[t].title),
k.appendChild(C));a.options.data[t].width&&(k.style.width=a.options.data[t].width);a.options.data[t].contentElement?C=a.options.data[t].contentElement:(C=document.createElement("div"),C.innerHTML=a.options.data[t].content);a.headers.appendChild(k);a.content.appendChild(C)}h=document.createElement("div");h.className="jtabs-border";a.headers.appendChild(h);a.options.animation&&b.classList.add("jtabs-animation");a.headers.addEventListener("click",function(G){G=G.target.parentNode.classList.contains("jtabs-headers")?
G.target:"I"==G.target.tagName?G.target.parentNode.parentNode:G.target.parentNode;G=a.selectIndex(G);if("function"==typeof a.options.onclick)a.options.onclick(b,a,G,a.headers.children[G],a.content.children[G])});a.headers.addEventListener("contextmenu",function(G){a.selectIndex(G.target)});a.headers.children.length&&a.open(0);u(0);1==a.options.allowChangePosition&&l.sorting(a.headers,{direction:1,ondrop:function(G,I,L){a.updatePosition(I,L)}});if("function"==typeof a.options.onload)a.options.onload(b,
a)};if(b.children[0]&&b.children[0].children.length)for(e=0;e<b.children[0].children.length;e++){var r=a.options.data&&a.options.data[e]?a.options.data[e]:{};b.children[1]&&b.children[1].children[e]?(r.titleElement=b.children[0].children[e],r.contentElement=b.children[1].children[e]):r.contentElement=b.children[0].children[e];a.options.data[e]=r}r=!1;if(a.options.data)for(e=0;e<a.options.data.length;e++)a.options.data[e].url&&(l.ajax({url:a.options.data[e].url,type:"GET",dataType:"text/html",index:e,
success:function(k){a.options.data[this.index].content=k},complete:function(){a.init()}}),r=!0);r||a.init();return b.tabs=a};l.tags=function(b,c){if(b.tags)return b.tags.setOptions(c,!0);var a={type:"tags",options:{}},e=null,d=null,g=0,h=0;a.setOptions=function(f,p){var y={value:"",limit:null,limitMessage:"The limit of entries is: ",search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null},n;for(n in y)if(f&&f.hasOwnProperty(n))a.options[n]=
f[n];else if("undefined"==typeof a.options[n]||!0===p)a.options[n]=y[n];a.options.placeholder?b.setAttribute("data-placeholder",a.options.placeholder):b.removeAttribute("data-placeholder");b.placeholder=a.options.placeholder;a.setValue(a.options.value);k();return a};a.add=function(f,p){if("function"==typeof a.options.onbeforechange){var y=a.options.onbeforechange(b,a,f);if(!1===y)return!1;null!=y&&(f=y)}e&&(e.style.display="");if(0<a.options.limit&&b.children.length>=a.options.limit)alert(a.options.limitMessage+
" "+a.options.limit);else{y=t();if(f&&"string"!=typeof f){y&&y.parentNode.classList.contains("jtags")&&(y.innerText.replace("\n","")||b.removeChild(y));b.lastChild&&(b.lastChild.innerText.replace("\n","")||b.removeChild(b.lastChild));for(var n=0;n<=f.length;n++)if(!a.options.limit||b.children.length<a.options.limit){if(f[n]&&"string"!=typeof f[n])x=f[n].text,y=f[n].value;else{var x=f[n]||"";y=null}x=u(x,y)}}else x=u(f,f,y);p&&m(x);k();r()}};a.remove=function(f){f.previousSibling?m(f.previousSibling):
m(b.lastChild);f.parentNode.removeChild(f);b.children.length||a.add("",!0)};a.getData=function(){for(var f=[],p=0;p<b.children.length;p++){var y=b.children[p].innerText.replace("\n",""),n=b.children[p].getAttribute("data-value");n||(n=y);(y||n)&&f.push({text:y,value:n})}return f};a.getValue=function(f){var p;if(null!=f)(p=b.children[f].getAttribute("data-value"))||(p=b.children[f].innerText.replace("\n",""));else{f=[];for(var y=0;y<b.children.length;y++)(p=b.children[y].innerText.replace("\n",""))&&
f.push(a.getValue(y));p=f.join(",")}return p};a.setValue=function(f){b.value!=a.options.value&&(f?Array.isArray(f)?a.add(f):(f=(""+f).trim(),f=C(f),b.innerHTML="",a.add(f)):a.reset())};a.reset=function(){b.classList.add("jtags-empty");b.innerHTML="";a.add("")};a.isValid=function(){for(var f=0,p=0;p<b.children.length;p++)b.children[p].classList.contains("jtags_error")&&f++;return 0==f?!0:!1};a.selectIndex=function(f){d="";var p=t();p.innerText=f.getAttribute("data-text");f.getAttribute("data-value")&&
p.setAttribute("data-value",f.getAttribute("data-value"));e&&(e.style.display="",e.innerHTML="");p.classList.remove("jtags_error");a.add("",!0)};a.search=function(f){if(!e){var p=document.createElement("div");p.style.position="relative";b.parentNode.insertBefore(p,b.nextSibling);e=document.createElement("div");e.classList.add("jtags_search");p.appendChild(e);p=function(B){B=B.target.classList.contains("jtags_search_item")?B.target:B.target.parentNode;a.selectIndex(B)};!0==="touchstart"in document.documentElement?
e.addEventListener("touchstart",p):e.addEventListener("mousedown",p)}p=f.innerText;if(p!=d)if(d=p,g=0,Array.isArray(a.options.search)){f=[];for(var y=0;y<a.options.search.length&&10>=f.length;)a.options.search[y].includes(d)&&f.push(a.options.search[y]),y++;e.innerHTML="";if(f.length){e.style.display="block";var n=11>f.length?f.length:10;for(y=0;y<n;y++){if("string"===typeof f[y]){var x=f[y];var D=f[y]}else x=f[1].text,D=f[1].value;p=document.createElement("div");p.setAttribute("data-value",D);p.setAttribute("data-text",
x);p.className="jtags_search_item";0==y&&p.classList.add("selected");D=document.createElement("div");D.innerHTML=x;p.appendChild(D);e.appendChild(p)}}else e.style.display=""}else l.ajax({url:a.options.search+d,method:"GET",dataType:"json",success:function(B){e.innerHTML="";if(B.length){e.style.display="block";for(var E=11>B.length?B.length:10,w=0;w<E;w++){var z=B[w].text;!z&&B[w].name&&(z=B[w].name);var q=B[w].value;!q&&B[w].id&&(q=B[w].id);var v=document.createElement("div");v.setAttribute("data-value",
q);v.setAttribute("data-text",z);v.className="jtags_search_item";0==w&&v.classList.add("selected");q=document.createElement("img");B[w].image?q.src=B[w].image:q.style.display="none";v.appendChild(q);q=document.createElement("div");q.innerHTML=z;v.appendChild(q);e.appendChild(v)}}else e.style.display=""}})};a.destroy=function(){b.removeEventListener("mouseup",K);b.removeEventListener("keydown",G);b.removeEventListener("keyup",I);b.removeEventListener("paste",L);b.parentNode.removeChild(b)};a.open=
function(f){if(!b.classList.contains("jtags-focus")){b.children.length&&!a.getValue(b.children.length-1)||a.options.limit&&!(b.children.length<a.options.limit)||u("");if("function"==typeof a.options.onfocus)a.options.onfocus(b,a,a.getValue());b.classList.add("jtags-focus");l.tracking(a,!0)}};a.close=function(){if(b.classList.contains("jtags-focus")){for(var f=0;f<b.children.length-1;f++)a.getValue(f)||b.removeChild(b.children[f]);r();e&&setTimeout(function(){e.style.display=""},200);b.classList.remove("jtags-focus");
if("function"==typeof a.options.onblur)a.options.onblur(b,a,a.getValue());l.tracking(a,!1)}};var m=function(f){f.focus();l.focus(f)},u=function(f,p,y){var n=document.createElement("div");n.innerHTML=f?f:"";p&&n.setAttribute("data-value",p);n.setAttribute("contenteditable",!0);n.onblur=r;y&&y.parentNode.classList.contains("jtags")?b.insertBefore(n,y.nextSibling):b.appendChild(n);return n},r=function(){var f=a.getValue();if(f!=a.options.value){a.options.value=f;if("function"==typeof a.options.onchange)a.options.onchange(b,
a,a.options.value);if(b.value!=a.options.value&&(b.value=a.options.value,"function"==typeof b.onchange))b.onchange({type:"change",target:b,value:b.value});b.children[0].innerText.trim()?b.classList.remove("jtags-empty"):b.classList.add("jtags-empty")}},k=function(){for(var f=0;f<b.children.length;f++)a.getValue(f)?(b.children[f].classList.add("jtags_label"),"function"==typeof a.options.validation?a.getValue(f)?a.options.validation(b.children[f],b.children[f].innerText,b.children[f].getAttribute("data-value"))?
b.children[f].classList.remove("jtags_error"):b.children[f].classList.add("jtags_error"):b.children[f].classList.remove("jtags_error"):b.children[f].classList.remove("jtags_error")):b.children[f].classList.remove("jtags_label")},t=function(){var f=document.getSelection().anchorNode;return f?3==f.nodeType?f.parentNode:f:null},C=function(f){var p=[],y="";if(f=f.trim()){for(var n=0;n<f.length;n++)","==f[n]||";"==f[n]||"\n"==f[n]?y&&(p.push(y.trim()),y=""):y+=f[n];y&&p.push(y)}return p},H=0,G=function(f){a.open();
H=window.getSelection().anchorOffset;b.children.length||u("");if("Tab"===f.key||";"===f.key||","===f.key){var p=window.getSelection().anchorOffset;1<p&&(!a.options.limit||b.children.length<a.options.limit)&&a.add("",!0);f.preventDefault()}else"Enter"==f.key?(e&&""!=e.style.display?a.selectIndex(e.children[g]):(p=window.getSelection().anchorOffset,1<p&&(!a.options.limit||b.children.length<a.options.limit)&&a.add("",!0)),f.preventDefault()):"ArrowUp"===f.key?e&&""!=e.style.display&&(e.children[g].classList.remove("selected"),
0<g&&g--,e.children[g].classList.add("selected"),f.preventDefault()):"ArrowDown"===f.key?e&&""!=e.style.display&&(e.children[g].classList.remove("selected"),9>g&&g++,e.children[g].classList.add("selected"),f.preventDefault()):"Backspace"==f.key&&1==b.children.length&&1>window.getSelection().anchorOffset&&f.preventDefault()},I=function(f){if(39==f.which){var p=window.getSelection().anchorOffset;1<p&&p==H&&(f.target.nextSibling?f.target.nextSibling.focus():a.add("",!0))}else 37==f.which?0==H&&f.target.previousSibling&&
m(f.target.previousSibling):13!=f.which&&38!=f.which&&40!=f.which&&(46==f.which?f.target.innerText.trim()||(a.remove(f.target),f.preventDefault()):8==f.which?(f.target.innerText.trim()?0==H&&f.target.previousSibling&&m(f.target.previousSibling):a.remove(f.target),f.preventDefault()):46==f.which?(b.children.length||u(""),f.preventDefault()):(h&&clearTimeout(h),h=setTimeout(function(){var y=document.getSelection().anchorNode;(y=3==y.nodeType?y.parentNode:y)&&y.innerText.trim()&&a.options.search&&a.search(y);
h=null},300)));k()},L=function(f){if(f.clipboardData||f.originalEvent.clipboardData){(f.originalEvent||f).clipboardData.getData("text/html");var p=(f.originalEvent||f).clipboardData.getData("text/plain")}else window.clipboardData&&(window.clipboardData.getData("Html"),p=window.clipboardData.getData("Text"));p=C(p);1<p.length&&(a.add(p,!0),f.preventDefault())},K=function(f){if(f.target.parentNode&&f.target.parentNode.classList.contains("jtags")){if(f.target.classList.contains("jtags_label")||f.target.classList.contains("jtags_error")){var p=
f.target.getBoundingClientRect();16>p.width-(f.clientX-p.left)&&a.remove(f.target)}}else f.target.classList.contains("jtags")&&(b.lastChild.innerText.trim()?a.add("",!0):m(b.lastChild));e&&(e.style.display="");a.open()};(function(){!0==="touchend"in document.documentElement?b.addEventListener("touchend",K):b.addEventListener("mouseup",K);b.addEventListener("keydown",G);b.addEventListener("keyup",I);b.addEventListener("paste",L);b.classList.add("jtags");a.setOptions(c);if("function"==typeof a.options.onload)a.options.onload(b,
a);b.change=a.setValue;b.val=function(f){if(void 0===f)return a.getValue();a.setValue(f)};b.tags=a})();return a};l.toolbar=function(b,c){var a={options:{}},e={app:null,container:!1,badge:!1,title:!1,items:[]},d;for(d in e)c&&c.hasOwnProperty(d)?a.options[d]=c[d]:a.options[d]=e[d];!b&&c.app&&c.app.el&&(b=document.createElement("div"),c.app.el.appendChild(b));var g=document.createElement("div");g.classList.add("jtoolbar-item");g.classList.add("jtoolbar-arrow");e=document.createElement("div");e.classList.add("jtoolbar-floating");
g.appendChild(e);a.selectItem=function(u){for(var r=m.children,k=0;k<r.length;k++)u!=r[k]&&r[k].classList.remove("jtoolbar-selected");u.classList.add("jtoolbar-selected")};a.hide=function(){l.animation.slideBottom(b,0,function(){b.style.display="none"})};a.show=function(){b.style.display="";l.animation.slideBottom(b,1)};a.get=function(){return b};a.setBadge=function(u,r){m.children[u].children[1].firstChild.innerHTML=r};a.destroy=function(){toolbar.remove();b.innerHTML=""};var h=function(){this.classList.contains("jtoolbar-active")?
this.classList.remove("jtoolbar-active"):this.classList.add("jtoolbar-active")};a.create=function(u){m.innerHTML="";for(var r=0;r<u.length;r++){var k=document.createElement("div");k.classList.add("jtoolbar-item");u[r].width&&(k.style.width=parseInt(u[r].width)+"px");u[r].k&&(k.k=u[r].k);u[r].tooltip&&k.setAttribute("title",u[r].tooltip);u[r].id&&k.setAttribute("id",u[r].id);u[r].state&&(k.toggleState=h);u[r].active&&k.classList.add("jtoolbar-active");if("select"==u[r].type||"dropdown"==u[r].type)l.picker(k,
u[r]);else if("divisor"==u[r].type)k.classList.add("jtoolbar-divisor");else if("label"==u[r].type)k.classList.add("jtoolbar-label"),k.innerHTML=u[r].content;else{var t=document.createElement("i");if("undefined"===typeof u[r]["class"])t.classList.add("material-icons");else for(var C=u[r]["class"].split(" "),H=0;H<C.length;H++)t.classList.add(C[H]);t.innerHTML=u[r].content?u[r].content:"";k.appendChild(t);1==a.options.badge&&(t=document.createElement("div"),t.classList.add("jbadge"),C=document.createElement("div"),
C.innerHTML=u[r].badge?u[r].badge:"",t.appendChild(C),k.appendChild(t));u[r].title&&(1==a.options.title?(t=document.createElement("span"),t.innerHTML=u[r].title,k.appendChild(t)):k.setAttribute("title",u[r].title));a.options.app&&u[r].route&&(k.route=u[r].route,k.onclick=function(){a.options.app.pages(this.route)},a.options.app.pages(u[r].route,{toolbarItem:k,closed:!0}))}u[r].onclick&&(k.onclick=u[r].onclick.bind(u[r],b,a,k));m.appendChild(k)}};a.resize=function(){b.style.width=b.parentNode.offsetWidth;
m.appendChild(g)};b.classList.add("jtoolbar");1==a.options.container&&b.classList.add("jtoolbar-container");b.innerHTML="";b.onclick=function(u){var r=l.findElement(u.target,"jtoolbar-item");r&&a.selectItem(r);u.target.classList.contains("jtoolbar-arrow")&&(u.target.classList.add("jtoolbar-arrow-selected"),u.target.children[0].focus())};var m=document.createElement("div");b.appendChild(m);a.options.app&&b.classList.add("jtoolbar-mobile");a.create(a.options.items);return b.toolbar=a};l.validations=
{};l.validations.email=function(b){var c=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return b&&c.test(b)?!0:!1};l.validations.length=function(b,c){var a=c.getAttribute("data-length")||5;return b.length>=a?!0:!1};l.validations.required=function(b){return b.trim()?!0:!1};l.validations.number=function(b){return l.isNumber(b)};return l});